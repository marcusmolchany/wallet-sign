/*! For license information please see 3387.093cb6d2.chunk.js.LICENSE.txt */
(self.webpackChunkwallet_sign=self.webpackChunkwallet_sign||[]).push([[3387],{9122:function(e,t,n){"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){var e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},54683:function(e,t){"use strict";function n(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function r(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=r,t.isBrowser=function(){return!n()&&!r()}},67323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3431);r.__exportStar(n(9122),t),r.__exportStar(n(54683),t)},3387:function(e,t,n){"use strict";n.r(t),n.d(t,{EthereumProvider:function(){return nO},OPTIONAL_EVENTS:function(){return zP},OPTIONAL_METHODS:function(){return jP},REQUIRED_EVENTS:function(){return DP},REQUIRED_METHODS:function(){return MP},default:function(){return tO}});var r={};n.r(r),n.d(r,{identity:function(){return xo}});var i={};n.r(i),n.d(i,{base2:function(){return ko}});var o={};n.r(o),n.d(o,{base8:function(){return Zo}});var a={};n.r(a),n.d(a,{base10:function(){return Co}});var s={};n.r(s),n.d(s,{base16:function(){return Eo},base16upper:function(){return Io}});var c={};n.r(c),n.d(c,{base32:function(){return So},base32hex:function(){return _o},base32hexpad:function(){return To},base32hexpadupper:function(){return Ro},base32hexupper:function(){return No},base32pad:function(){return Po},base32padupper:function(){return Oo},base32upper:function(){return Ao},base32z:function(){return Lo}});var u={};n.r(u),n.d(u,{base36:function(){return Bo},base36upper:function(){return Uo}});var l={};n.r(l),n.d(l,{base58btc:function(){return Mo},base58flickr:function(){return jo}});var d={};n.r(d),n.d(d,{base64:function(){return Do},base64pad:function(){return zo},base64url:function(){return qo},base64urlpad:function(){return Ho}});var f={};n.r(f),n.d(f,{base256emoji:function(){return Ko}});var p={};n.r(p),n.d(p,{sha256:function(){return va},sha512:function(){return ga}});var h={};n.r(h),n.d(h,{identity:function(){return ma}});var v={};n.r(v),n.d(v,{code:function(){return ya},decode:function(){return ka},encode:function(){return xa},name:function(){return ba}});var g={};function w(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.r(g),n.d(g,{code:function(){return Ia},decode:function(){return Aa},encode:function(){return Sa},name:function(){return Ea}});var m=n(11752),b=n(61120),y=n(82963),x=n(97326),k=n(60136),Z=n(29388),C=n(98737),E=n(44925);var I=n(1413),S=n(29439),A=n(74165),P=n(15861),O=n(15671),_=n(43144),N=n(93433),T=n(4942),R=n(37762),L=n(47465),B=n.n(L),U=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},M=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},j=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},D=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},z=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},q=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},H=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,W=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],F=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function V(e){return e?G(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new q:"undefined"!==typeof navigator?G(navigator.userAgent):"undefined"!==typeof process&&process.version?new j(process.version.slice(1)):null}function K(e){return""!==e&&W.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1)}function G(e){var t=K(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new z;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=U(U([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var o=i.join("."),a=function(e){for(var t=0,n=F.length;t<n;t++){var r=F[t],i=r[0];if(r[1].exec(e))return i}return null}(e),s=H.exec(e);return s&&s[1]?new D(n,o,a,s[1]):new M(n,o,a)}var $=n(63182),Y=n(29808),J=n(37296),X="2.23.2",Q={getDocsUrl:function(e){var t=e.docsBaseUrl,n=e.docsPath,r=void 0===n?"":n,i=e.docsSlug;return r?"".concat(null!==t&&void 0!==t?t:"https://viem.sh").concat(r).concat(i?"#".concat(i):""):void 0},version:"viem@".concat(X)};var ee=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,O.Z)(this,n);var c=function(){var e;return s.cause instanceof n?s.cause.details:null!==(e=s.cause)&&void 0!==e&&e.message?s.cause.message:s.details}(),u=s.cause instanceof n&&s.cause.docsPath||s.docsPath,l=null===(r=(i=Q).getDocsUrl)||void 0===r?void 0:r.call(i,(0,I.Z)((0,I.Z)({},s),{},{docsPath:u})),d=[e||"An error occurred.",""].concat((0,N.Z)(s.metaMessages?[].concat((0,N.Z)(s.metaMessages),[""]):[]),(0,N.Z)(l?["Docs: ".concat(l)]:[]),(0,N.Z)(c?["Details: ".concat(c)]:[]),(0,N.Z)(Q.version?["Version: ".concat(Q.version)]:[])).join("\n");return a=t.call(this,d,s.cause?{cause:s.cause}:void 0),Object.defineProperty((0,x.Z)(a),"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),a.details=c,a.docsPath=u,a.metaMessages=s.metaMessages,a.name=null!==(o=s.name)&&void 0!==o?o:a.name,a.shortMessage=e,a.version=X,a}return(0,_.Z)(n,[{key:"walk",value:function(e){return te(this,e)}}]),n}((0,C.Z)(Error));function te(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"===typeof e&&"cause"in e&&void 0!==e.cause?te(e.cause,t):t?null:e}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.strict,r=void 0===n||n;return!!e&&("string"===typeof e&&(r?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}var re=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.size,i=e.targetSize,o=e.type;return(0,O.Z)(this,n),t.call(this,"".concat(o.charAt(0).toUpperCase()).concat(o.slice(1).toLowerCase()," size (").concat(r,") exceeds padding size (").concat(i,")."),{name:"SizeExceedsPaddingSizeError"})}return(0,_.Z)(n)}(ee);function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,r=t.size,i=void 0===r?32:r;return"string"===typeof e?oe(e,{dir:n,size:i}):ae(e,{dir:n,size:i})}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,r=t.size,i=void 0===r?32:r;if(null===i)return e;var o=e.replace("0x","");if(o.length>2*i)throw new re({size:Math.ceil(o.length/2),targetSize:i,type:"hex"});return"0x".concat(o["right"===n?"padEnd":"padStart"](2*i,"0"))}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,r=t.size,i=void 0===r?32:r;if(null===i)return e;if(e.length>i)throw new re({size:e.length,targetSize:i,type:"bytes"});for(var o=new Uint8Array(i),a=0;a<i;a++){var s="right"===n;o[s?a:i-a-1]=e[s?a:e.length-a-1]}return o}var se=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.max,i=e.min,o=e.signed,a=e.size,s=e.value;return(0,O.Z)(this,n),t.call(this,'Number "'.concat(s,'" is not in safe ').concat(a?"".concat(8*a,"-bit ").concat(o?"signed":"unsigned"," "):"","integer range ").concat(r?"(".concat(i," to ").concat(r,")"):"(above ".concat(i,")")),{name:"IntegerOutOfRangeError"})}return(0,_.Z)(n)}(ee),ce=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.givenSize,i=e.maxSize;return(0,O.Z)(this,n),t.call(this,"Size cannot exceed ".concat(i," bytes. Given size: ").concat(r," bytes."),{name:"SizeOverflowError"})}return(0,_.Z)(n)}(ee);function ue(e){return ne(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function le(e,t){var n=t.size;if(ue(e)>n)throw new ce({givenSize:ue(e),maxSize:n})}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.signed;t.size&&le(e,{size:t.size});var r=BigInt(e);if(!n)return r;var i=(e.length-2)/2,o=(1n<<8n*BigInt(i)-1n)-1n;return r<=o?r:r-BigInt("0x".concat("f".padStart(2*i,"f")))-1n}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Number(de(e,t))}var pe=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?we(e,t):"string"===typeof e?be(e,t):"boolean"===typeof e?ve(e,t):ge(e,t)}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="0x".concat(Number(e));return"number"===typeof t.size?(le(n,{size:t.size}),ie(n,{size:t.size})):n}function ge(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="",r=0;r<e.length;r++)n+=pe[e[r]];var i="0x".concat(n);return"number"===typeof t.size?(le(i,{size:t.size}),ie(i,{dir:"right",size:t.size})):i}function we(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.signed,i=n.size,o=BigInt(e);i?t=r?(1n<<8n*BigInt(i)-1n)-1n:Math.pow(2n,8n*BigInt(i))-1n:"number"===typeof e&&(t=BigInt(Number.MAX_SAFE_INTEGER));var a="bigint"===typeof t&&r?-t-1n:0;if(t&&o>t||o<a){var s="bigint"===typeof e?"n":"";throw new se({max:t?"".concat(t).concat(s):void 0,min:"".concat(a).concat(s),signed:r,size:i,value:"".concat(e).concat(s)})}var c="0x".concat((r&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16));return i?ie(c,{size:i}):c}var me=new TextEncoder;function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=me.encode(e);return ge(n,t)}var ye=new TextEncoder;function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Uint8Array(1);return n[0]=Number(e),"number"===typeof t.size?(le(n,{size:t.size}),ie(n,{size:t.size})):n}var ke=48,Ze=57,Ce=65,Ee=70,Ie=97,Se=102;function Ae(e){return e>=ke&&e<=Ze?e-ke:e>=Ce&&e<=Ee?e-(Ce-10):e>=Ie&&e<=Se?e-(Ie-10):void 0}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;t.size&&(le(n,{size:t.size}),n=ie(n,{dir:"right",size:t.size}));var r=n.slice(2);r.length%2&&(r="0".concat(r));for(var i=r.length/2,o=new Uint8Array(i),a=0,s=0;a<i;a++){var c=Ae(r.charCodeAt(s++)),u=Ae(r.charCodeAt(s++));if(void 0===c||void 0===u)throw new ee('Invalid byte sequence ("'.concat(r[s-2]).concat(r[s-1],'" in "').concat(r,'").'));o[a]=16*c+u}return o}function Oe(e,t){return Pe(we(e,t))}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ye.encode(e);return"number"===typeof t.size?(le(n,{size:t.size}),ie(n,{dir:"right",size:t.size})):n}var Ne=n(53752),Te=BigInt(Math.pow(2,32)-1),Re=BigInt(32);function Le(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{h:Number(e&Te),l:Number(e>>Re&Te)}:{h:0|Number(e>>Re&Te),l:0|Number(e&Te)}}function Be(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length),i=0;i<e.length;i++){var o=Le(e[i],t),a=o.h,s=o.l,c=[a,s];n[i]=c[0],r[i]=c[1]}return[n,r]}var Ue=function(e,t,n){return e<<n|t>>>32-n},Me=function(e,t,n){return t<<n|e>>>32-n},je=function(e,t,n){return t<<n-32|e>>>64-n},De=function(e,t,n){return e<<n-32|t>>>64-n};for(var ze=n(16493),qe=[],He=[],We=[],Fe=BigInt(0),Ve=BigInt(1),Ke=BigInt(2),Ge=BigInt(7),$e=BigInt(256),Ye=BigInt(113),Je=0,Xe=Ve,Qe=1,et=0;Je<24;Je++){var tt=[et,(2*Qe+3*et)%5];Qe=tt[0],et=tt[1],qe.push(2*(5*et+Qe)),He.push((Je+1)*(Je+2)/2%64);for(var nt=Fe,rt=0;rt<7;rt++)(Xe=(Xe<<Ve^(Xe>>Ge)*Ye)%$e)&Ke&&(nt^=Ve<<(Ve<<BigInt(rt))-Ve);We.push(nt)}var it=Be(We,!0),ot=(0,S.Z)(it,2),at=ot[0],st=ot[1],ct=function(e,t,n){return n>32?je(e,t,n):Ue(e,t,n)},ut=function(e,t,n){return n>32?De(e,t,n):Me(e,t,n)};var lt=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if((0,O.Z)(this,n),(o=t.call(this)).blockLen=e,o.suffix=r,o.outputLen=i,o.enableXOF=a,o.rounds=s,o.pos=0,o.posOut=0,o.finished=!1,o.destroyed=!1,(0,Ne.k8)(i),0>=o.blockLen||o.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");return o.state=new Uint8Array(200),o.state32=(0,ze.Jq)(o.state),o}return(0,_.Z)(n,[{key:"keccak",value:function(){ze.iA||(0,ze.l1)(this.state32),function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=new Uint32Array(10),r=24-t;r<24;r++){for(var i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(var o=0;o<10;o+=2)for(var a=(o+8)%10,s=(o+2)%10,c=n[s],u=n[s+1],l=ct(c,u,1)^n[a],d=ut(c,u,1)^n[a+1],f=0;f<50;f+=10)e[o+f]^=l,e[o+f+1]^=d;for(var p=e[2],h=e[3],v=0;v<24;v++){var g=He[v],w=ct(p,h,g),m=ut(p,h,g),b=qe[v];p=e[b],h=e[b+1],e[b]=w,e[b+1]=m}for(var y=0;y<50;y+=10){for(var x=0;x<10;x++)n[x]=e[y+x];for(var k=0;k<10;k++)e[y+k]^=~n[(k+2)%10]&n[(k+4)%10]}e[0]^=at[r],e[1]^=st[r]}n.fill(0)}(this.state32,this.rounds),ze.iA||(0,ze.l1)(this.state32),this.posOut=0,this.pos=0}},{key:"update",value:function(e){(0,Ne.$h)(this);for(var t=this.blockLen,n=this.state,r=(e=(0,ze.O0)(e)).length,i=0;i<r;){for(var o=Math.min(t-this.pos,r-i),a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}},{key:"finish",value:function(){if(!this.finished){this.finished=!0;var e=this.state,t=this.suffix,n=this.pos,r=this.blockLen;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}}},{key:"writeInto",value:function(e){(0,Ne.$h)(this,!1),(0,Ne.gk)(e),this.finish();for(var t=this.state,n=this.blockLen,r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();var o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}},{key:"xofInto",value:function(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}},{key:"xof",value:function(e){return(0,Ne.k8)(e),this.xofInto(new Uint8Array(e))}},{key:"digestInto",value:function(e){if((0,Ne.eB)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}},{key:"digest",value:function(){return this.digestInto(new Uint8Array(this.outputLen))}},{key:"destroy",value:function(){this.destroyed=!0,this.state.fill(0)}},{key:"_cloneInto",value:function(e){var t=this.blockLen,r=this.suffix,i=this.outputLen,o=this.rounds,a=this.enableXOF;return e||(e=new n(t,r,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}]),n}(ze.kb),dt=function(e,t,n){return(0,ze.hE)((function(){return new lt(t,e,n)}))},ft=dt(1,136,32);function pt(e,t){var n=t||"hex",r=ft(ne(e,{strict:!1})?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?Oe(e,t):"boolean"===typeof e?xe(e,t):ne(e)?Pe(e,t):_e(e,t)}(e):e);return"bytes"===n?r:he(r)}var ht=new(function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,O.Z)(this,n),r=t.call(this),Object.defineProperty((0,x.Z)(r),"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.maxSize=e,r}return(0,_.Z)(n,[{key:"get",value:function(e){var t=(0,m.Z)((0,b.Z)(n.prototype),"get",this).call(this,e);return(0,m.Z)((0,b.Z)(n.prototype),"has",this).call(this,e)&&void 0!==t&&(this.delete(e),(0,m.Z)((0,b.Z)(n.prototype),"set",this).call(this,e,t)),t}},{key:"set",value:function(e,t){if((0,m.Z)((0,b.Z)(n.prototype),"set",this).call(this,e,t),this.maxSize&&this.size>this.maxSize){var r=this.keys().next().value;r&&this.delete(r)}return this}}]),n}((0,C.Z)(Map)))(8192);function vt(e,t){if(ht.has("".concat(e,".").concat(t)))return ht.get("".concat(e,".").concat(t));for(var n=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),r=pt(_e(n),"bytes"),i=(t?n.substring("".concat(t,"0x").length):n).split(""),o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(15&r[o>>1])>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());var a="0x".concat(i.join(""));return ht.set("".concat(e,".").concat(t),a),a}function gt(e){var t=pt("0x".concat(e.substring(4))).substring(26);return vt("0x".concat(t))}function wt(e){return mt.apply(this,arguments)}function mt(){return mt=(0,P.Z)((0,A.Z)().mark((function e(t){var r,i,o,a,s,c,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.hash,i=t.signature,o=ne(r)?r:he(r),e.next=4,n.e(5445).then(n.bind(n,25445));case 4:return a=e.sent,s=a.secp256k1,c=function(){if("object"===typeof i&&"r"in i&&"s"in i){var e=i.r,t=i.s,n=i.v,r=i.yParity,o=bt(Number(null!==r&&void 0!==r?r:n));return new s.Signature(de(e),de(t)).addRecoveryBit(o)}var a=ne(i)?i:he(i),c=bt(fe("0x".concat(a.slice(130))));return s.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)}(),u=c.recoverPublicKey(o.substring(2)).toHex(!1),e.abrupt("return","0x".concat(u));case 9:case"end":return e.stop()}}),e)}))),mt.apply(this,arguments)}function bt(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}function yt(e){return xt.apply(this,arguments)}function xt(){return xt=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hash,r=t.signature,e.t0=gt,e.next=4,wt({hash:n,signature:r});case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)}))),xt.apply(this,arguments)}var kt=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var a=e.length,s=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===s;)r++,n++;for(var o=(e.length-n)*c+1>>>0,u=new Uint8Array(o);n<e.length;){var l=e.charCodeAt(n);if(l>255)return;var d=t[l];if(255===d)return;for(var f=0,p=o-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=a*u[p]>>>0,u[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,n++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var v=new Uint8Array(r+(o-h)),g=r;h!==o;)v[g++]=u[h++];return v}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var d=t[i],f=0,p=c-1;(0!==d||f<r)&&-1!==p;p--,f++)d+=256*l[p]>>>0,l[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var h=c-r;h!==c&&0===l[h];)h++;for(var v=s.repeat(n);h<c;++h)v+=e.charAt(l[h]);return v},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}},Zt=kt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Ct(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return function(e){var t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(function(e,t){return"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t}))}(e)}catch(iL){return e}}function Et(e){return"string"===typeof e?e:(t=e,JSON.stringify(t,(function(e,t){return"bigint"===typeof t?t.toString()+"n":t}))||"");var t}function It(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function St(e){if(!It(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function At(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}var Pt="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ot=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)};function _t(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),St(e),e}function Nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Pt&&"function"==typeof Pt.getRandomValues)return Pt.getRandomValues(new Uint8Array(e));if(Pt&&"function"==typeof Pt.randomBytes)return Pt.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}var Tt=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r,i,o){var a;return(0,O.Z)(this,n),(a=t.call(this)).blockLen=e,a.outputLen=r,a.padOffset=i,a.isLE=o,a.finished=!1,a.length=0,a.pos=0,a.destroyed=!1,a.buffer=new Uint8Array(e),a.view=Ot(a.buffer),a}return(0,_.Z)(n,[{key:"update",value:function(e){At(this);for(var t=this.view,n=this.buffer,r=this.blockLen,i=(e=_t(e)).length,o=0;o<i;){var a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else for(var s=Ot(e);r<=i-o;o+=r)this.process(s,o)}return this.length+=e.length,this.roundClean(),this}},{key:"digestInto",value:function(e){At(this),function(e,t){St(e);var n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;var t=this.buffer,n=this.view,r=this.blockLen,i=this.isLE,o=this.pos;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(var a=o;a<r;a++)t[a]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);var i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,s,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);var s=Ot(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");var u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(var d=0;d<u;d++)s.setUint32(4*d,l[d],i)}},{key:"digest",value:function(){var e=this.buffer,t=this.outputLen;this.digestInto(e);var n=e.slice(0,t);return this.destroy(),n}},{key:"_cloneInto",value:function(e){var t;e||(e=new this.constructor),(t=e).set.apply(t,(0,N.Z)(this.get()));var n=this.blockLen,r=this.buffer,i=this.length,o=this.finished,a=this.destroyed,s=this.pos;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%n&&e.buffer.set(r),e}}]),n}(function(){function e(){(0,O.Z)(this,e)}return(0,_.Z)(e,[{key:"clone",value:function(){return this._cloneInto()}}]),e}()),Rt=BigInt(Math.pow(2,32)-1),Lt=BigInt(32);function Bt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{h:Number(e&Rt),l:Number(e>>Lt&Rt)}:{h:0|Number(e>>Lt&Rt),l:0|Number(e&Rt)}}var Ut={fromBig:Bt,split:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length),i=0;i<e.length;i++){var o=Bt(e[i],t),a=o.h,s=o.l,c=[a,s];n[i]=c[0],r[i]=c[1]}return[n,r]},toBig:function(e,t){return BigInt(e>>>0)<<Lt|BigInt(t>>>0)},shrSH:function(e,t,n){return e>>>n},shrSL:function(e,t,n){return e<<32-n|t>>>n},rotrSH:function(e,t,n){return e>>>n|t<<32-n},rotrSL:function(e,t,n){return e<<32-n|t>>>n},rotrBH:function(e,t,n){return e<<64-n|t>>>n-32},rotrBL:function(e,t,n){return e>>>n-32|t<<64-n},rotr32H:function(e,t){return t},rotr32L:function(e,t){return e},rotlSH:function(e,t,n){return e<<n|t>>>32-n},rotlSL:function(e,t,n){return t<<n|e>>>32-n},rotlBH:function(e,t,n){return t<<n-32|e>>>64-n},rotlBL:function(e,t,n){return e<<n-32|t>>>64-n},add:function(e,t,n,r){var i=(t>>>0)+(r>>>0);return{h:e+n+(i/Math.pow(2,32)|0)|0,l:0|i}},add3L:function(e,t,n){return(e>>>0)+(t>>>0)+(n>>>0)},add3H:function(e,t,n,r){return t+n+r+(e/Math.pow(2,32)|0)|0},add4L:function(e,t,n,r){return(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)},add4H:function(e,t,n,r,i){return t+n+r+i+(e/Math.pow(2,32)|0)|0},add5H:function(e,t,n,r,i,o){return t+n+r+i+o+(e/Math.pow(2,32)|0)|0},add5L:function(e,t,n,r,i){return(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)}},Mt=Ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((function(e){return BigInt(e)}))),jt=(0,S.Z)(Mt,2),Dt=jt[0],zt=jt[1],qt=new Uint32Array(80),Ht=new Uint32Array(80),Wt=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this,128,64,16,!1)).Ah=1779033703,e.Al=-205731576,e.Bh=-1150833019,e.Bl=-2067093701,e.Ch=1013904242,e.Cl=-23791573,e.Dh=-1521486534,e.Dl=1595750129,e.Eh=1359893119,e.El=-1377402159,e.Fh=-1694144372,e.Fl=725511199,e.Gh=528734635,e.Gl=-79577749,e.Hh=1541459225,e.Hl=327033209,e}return(0,_.Z)(n,[{key:"get",value:function(){return[this.Ah,this.Al,this.Bh,this.Bl,this.Ch,this.Cl,this.Dh,this.Dl,this.Eh,this.El,this.Fh,this.Fl,this.Gh,this.Gl,this.Hh,this.Hl]}},{key:"set",value:function(e,t,n,r,i,o,a,s,c,u,l,d,f,p,h,v){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|h,this.Hl=0|v}},{key:"process",value:function(e,t){for(var n,r,i,o,a,s,c,u,l=0;l<16;l++,t+=4)qt[l]=e.getUint32(t),Ht[l]=e.getUint32(t+=4);for(var d=16;d<80;d++){var f=0|qt[d-15],p=0|Ht[d-15],h=Ut.rotrSH(f,p,1)^Ut.rotrSH(f,p,8)^Ut.shrSH(f,p,7),v=Ut.rotrSL(f,p,1)^Ut.rotrSL(f,p,8)^Ut.shrSL(f,p,7),g=0|qt[d-2],w=0|Ht[d-2],m=Ut.rotrSH(g,w,19)^Ut.rotrBH(g,w,61)^Ut.shrSH(g,w,6),b=Ut.rotrSL(g,w,19)^Ut.rotrBL(g,w,61)^Ut.shrSL(g,w,6),y=Ut.add4L(v,b,Ht[d-7],Ht[d-16]),x=Ut.add4H(y,h,m,qt[d-7],qt[d-16]);qt[d]=0|x,Ht[d]=0|y}var k=this.Ah,Z=this.Al,C=this.Bh,E=this.Bl,I=this.Ch,S=this.Cl,A=this.Dh,P=this.Dl,O=this.Eh,_=this.El,N=this.Fh,T=this.Fl,R=this.Gh,L=this.Gl,B=this.Hh,U=this.Hl;for(l=0;l<80;l++){f=Ut.rotrSH(O,_,14)^Ut.rotrSH(O,_,18)^Ut.rotrBH(O,_,41),p=Ut.rotrSL(O,_,14)^Ut.rotrSL(O,_,18)^Ut.rotrBL(O,_,41),h=O&N^~O&R,v=_&T^~_&L,g=Ut.add5L(U,p,v,zt[l],Ht[l]),w=Ut.add5H(g,B,f,h,Dt[l],qt[l]),m=0|g,b=Ut.rotrSH(k,Z,28)^Ut.rotrBH(k,Z,34)^Ut.rotrBH(k,Z,39),y=Ut.rotrSL(k,Z,28)^Ut.rotrBL(k,Z,34)^Ut.rotrBL(k,Z,39),x=k&C^k&I^C&I;var M,j=Z&E^Z&S^E&S;B=0|R,U=0|L,R=0|N,L=0|T,N=0|O,T=0|_,O=(M=Ut.add(0|A,0|P,0|w,0|m)).h,_=M.l,A=0|I,P=0|S,I=0|C,S=0|E,C=0|k,E=0|Z;var D=Ut.add3L(m,y,j);k=Ut.add3H(D,w,b,x),Z=0|D}k=(n=Ut.add(0|this.Ah,0|this.Al,0|k,0|Z)).h,Z=n.l,C=(r=Ut.add(0|this.Bh,0|this.Bl,0|C,0|E)).h,E=r.l,I=(i=Ut.add(0|this.Ch,0|this.Cl,0|I,0|S)).h,S=i.l,A=(o=Ut.add(0|this.Dh,0|this.Dl,0|A,0|P)).h,P=o.l,O=(a=Ut.add(0|this.Eh,0|this.El,0|O,0|_)).h,_=a.l,N=(s=Ut.add(0|this.Fh,0|this.Fl,0|N,0|T)).h,T=s.l,R=(c=Ut.add(0|this.Gh,0|this.Gl,0|R,0|L)).h,L=c.l,B=(u=Ut.add(0|this.Hh,0|this.Hl,0|B,0|U)).h,U=u.l,this.set(k,Z,C,E,I,S,A,P,O,_,N,T,R,L,B,U)}},{key:"roundClean",value:function(){qt.fill(0),Ht.fill(0)}},{key:"destroy",value:function(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}]),n}(Tt),Ft=function(e){var t=function(t){return e().update(_t(t)).digest()},n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=function(){return e()},t}((function(){return new Wt})),Vt=BigInt(0),Kt=BigInt(1),Gt=BigInt(2);function $t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Yt(e){if(!$t(e))throw new Error("Uint8Array expected")}function Jt(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}var Xt=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function Qt(e){Yt(e);for(var t="",n=0;n<e.length;n++)t+=Xt[e[n]];return t}function en(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Vt:BigInt("0x"+e)}var tn=48,nn=57,rn=65,on=70,an=97,sn=102;function cn(e){return e>=tn&&e<=nn?e-tn:e>=rn&&e<=on?e-(rn-10):e>=an&&e<=sn?e-(an-10):void 0}function un(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);var t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);for(var r=new Uint8Array(n),i=0,o=0;i<n;i++,o+=2){var a=cn(e.charCodeAt(o)),s=cn(e.charCodeAt(o+1));if(void 0===a||void 0===s){var c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=16*a+s}return r}function ln(e){return en(Qt(e))}function dn(e){return Yt(e),en(Qt(Uint8Array.from(e).reverse()))}function fn(e,t){return un(e.toString(16).padStart(2*t,"0"))}function pn(e,t){return fn(e,t).reverse()}function hn(e,t,n){var r;if("string"==typeof t)try{r=un(t)}catch(ep){throw new Error(e+" must be hex string or Uint8Array, cause: "+ep)}else{if(!$t(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}var i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function vn(){for(var e=0,t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];Yt(n),e+=n.length}for(var r=new Uint8Array(e),i=0,o=0;i<arguments.length;i++){var a=i<0||arguments.length<=i?void 0:arguments[i];r.set(a,o),o+=a.length}return r}var gn=function(e){return"bigint"==typeof e&&Vt<=e};function wn(e,t,n,r){if(!function(e,t,n){return gn(e)&&gn(t)&&gn(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}var mn=function(e){return(Gt<<BigInt(e-1))-Kt},bn={bigint:function(e){return"bigint"==typeof e},function:function(e){return"function"==typeof e},boolean:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},stringOrUint8Array:function(e){return"string"==typeof e||$t(e)},isSafeInteger:function(e){return Number.isSafeInteger(e)},array:function(e){return Array.isArray(e)},field:function(e,t){return t.Fp.isValid(e)},hash:function(e){return"function"==typeof e&&Number.isSafeInteger(e.outputLen)}};function yn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,n,r){var i=bn[n];if("function"!=typeof i)throw new Error("invalid validator function");var o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)},i=0,o=Object.entries(t);i<o.length;i++){var a=(0,S.Z)(o[i],2),s=a[0],c=a[1];r(s,c,!1)}for(var u=0,l=Object.entries(n);u<l.length;u++){var d=(0,S.Z)(l[u],2),f=d[0],p=d[1];r(f,p,!0)}return e}function xn(e){var t=new WeakMap;return function(n){var r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=e.apply(void 0,[n].concat(o));return t.set(n,s),s}}var kn=BigInt(0),Zn=BigInt(1),Cn=BigInt(2),En=BigInt(3),In=BigInt(4),Sn=BigInt(5),An=BigInt(8);function Pn(e,t){var n=e%t;return n>=kn?n:t+n}function On(e,t,n){if(t<kn)throw new Error("invalid exponent, negatives unsupported");if(n<=kn)throw new Error("invalid modulus");if(n===Zn)return kn;for(var r=Zn;t>kn;)t&Zn&&(r=r*e%n),e=e*e%n,t>>=Zn;return r}function _n(e,t,n){for(var r=e;t-- >kn;)r*=r,r%=n;return r}function Nn(e,t){if(e===kn)throw new Error("invert: expected non-zero number");if(t<=kn)throw new Error("invert: expected positive modulus, got "+t);for(var n=Pn(e,t),r=t,i=kn,o=Zn;n!==kn;){var a=r%n,s=i-o*(r/n);r=n,n=a,i=o,o=s}if(r!==Zn)throw new Error("invert: does not exist");return Pn(i,t)}function Tn(e){if(e%In===En){var t=(e+Zn)/In;return function(e,n){var r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%An===Sn){var n=(e-Sn)/An;return function(e,t){var r=e.mul(t,Cn),i=e.pow(r,n),o=e.mul(t,i),a=e.mul(e.mul(o,Cn),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),t))throw new Error("Cannot find square root");return s}}return function(e){var t,n,r,i=(e-Zn)/Cn;for(t=e-Zn,n=0;t%Cn===kn;t/=Cn,n++);for(r=Cn;r<e&&On(r,i,e)!==e-Zn;r++)if(r>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){var o=(e+Zn)/In;return function(e,t){var n=e.pow(t,o);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}}var a=(t+Zn)/Cn;return function(e,o){if(e.pow(o,i)===e.neg(e.ONE))throw new Error("Cannot find square root");for(var s=n,c=e.pow(e.mul(e.ONE,r),t),u=e.pow(o,a),l=e.pow(o,t);!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;for(var d=1,f=e.sqr(l);d<s&&!e.eql(f,e.ONE);d++)f=e.sqr(f);var p=e.pow(c,Zn<<BigInt(s-d-1));c=e.sqr(p),u=e.mul(u,p),l=e.mul(l,c),s=d}return u}}(e)}var Rn=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ln(e,t,n){if(n<kn)throw new Error("invalid exponent, negatives unsupported");if(n===kn)return e.ONE;if(n===Zn)return t;for(var r=e.ONE,i=t;n>kn;)n&Zn&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Zn;return r}function Bn(e,t){var n=new Array(t.length),r=t.reduce((function(t,r,i){return e.is0(r)?t:(n[i]=t,e.mul(t,r))}),e.ONE),i=e.inv(r);return t.reduceRight((function(t,r,i){return e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))}),i),n}function Un(e,t){var n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=kn)throw new Error("invalid field: expected ORDER > 0, got "+e);var i,o=Un(e,t),a=o.nBitLength,s=o.nByteLength;if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");var c=Object.freeze({ORDER:e,isLE:n,BITS:a,BYTES:s,MASK:mn(a),ZERO:kn,ONE:Zn,create:function(t){return Pn(t,e)},isValid:function(t){if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return kn<=t&&t<e},is0:function(e){return e===kn},isOdd:function(e){return(e&Zn)===Zn},neg:function(t){return Pn(-t,e)},eql:function(e,t){return e===t},sqr:function(t){return Pn(t*t,e)},add:function(t,n){return Pn(t+n,e)},sub:function(t,n){return Pn(t-n,e)},mul:function(t,n){return Pn(t*n,e)},pow:function(e,t){return Ln(c,e,t)},div:function(t,n){return Pn(t*Nn(n,e),e)},sqrN:function(e){return e*e},addN:function(e,t){return e+t},subN:function(e,t){return e-t},mulN:function(e,t){return e*t},inv:function(t){return Nn(t,e)},sqrt:r.sqrt||function(t){return i||(i=Tn(e)),i(c,t)},invertBatch:function(e){return Bn(c,e)},cmov:function(e,t,n){return n?t:e},toBytes:function(e){return n?pn(e,s):fn(e,s)},fromBytes:function(e){if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?dn(e):ln(e)}});return Object.freeze(c)}var jn=BigInt(0),Dn=BigInt(1);function zn(e,t){var n=t.negate();return e?n:t}function qn(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Hn(e,t){return qn(e,t),{windows:Math.ceil(t/e)+1,windowSize:Math.pow(2,e-1)}}var Wn=new WeakMap,Fn=new WeakMap;function Vn(e){return Fn.get(e)||1}function Kn(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((function(e,n){if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((function(e,n){if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");for(var i=e.ZERO,o=function(e){var t;for(t=0;e>Vt;e>>=Kt,t+=1);return t}(BigInt(n.length)),a=o>12?o-3:o>4?o-2:o?2:1,s=(1<<a)-1,c=new Array(s+1).fill(i),u=i,l=Math.floor((t.BITS-1)/a)*a;l>=0;l-=a){c.fill(i);for(var d=0;d<r.length;d++){var f=r[d],p=Number(f>>BigInt(l)&BigInt(s));c[p]=c[p].add(n[d])}for(var h=i,v=c.length-1,g=i;v>0;v--)g=g.add(c[v]),h=h.add(g);if(u=u.add(h),0!==l)for(var w=0;w<a;w++)u=u.double()}return u}function Gn(e){return function(e){var t=Rn.reduce((function(e,t){return e[t]="function",e}),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});yn(e,t)}(e.Fp),yn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,I.Z)((0,I.Z)((0,I.Z)({},Un(e.n,e.nBitLength)),e),{},{p:e.Fp.ORDER}))}var $n=BigInt(0),Yn=BigInt(1),Jn=BigInt(2),Xn=BigInt(8),Qn={zip215:!0};function er(e){var t=function(e){var t=Gn(e);return yn(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze((0,I.Z)({},t))}(e),n=t.Fp,r=t.n,i=t.prehash,o=t.hash,a=t.randomBytes,s=t.nByteLength,c=t.h,u=Jn<<BigInt(8*s)-Yn,l=n.create,d=Mn(t.n,t.nBitLength),f=t.uvRatio||function(e,t){try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(r){return{isValid:!1,value:$n}}},p=t.adjustScalarBytes||function(e){return e},h=t.domain||function(e,t,n){if(Jt("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e};function v(e,t){wn("coordinate "+e,t,$n,u)}function g(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}var w=xn((function(e,t){var r=e.ex,i=e.ey,o=e.ez,a=e.is0();null==t&&(t=a?Xn:n.inv(o));var s=l(r*t),c=l(i*t),u=l(o*t);if(a)return{x:$n,y:Yn};if(u!==Yn)throw new Error("invZ was invalid");return{x:s,y:c}})),m=xn((function(e){var n=t.a,r=t.d;if(e.is0())throw new Error("bad point: ZERO");var i=e.ex,o=e.ey,a=e.ez,s=e.et,c=l(i*i),u=l(o*o),d=l(a*a),f=l(d*d),p=l(c*n);if(l(d*l(p+u))!==l(f+l(r*l(c*u))))throw new Error("bad point: equation left != right (1)");if(l(i*o)!==l(a*s))throw new Error("bad point: equation left != right (2)");return!0})),b=function(){function e(t,n,r,i){(0,O.Z)(this,e),this.ex=t,this.ey=n,this.ez=r,this.et=i,v("x",t),v("y",n),v("z",r),v("t",i),Object.freeze(this)}return(0,_.Z)(e,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"_setWindowSize",value:function(e){k.setWindowSize(this,e)}},{key:"assertValidity",value:function(){m(this)}},{key:"equals",value:function(e){g(e);var t=this.ex,n=this.ey,r=this.ez,i=e.ex,o=e.ey,a=e.ez,s=l(t*a),c=l(i*r),u=l(n*a),d=l(o*r);return s===c&&u===d}},{key:"is0",value:function(){return this.equals(e.ZERO)}},{key:"negate",value:function(){return new e(l(-this.ex),this.ey,this.ez,l(-this.et))}},{key:"double",value:function(){var n=t.a,r=this.ex,i=this.ey,o=this.ez,a=l(r*r),s=l(i*i),c=l(Jn*l(o*o)),u=l(n*a),d=r+i,f=l(l(d*d)-a-s),p=u+s,h=p-c,v=u-s,g=l(f*h),w=l(p*v),m=l(f*v);return new e(g,w,l(h*p),m)}},{key:"add",value:function(n){g(n);var r=t.a,i=t.d,o=this.ex,a=this.ey,s=this.ez,c=this.et,u=n.ex,d=n.ey,f=n.ez,p=n.et;if(r===BigInt(-1)){var h=l((a-o)*(d+u)),v=l((a+o)*(d-u)),w=l(v-h);if(w===$n)return this.double();var m=l(s*Jn*p),b=l(c*Jn*f),y=b+m,x=v+h,k=b-m,Z=l(y*w),C=l(x*k),E=l(y*k);return new e(Z,C,l(w*x),E)}var I=l(o*u),S=l(a*d),A=l(c*i*p),P=l(s*f),O=l((o+a)*(u+d)-I-S),_=P-A,N=P+A,T=l(S-r*I),R=l(O*_),L=l(N*T),B=l(O*T);return new e(R,L,l(_*N),B)}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"wNAF",value:function(t){return k.wNAFCached(this,t,e.normalizeZ)}},{key:"multiply",value:function(t){var n=t;wn("scalar",n,Yn,r);var i=this.wNAF(n),o=i.p,a=i.f;return e.normalizeZ([o,a])[0]}},{key:"multiplyUnsafe",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ZERO,i=t;return wn("scalar",i,$n,r),i===$n?x:this.is0()||i===Yn?this:k.wNAFCachedUnsafe(this,i,e.normalizeZ,n)}},{key:"isSmallOrder",value:function(){return this.multiplyUnsafe(c).is0()}},{key:"isTorsionFree",value:function(){return k.unsafeLadder(this,r).is0()}},{key:"toAffine",value:function(e){return w(this,e)}},{key:"clearCofactor",value:function(){var e=t.h;return e===Yn?this:this.multiplyUnsafe(e)}},{key:"toRawBytes",value:function(){var e=this.toAffine(),t=e.x,r=pn(e.y,n.BYTES);return r[r.length-1]|=t&Yn?128:0,r}},{key:"toHex",value:function(){return Qt(this.toRawBytes())}}],[{key:"fromAffine",value:function(t){if(t instanceof e)throw new Error("extended point not allowed");var n=t||{},r=n.x,i=n.y;return v("x",r),v("y",i),new e(r,i,Yn,l(r*i))}},{key:"normalizeZ",value:function(t){var r=n.invertBatch(t.map((function(e){return e.ez})));return t.map((function(e,t){return e.toAffine(r[t])})).map(e.fromAffine)}},{key:"msm",value:function(t,n){return Kn(e,d,t,n)}},{key:"fromHex",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.d,a=t.a,s=n.BYTES;r=hn("pointHex",r,s),Jt("zip215",i);var c=r.slice(),d=r[s-1];c[s-1]=-129&d;var p=dn(c),h=i?u:n.ORDER;wn("pointHex.y",p,$n,h);var v=l(p*p),g=l(v-Yn),w=l(o*v-a),m=f(g,w),b=m.isValid,y=m.value;if(!b)throw new Error("Point.fromHex: invalid y coordinate");var x=(y&Yn)===Yn,k=0!==(128&d);if(!i&&y===$n&&k)throw new Error("Point.fromHex: x=0 and x_0=1");return k!==x&&(y=l(-y)),e.fromAffine({x:y,y:p})}},{key:"fromPrivateKey",value:function(e){return E(e).point}}]),e}();b.BASE=new b(t.Gx,t.Gy,Yn,l(t.Gx*t.Gy)),b.ZERO=new b($n,Yn,Yn,$n);var y=b.BASE,x=b.ZERO,k=function(e,t){return{constTimeNegate:zn,hasPrecomputes:function(e){return 1!==Vn(e)},unsafeLadder:function(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;n>jn;)n&Dn&&(r=r.add(i)),i=i.double(),n>>=Dn;return r},precomputeWindow:function(e,n){for(var r=Hn(n,t),i=r.windows,o=r.windowSize,a=[],s=e,c=s,u=0;u<i;u++){c=s,a.push(c);for(var l=1;l<o;l++)c=c.add(s),a.push(c);s=c.double()}return a},wNAF:function(n,r,i){for(var o=Hn(n,t),a=o.windows,s=o.windowSize,c=e.ZERO,u=e.BASE,l=BigInt(Math.pow(2,n)-1),d=Math.pow(2,n),f=BigInt(n),p=0;p<a;p++){var h=p*s,v=Number(i&l);i>>=f,v>s&&(v-=d,i+=Dn);var g=h,w=h+Math.abs(v)-1,m=p%2!==0,b=v<0;0===v?u=u.add(zn(m,r[g])):c=c.add(zn(b,r[w]))}return{p:c,f:u}},wNAFUnsafe:function(n,r,i){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO,a=Hn(n,t),s=a.windows,c=a.windowSize,u=BigInt(Math.pow(2,n)-1),l=Math.pow(2,n),d=BigInt(n),f=0;f<s;f++){var p=f*c;if(i===jn)break;var h=Number(i&u);if(i>>=d,h>c&&(h-=l,i+=Dn),0!==h){var v=r[p+Math.abs(h)-1];h<0&&(v=v.negate()),o=o.add(v)}}return o},getPrecomputes:function(e,t,n){var r=Wn.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Wn.set(t,n(r))),r},wNAFCached:function(e,t,n){var r=Vn(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe:function(e,t,n,r){var i=Vn(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize:function(e,n){qn(n,t),Fn.set(e,n),Wn.delete(e)}}}(b,8*s);function Z(e){return Pn(e,r)}function C(e){return Z(dn(e))}function E(e){var t=n.BYTES;e=hn("private key",e,t);var r=hn("hashed private key",o(e),2*t),i=p(r.slice(0,t)),a=r.slice(t,2*t),s=C(i),c=y.multiply(s),u=c.toRawBytes();return{head:i,prefix:a,scalar:s,point:c,pointBytes:u}}function S(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=vn.apply(void 0,n);return C(o(h(a,hn("context",e),!!i)))}var A=Qn;return y._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return E(e).pointBytes},sign:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=hn("message",e),i&&(e=i(e));var a=E(t),s=a.prefix,c=a.scalar,u=a.pointBytes,l=S(o.context,s,e),d=y.multiply(l).toRawBytes(),f=S(o.context,d,u,e),p=Z(l+f*c);wn("signature.s",p,$n,r);var h=vn(d,pn(p,n.BYTES));return hn("result",h,2*n.BYTES)},verify:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A,a=o.context,s=o.zip215,c=n.BYTES;e=hn("signature",e,2*c),t=hn("message",t),r=hn("publicKey",r,c),void 0!==s&&Jt("zip215",s),i&&(t=i(t));var u,l,d,f=dn(e.slice(c,2*c));try{u=b.fromHex(r,s),l=b.fromHex(e.slice(0,c),s),d=y.multiplyUnsafe(f)}catch(h){return!1}if(!s&&u.isSmallOrder())return!1;var p=S(a,l.toRawBytes(),u.toRawBytes(),t);return l.add(u.multiplyUnsafe(p)).subtract(d).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:E,randomPrivateKey:function(){return a(n.BYTES)},precompute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}BigInt(0),BigInt(1);var tr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),nr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);var rr=BigInt(1),ir=BigInt(2);BigInt(3);var or=BigInt(5),ar=BigInt(8);function sr(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function cr(e,t){var n=tr,r=Pn(t*t*t,n),i=function(e){var t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=tr,a=e*e%o*e%o,s=_n(a,ir,o)*a%o,c=_n(s,rr,o)*e%o,u=_n(c,or,o)*c%o,l=_n(u,t,o)*u%o,d=_n(l,n,o)*l%o,f=_n(d,r,o)*d%o,p=_n(f,i,o)*f%o,h=_n(p,i,o)*f%o,v=_n(h,t,o)*u%o;return{pow_p_5_8:_n(v,ir,o)*e%o,b2:a}}(e*Pn(r*r*t,n)).pow_p_5_8,o=Pn(e*r*i,n),a=Pn(t*o*o,n),s=o,c=Pn(o*nr,n),u=a===e,l=a===Pn(-e,n),d=a===Pn(-e*nr,n);return u&&(o=s),(l||d)&&(o=c),function(e,t){return(Pn(e,t)&Zn)===Zn}(o,n)&&(o=Pn(-o,n)),{isValid:u||l,value:o}}var ur=Mn(tr,void 0,!0),lr=er({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ur,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:ar,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ft,randomBytes:Nt,adjustScalarBytes:sr,uvRatio:cr}),dr="EdDSA",fr="JWT",pr=".",hr="base64url",vr="utf8",gr="utf8",wr="did",mr="key",br="base58btc";function yr(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?yr(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function kr(e,t){t||(t=e.reduce((function(e,t){return e+t.length}),0));var n,r=xr(t),i=0,o=(0,R.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r.set(a,i),i+=a.length}}catch(s){o.e(s)}finally{o.f()}return yr(r)}var Zr=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==n[a])throw new TypeError(o+" is ambiguous");n[a]=i}var s=e.length,c=e.charAt(0),u=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var o=(e.length-t)*u+1>>>0,a=new Uint8Array(o);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=s*a[f]>>>0,a[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var p=o-i;p!==o&&0===a[p];)p++;for(var h=new Uint8Array(r+(o-p)),v=r;p!==o;)h[v++]=a[p++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var a=(o-i)*l+1>>>0,u=new Uint8Array(a);i!==o;){for(var d=t[i],f=0,p=a-1;(0!==d||f<r)&&-1!==p;p--,f++)d+=256*u[p]>>>0,u[p]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var h=a-r;h!==a&&0===u[h];)h++;for(var v=c.repeat(n);h<a;++h)v+=e.charAt(u[h]);return v},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}},Cr=Zr,Er=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Ir=function(){function e(t,n,r){(0,O.Z)(this,e),this.name=t,this.prefix=n,this.baseEncode=r}return(0,_.Z)(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),Sr=function(){function e(t,n,r){if((0,O.Z)(this,e),this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}return(0,_.Z)(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return Pr(this,e)}}]),e}(),Ar=function(){function e(t){(0,O.Z)(this,e),this.decoders=t}return(0,_.Z)(e,[{key:"or",value:function(e){return Pr(this,e)}},{key:"decode",value:function(e){var t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),Pr=function(e,t){return new Ar((0,I.Z)((0,I.Z)({},e.decoders||(0,T.Z)({},e.prefix,e)),t.decoders||(0,T.Z)({},t.prefix,t)))},Or=function(){function e(t,n,r,i){(0,O.Z)(this,e),this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Ir(t,n,r),this.decoder=new Sr(t,n,i)}return(0,_.Z)(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),_r=function(e){var t=e.name,n=e.prefix,r=e.encode,i=e.decode;return new Or(t,n,r,i)},Nr=function(e){var t=e.prefix,n=e.name,r=e.alphabet,i=Cr(r,n),o=i.encode,a=i.decode;return _r({prefix:t,name:n,encode:o,decode:function(e){return Er(a(e))}})},Tr=function(e){var t=e.name,n=e.prefix,r=e.bitsPerChar,i=e.alphabet;return _r({prefix:n,name:t,encode:function(e){return function(e,t,n){for(var r="="===t[t.length-1],i=(1<<n)-1,o="",a=0,s=0,c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;a>n;)o+=t[i&s>>(a-=n)];if(a&&(o+=t[i&s<<n-a]),r)for(;o.length*n&7;)o+="=";return o}(e,i,r)},decode:function(e){return function(e,t,n,r){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*n/8|0),c=0,u=0,l=0,d=0;d<a;++d){var f=i[e[d]];if(void 0===f)throw new SyntaxError("Non-".concat(r," character"));u=u<<n|f,(c+=n)>=8&&(c-=8,s[l++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return s}(e,i,r,t)}})},Rr=_r({prefix:"\0",name:"identity",encode:function(e){return function(e){return(new TextDecoder).decode(e)}(e)},decode:function(e){return function(e){return(new TextEncoder).encode(e)}(e)}}),Lr=Object.freeze({__proto__:null,identity:Rr}),Br=Tr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Ur=Object.freeze({__proto__:null,base2:Br}),Mr=Tr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),jr=Object.freeze({__proto__:null,base8:Mr}),Dr=Nr({prefix:"9",name:"base10",alphabet:"0123456789"}),zr=Object.freeze({__proto__:null,base10:Dr}),qr=Tr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Hr=Tr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Wr=Object.freeze({__proto__:null,base16:qr,base16upper:Hr}),Fr=Tr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vr=Tr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Kr=Tr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Gr=Tr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$r=Tr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yr=Tr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Jr=Tr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Xr=Tr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Qr=Tr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ei=Object.freeze({__proto__:null,base32:Fr,base32upper:Vr,base32pad:Kr,base32padupper:Gr,base32hex:$r,base32hexupper:Yr,base32hexpad:Jr,base32hexpadupper:Xr,base32z:Qr}),ti=Nr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ni=Nr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ri=Object.freeze({__proto__:null,base36:ti,base36upper:ni}),ii=Nr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oi=Nr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ai=Object.freeze({__proto__:null,base58btc:ii,base58flickr:oi}),si=Tr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ci=Tr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ui=Tr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),li=Tr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),di=Object.freeze({__proto__:null,base64:si,base64pad:ci,base64url:ui,base64urlpad:li}),fi=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),pi=fi.reduce((function(e,t,n){return e[n]=t,e}),[]),hi=fi.reduce((function(e,t,n){return e[t.codePointAt(0)]=n,e}),[]);var vi=_r({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((function(e,t){return e+=pi[t]}),"")},decode:function(e){var t,n=[],r=(0,R.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=hi[i.codePointAt(0)];if(void 0===o)throw new Error("Non-base256emoji character: ".concat(i));n.push(o)}}catch(a){r.e(a)}finally{r.f()}return new Uint8Array(n)}}),gi=Object.freeze({__proto__:null,base256emoji:vi}),wi=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=mi;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},mi=Math.pow(2,31);var bi=function e(t,n){var r,i=0,o=0,a=n=n||0,s=t.length;do{if(a>=s)throw e.bytes=0,new RangeError("Could not decode varint");r=t[a++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=a-n,i};var yi=Math.pow(2,7),xi=Math.pow(2,14),ki=Math.pow(2,21),Zi=Math.pow(2,28),Ci=Math.pow(2,35),Ei=Math.pow(2,42),Ii=Math.pow(2,49),Si=Math.pow(2,56),Ai=Math.pow(2,63),Pi={encode:wi,decode:bi,encodingLength:function(e){return e<yi?1:e<xi?2:e<ki?3:e<Zi?4:e<Ci?5:e<Ei?6:e<Ii?7:e<Si?8:e<Ai?9:10}},Oi=Pi,_i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Oi.encode(e,t,n),t},Ni=function(e){return Oi.encodingLength(e)},Ti=function(e,t){var n=t.byteLength,r=Ni(e),i=r+Ni(n),o=new Uint8Array(i+n);return _i(e,o,0),_i(n,o,r),o.set(t,i),new Ri(e,n,t,o)},Ri=(0,_.Z)((function e(t,n,r,i){(0,O.Z)(this,e),this.code=t,this.size=n,this.digest=r,this.bytes=i})),Li=function(e){var t=e.name,n=e.code,r=e.encode;return new Bi(t,n,r)},Bi=function(){function e(t,n,r){(0,O.Z)(this,e),this.name=t,this.code=n,this.encode=r}return(0,_.Z)(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var n=this.encode(e);return n instanceof Uint8Array?Ti(this.code,n):n.then((function(e){return Ti(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),Ui=function(e){return function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,n);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Mi=Li({name:"sha2-256",code:18,encode:Ui("SHA-256")}),ji=Li({name:"sha2-512",code:19,encode:Ui("SHA-512")}),Di=Object.freeze({__proto__:null,sha256:Mi,sha512:ji}),zi=Er,qi={code:0,name:"identity",encode:zi,digest:function(e){return Ti(0,zi(e))}},Hi=Object.freeze({__proto__:null,identity:qi});new TextEncoder,new TextDecoder;var Wi=(0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)({},Lr),Ur),jr),zr),Wr),ei),ri),ai),di),gi);function Fi(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,I.Z)((0,I.Z)({},Di),Hi);var Vi=Fi("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),Ki=Fi("ascii","a",(function(e){for(var t="a",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(function(e){for(var t=xr((e=e.substring(1)).length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Gi=(0,I.Z)({utf8:Vi,"utf-8":Vi,hex:Wi.base16,latin1:Ki,ascii:Ki,binary:Ki},Wi);function $i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=Gi[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function Yi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=Gi[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):yr(globalThis.Buffer.from(e,"utf-8"))}function Ji(e){return Ct($i(Yi(e,hr),vr))}function Xi(e){return $i(Yi(Et(e),vr),hr)}function Qi(e){var t="z"+$i(kr([Yi("K36",br),e]),br);return[wr,mr,t].join(":")}function eo(e){return $i(e,hr)}function to(e){return Yi([Xi(e.header),Xi(e.payload)].join(pr),gr)}function no(e){return[Xi(e.header),Xi(e.payload),eo(e.signature)].join(pr)}function ro(e){var t=e.split(pr),n=Ji(t[0]),r=Ji(t[1]),i=function(e){return Yi(e,hr)}(t[2]);return{header:n,payload:r,signature:i,data:Yi(t.slice(0,2).join(pr),gr)}}function io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt(32),t=lr.getPublicKey(e);return{secretKey:kr([e,t]),publicKey:t}}function oo(e,t,n,r){return ao.apply(this,arguments)}function ao(){return ao=(0,P.Z)((0,A.Z)().mark((function e(t,n,r,i){var o,a,s,c,u,l,d=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:(0,$.fromMiliseconds)(Date.now()),a={alg:dr,typ:fr},s=Qi(i.publicKey),u=to({header:a,payload:c={iss:s,sub:t,aud:n,iat:o,exp:o+r}}),l=lr.sign(u,i.secretKey.slice(0,32)),e.abrupt("return",no({header:a,payload:c,signature:l}));case 3:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function co(e,t){t||(t=e.reduce((function(e,t){return e+t.length}),0));var n,r=so(t),i=0,o=(0,R.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r.set(a,i),i+=a.length}}catch(s){o.e(s)}finally{o.f()}return r}var uo=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==n[a])throw new TypeError(o+" is ambiguous");n[a]=i}var s=e.length,c=e.charAt(0),u=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var o=(e.length-t)*u+1>>>0,a=new Uint8Array(o);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=s*a[f]>>>0,a[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var p=o-i;p!==o&&0===a[p];)p++;for(var h=new Uint8Array(r+(o-p)),v=r;p!==o;)h[v++]=a[p++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var a=(o-i)*l+1>>>0,u=new Uint8Array(a);i!==o;){for(var d=t[i],f=0,p=a-1;(0!==d||f<r)&&-1!==p;p--,f++)d+=256*u[p]>>>0,u[p]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var h=a-r;h!==a&&0===u[h];)h++;for(var v=c.repeat(n);h<a;++h)v+=e.charAt(u[h]);return v},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}},lo=uo,fo=(new Uint8Array(0),function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),po=function(){function e(t,n,r){(0,O.Z)(this,e),this.name=t,this.prefix=n,this.baseEncode=r}return(0,_.Z)(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),ho=function(){function e(t,n,r){if((0,O.Z)(this,e),this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}return(0,_.Z)(e,[{key:"decode",value:function(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return go(this,e)}}]),e}(),vo=function(){function e(t){(0,O.Z)(this,e),this.decoders=t}return(0,_.Z)(e,[{key:"or",value:function(e){return go(this,e)}},{key:"decode",value:function(e){var t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),go=function(e,t){return new vo((0,I.Z)((0,I.Z)({},e.decoders||(0,T.Z)({},e.prefix,e)),t.decoders||(0,T.Z)({},t.prefix,t)))},wo=function(){function e(t,n,r,i){(0,O.Z)(this,e),this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new po(t,n,r),this.decoder=new ho(t,n,i)}return(0,_.Z)(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),mo=function(e){var t=e.name,n=e.prefix,r=e.encode,i=e.decode;return new wo(t,n,r,i)},bo=function(e){var t=e.prefix,n=e.name,r=e.alphabet,i=lo(r,n),o=i.encode,a=i.decode;return mo({prefix:t,name:n,encode:o,decode:function(e){return fo(a(e))}})},yo=function(e){var t=e.name,n=e.prefix,r=e.bitsPerChar,i=e.alphabet;return mo({prefix:n,name:t,encode:function(e){return function(e,t,n){for(var r="="===t[t.length-1],i=(1<<n)-1,o="",a=0,s=0,c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;a>n;)o+=t[i&s>>(a-=n)];if(a&&(o+=t[i&s<<n-a]),r)for(;o.length*n&7;)o+="=";return o}(e,i,r)},decode:function(e){return function(e,t,n,r){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*n/8|0),c=0,u=0,l=0,d=0;d<a;++d){var f=i[e[d]];if(void 0===f)throw new SyntaxError("Non-".concat(r," character"));u=u<<n|f,(c+=n)>=8&&(c-=8,s[l++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return s}(e,i,r,t)}})},xo=mo({prefix:"\0",name:"identity",encode:function(e){return function(e){return(new TextDecoder).decode(e)}(e)},decode:function(e){return function(e){return(new TextEncoder).encode(e)}(e)}}),ko=yo({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Zo=yo({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Co=bo({prefix:"9",name:"base10",alphabet:"0123456789"}),Eo=yo({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Io=yo({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),So=yo({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ao=yo({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Po=yo({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Oo=yo({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_o=yo({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),No=yo({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),To=yo({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ro=yo({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Lo=yo({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Bo=bo({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Uo=bo({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Mo=bo({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),jo=bo({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Do=yo({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zo=yo({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qo=yo({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ho=yo({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Wo=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Fo=Wo.reduce((function(e,t,n){return e[n]=t,e}),[]),Vo=Wo.reduce((function(e,t,n){return e[t.codePointAt(0)]=n,e}),[]);var Ko=mo({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((function(e,t){return e+=Fo[t]}),"")},decode:function(e){var t,n=[],r=(0,R.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=Vo[i.codePointAt(0)];if(void 0===o)throw new Error("Non-base256emoji character: ".concat(i));n.push(o)}}catch(a){r.e(a)}finally{r.f()}return new Uint8Array(n)}}),Go=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=$o;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},$o=Math.pow(2,31);var Yo=function e(t,n){var r,i=0,o=0,a=n=n||0,s=t.length;do{if(a>=s)throw e.bytes=0,new RangeError("Could not decode varint");r=t[a++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=a-n,i};var Jo=Math.pow(2,7),Xo=Math.pow(2,14),Qo=Math.pow(2,21),ea=Math.pow(2,28),ta=Math.pow(2,35),na=Math.pow(2,42),ra=Math.pow(2,49),ia=Math.pow(2,56),oa=Math.pow(2,63),aa={encode:Go,decode:Yo,encodingLength:function(e){return e<Jo?1:e<Xo?2:e<Qo?3:e<ea?4:e<ta?5:e<na?6:e<ra?7:e<ia?8:e<oa?9:10}},sa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=aa.decode(e,t);return[n,aa.decode.bytes]},ca=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return aa.encode(e,t,n),t},ua=function(e){return aa.encodingLength(e)},la=function(e,t){var n=t.byteLength,r=ua(e),i=r+ua(n),o=new Uint8Array(i+n);return ca(e,o,0),ca(n,o,r),o.set(t,i),new da(e,n,t,o)},da=(0,_.Z)((function e(t,n,r,i){(0,O.Z)(this,e),this.code=t,this.size=n,this.digest=r,this.bytes=i})),fa=function(e){var t=e.name,n=e.code,r=e.encode;return new pa(t,n,r)},pa=function(){function e(t,n,r){(0,O.Z)(this,e),this.name=t,this.code=n,this.encode=r}return(0,_.Z)(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var n=this.encode(e);return n instanceof Uint8Array?la(this.code,n):n.then((function(e){return la(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),ha=function(e){return function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,n);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},va=fa({name:"sha2-256",code:18,encode:ha("SHA-256")}),ga=fa({name:"sha2-512",code:19,encode:ha("SHA-512")}),wa=fo,ma={code:0,name:"identity",encode:wa,digest:function(e){return la(0,wa(e))}},ba="raw",ya=85,xa=function(e){return fo(e)},ka=function(e){return fo(e)},Za=new TextEncoder,Ca=new TextDecoder,Ea="json",Ia=512,Sa=function(e){return Za.encode(JSON.stringify(e))},Aa=function(e){return JSON.parse(Ca.decode(e))},Pa=(Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),function(e,t){switch(e[0]){case"Q":var n=t||Mo;return[Mo.prefix,n.decode("".concat(Mo.prefix).concat(e))];case Mo.prefix:var r=t||Mo;return[Mo.prefix,r.decode(e)];case So.prefix:var i=t||So;return[So.prefix,i.decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}),Oa=function(e,t,n){var r=n.prefix;if(r!==Mo.prefix)throw Error("Cannot string encode V0 in ".concat(n.name," encoding"));var i=t.get(r);if(null==i){var o=n.encode(e).slice(1);return t.set(r,o),o}return i},_a=function(e,t,n){var r=n.prefix,i=t.get(r);if(null==i){var o=n.encode(e);return t.set(r,o),o}return i},Na=112,Ta=18,Ra=function(e,t,n){var r=ua(e),i=r+ua(t),o=new Uint8Array(i+n.byteLength);return ca(e,o,0),ca(t,o,r),o.set(n,i),o},La=Symbol.for("@ipld/js-cid/CID"),Ba={writable:!1,configurable:!1,enumerable:!0},Ua={writable:!1,enumerable:!1,configurable:!1},Ma=function(e,t){if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},ja="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",Da=(0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)({},r),i),o),a),s),c),u),l),d),f);(0,I.Z)((0,I.Z)({},p),h);function za(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}var qa=za("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),Ha=za("ascii","a",(function(e){for(var t="a",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(function(e){for(var t=so((e=e.substring(1)).length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Wa=(0,I.Z)({utf8:qa,"utf-8":qa,hex:Da.base16,latin1:Ha,ascii:Ha,binary:Ha},Da);function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=Wa[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}function Va(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=Wa[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var Ka={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},Ga=":";function $a(e){var t=e.split(Ga),n=(0,S.Z)(t,2);return{namespace:n[0],reference:n[1]}}function Ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return Object.keys(e).forEach((function(r){if(!t.length||t.includes(r)){var i=e[r];n.push.apply(n,(0,N.Z)(i.accounts))}})),n}function Ja(e,t){return e.includes(":")?[e]:t.chains||[]}var Xa=Object.defineProperty,Qa=Object.defineProperties,es=Object.getOwnPropertyDescriptors,ts=Object.getOwnPropertySymbols,ns=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,is=function(e,t,n){return t in e?Xa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},os=function(e,t){for(var n in t||(t={}))ns.call(t,n)&&is(e,n,t[n]);if(ts){var r,i=(0,R.Z)(ts(t));try{for(i.s();!(r=i.n()).done;){n=r.value;rs.call(t,n)&&is(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},as="react-native",ss="node",cs="browser",us="unknown",ls="js";function ds(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function fs(){return!(0,Y.getDocument)()&&!!(0,Y.getNavigator)()&&"ReactNative"===navigator.product}function ps(){return!ds()&&!!(0,Y.getNavigator)()&&!!(0,Y.getDocument)()}function hs(){return fs()?as:ds()?ss:ps()?cs:us}function vs(){var e;try{return fs()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Application)<"u"?null==(e=n.g.Application)?void 0:e.applicationId:void 0}catch(t){return}}function gs(e){var t,n,r=ws();try{return null!=e&&e.url&&r.url&&e.url!==r.url&&(console.warn("The configured WalletConnect 'metadata.url':".concat(e.url," differs from the actual page url:").concat(r.url,". This is probably unintended and can lead to issues.")),e.url=r.url),null!=(t=null===e||void 0===e?void 0:e.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter((function(e){return""!==e}))),function(e,t){return Qa(e,es(t))}(os(os({},r),e),{url:(null===e||void 0===e?void 0:e.url)||r.url,name:(null===e||void 0===e?void 0:e.name)||r.name,description:(null===e||void 0===e?void 0:e.description)||r.description,icons:null!=(n=null===e||void 0===e?void 0:e.icons)&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),e||r}}function ws(){return(0,J.D)()||{name:"",description:"",url:"",icons:[""]}}function ms(e,t,r){var i=function(){if(hs()===as&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){var e=n.g.Platform;return[e.OS,e.Version].join("-")}var t=V();if(null===t)return"unknown";var r=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[r,t.name,t.version].join("-"):[r,t.version].join("-")}(),o=function(){var e,t=hs();return t===cs?[t,(null==(e=(0,Y.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[ls,r].join("-"),i,o].join("/")}function bs(e){var t=e.protocol,n=e.version,r=e.relayUrl,i=e.sdkVersion,o=e.auth,a=e.projectId,s=e.useOnCloseEvent,c=e.bundleId,u=e.packageName,l=r.split("?"),d={auth:o,ua:ms(t,n,i),projectId:a,useOnCloseEvent:s||void 0,packageName:u||void 0,bundleId:c||void 0},f=function(e,t){var n,r=new URLSearchParams(e),i=(0,R.Z)(Object.keys(t).sort());try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t.hasOwnProperty(o)){var a=t[o];void 0!==a&&r.set(o,a)}}}catch(s){i.e(s)}finally{i.f()}return r.toString()}(l[1]||"",d);return l[0]+"?"+f}function ys(e,t){return e.filter((function(e){return t.includes(e)})).length===e.length}function xs(e){return Object.fromEntries(e.entries())}function ks(e){return new Map(Object.entries(e))}function Zs(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.FIVE_MINUTES,o=arguments.length>1?arguments[1]:void 0,a=(0,$.toMiliseconds)(i||$.FIVE_MINUTES);return{resolve:function(t){n&&e&&(clearTimeout(n),e(t),r=Promise.resolve(t))},reject:function(e){n&&t&&(clearTimeout(n),t(e))},done:function(){return new Promise((function(i,s){if(r)return i(r);n=setTimeout((function(){var e=new Error(o);r=Promise.reject(e),s(e)}),a),e=i,t=s}))}}}function Cs(e,t,n){return new Promise(function(){var r=(0,P.Z)((0,A.Z)().mark((function r(i,o){var a,s;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=setTimeout((function(){return o(new Error(n))}),t),r.prev=1,r.next=4,e;case 4:s=r.sent,i(s),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),o(r.t0);case 11:clearTimeout(a);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e,t){return r.apply(this,arguments)}}())}function Es(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function Is(e){var t=e.split(":"),n=(0,S.Z)(t,2),r=n[0],i=n[1],o={id:void 0,topic:void 0};if("topic"===r&&"string"==typeof i)o.topic=i;else{if("id"!==r||!Number.isInteger(Number(i)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(r,":").concat(i));o.id=Number(i)}return o}function Ss(e,t){return(0,$.fromMiliseconds)((t||Date.now())+(0,$.toMiliseconds)(e))}function As(e){return Date.now()>=(0,$.toMiliseconds)(e)}function Ps(e,t){return"".concat(e).concat(t?":".concat(t):"")}function Os(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,N.Z)(new Set([].concat((0,N.Z)(e),(0,N.Z)(t))))}function _s(e){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,P.Z)((0,A.Z)().mark((function e(t){var r,i,o,a,s,c,u,l;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,i=t.topic,o=t.wcDeepLink,e.prev=1,o){e.next=4;break}return e.abrupt("return");case 4:if(s="string"==typeof o?JSON.parse(o):o,"string"==typeof(c=null===s||void 0===s?void 0:s.href)){e.next=7;break}return e.abrupt("return");case 7:if(u=Ts(c,r,i),(l=hs())!==cs){e.next=15;break}if(null!=(a=(0,Y.getDocument)())&&a.hasFocus()){e.next=12;break}return console.warn("Document does not have focus, skipping deeplink."),e.abrupt("return");case 12:Rs(u),e.next=19;break;case 15:if(e.t0=l===as&&typeof(null==n.g?void 0:n.g.Linking)<"u",!e.t0){e.next=19;break}return e.next=19,n.g.Linking.openURL(u);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),console.error(e.t1);case 24:case"end":return e.stop()}}),e,null,[[1,21]])}))),Ns.apply(this,arguments)}function Ts(e,t,n){var r="requestId=".concat(t,"&sessionTopic=").concat(n);e.endsWith("/")&&(e=e.slice(0,-1));var i="".concat(e);if(e.startsWith("https://t.me")){var o=e.includes("?")?"&startapp=":"?startapp=";i="".concat(i).concat(o).concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0))}else i="".concat(i,"/wc?").concat(r);return i}function Rs(e){var t="_self";!function(){try{return window.self!==window.top}catch(e){return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}function Ls(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",e.prev=1,!ps()||!(r=localStorage.getItem(n))){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,t.getItem(n);case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),Bs.apply(this,arguments)}function Us(e,t){if(!e.includes(t))return null;var n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function Ms(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function js(){return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/wallet-sign",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.IS_VITEST}function Ds(e){return Buffer.from(e,"base64").toString("utf-8")}function zs(e){return new Promise((function(t){return setTimeout(t,e)}))}function qs(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Hs(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Ws(e){if(!Hs(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function Fs(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");qs(e.outputLen),qs(e.blockLen)}function Vs(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ks(e,t){Ws(e);var n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}var Gs=BigInt(Math.pow(2,32)-1),$s=BigInt(32);function Ys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{h:Number(e&Gs),l:Number(e>>$s&Gs)}:{h:0|Number(e>>$s&Gs),l:0|Number(e&Gs)}}var Js="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Xs(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Qs(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ec(e,t){return e<<32-t|e>>>t}var tc=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function nc(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function rc(e){for(var t=0;t<e.length;t++)e[t]=nc(e[t])}function ic(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Ws(e),e}function oc(){for(var e=0,t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];Ws(n),e+=n.length}for(var r=new Uint8Array(e),i=0,o=0;i<arguments.length;i++){var a=i<0||arguments.length<=i?void 0:arguments[i];r.set(a,o),o+=a.length}return r}var ac=function(){function e(){(0,O.Z)(this,e)}return(0,_.Z)(e,[{key:"clone",value:function(){return this._cloneInto()}}]),e}();function sc(e){var t=function(t){return e().update(ic(t)).digest()},n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=function(){return e()},t}function cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Js&&"function"==typeof Js.getRandomValues)return Js.getRandomValues(new Uint8Array(e));if(Js&&"function"==typeof Js.randomBytes)return Js.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}for(var uc=[],lc=[],dc=[],fc=BigInt(0),pc=BigInt(1),hc=BigInt(2),vc=BigInt(7),gc=BigInt(256),wc=BigInt(113),mc=0,bc=pc,yc=1,xc=0;mc<24;mc++){var kc;yc=(kc=[xc,(2*yc+3*xc)%5])[0],xc=kc[1],uc.push(2*(5*xc+yc)),lc.push((mc+1)*(mc+2)/2%64);for(var Zc=fc,Cc=0;Cc<7;Cc++)(bc=(bc<<pc^(bc>>vc)*wc)%gc)&hc&&(Zc^=pc<<(pc<<BigInt(Cc))-pc);dc.push(Zc)}var Ec=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length),i=0;i<e.length;i++){var o=Ys(e[i],t),a=o.h,s=o.l,c=[a,s];n[i]=c[0],r[i]=c[1]}return[n,r]}(dc,!0),Ic=(0,S.Z)(Ec,2),Sc=Ic[0],Ac=Ic[1],Pc=function(e,t,n){return n>32?function(e,t,n){return t<<n-32|e>>>64-n}(e,t,n):function(e,t,n){return e<<n|t>>>32-n}(e,t,n)},Oc=function(e,t,n){return n>32?function(e,t,n){return e<<n-32|t>>>64-n}(e,t,n):function(e,t,n){return t<<n|e>>>32-n}(e,t,n)};var _c=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if((0,O.Z)(this,n),(o=t.call(this)).blockLen=e,o.suffix=r,o.outputLen=i,o.enableXOF=a,o.rounds=s,o.pos=0,o.posOut=0,o.finished=!1,o.destroyed=!1,qs(i),0>=o.blockLen||o.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");return o.state=new Uint8Array(200),o.state32=Xs(o.state),(0,y.Z)(o)}return(0,_.Z)(n,[{key:"keccak",value:function(){tc||rc(this.state32),function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=new Uint32Array(10),r=24-t;r<24;r++){for(var i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(var o=0;o<10;o+=2)for(var a=(o+8)%10,s=(o+2)%10,c=n[s],u=n[s+1],l=Pc(c,u,1)^n[a],d=Oc(c,u,1)^n[a+1],f=0;f<50;f+=10)e[o+f]^=l,e[o+f+1]^=d;for(var p=e[2],h=e[3],v=0;v<24;v++){var g=lc[v],w=Pc(p,h,g),m=Oc(p,h,g),b=uc[v];p=e[b],h=e[b+1],e[b]=w,e[b+1]=m}for(var y=0;y<50;y+=10){for(var x=0;x<10;x++)n[x]=e[y+x];for(var k=0;k<10;k++)e[y+k]^=~n[(k+2)%10]&n[(k+4)%10]}e[0]^=Sc[r],e[1]^=Ac[r]}n.fill(0)}(this.state32,this.rounds),tc||rc(this.state32),this.posOut=0,this.pos=0}},{key:"update",value:function(e){Vs(this);for(var t=this.blockLen,n=this.state,r=(e=ic(e)).length,i=0;i<r;){for(var o=Math.min(t-this.pos,r-i),a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}},{key:"finish",value:function(){if(!this.finished){this.finished=!0;var e=this.state,t=this.suffix,n=this.pos,r=this.blockLen;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}}},{key:"writeInto",value:function(e){Vs(this,!1),Ws(e),this.finish();for(var t=this.state,n=this.blockLen,r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();var o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}},{key:"xofInto",value:function(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}},{key:"xof",value:function(e){return qs(e),this.xofInto(new Uint8Array(e))}},{key:"digestInto",value:function(e){if(Ks(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}},{key:"digest",value:function(){return this.digestInto(new Uint8Array(this.outputLen))}},{key:"destroy",value:function(){this.destroyed=!0,this.state.fill(0)}},{key:"_cloneInto",value:function(e){var t=this.blockLen,r=this.suffix,i=this.outputLen,o=this.rounds,a=this.enableXOF;return e||(e=new n(t,r,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}]),n}(ac),Nc=function(e,t,n){return sc((function(){return new _c(t,e,n)}))}(1,136,32),Tc="https://rpc.walletconnect.org/v1";function Rc(e){var t="\x19Ethereum Signed Message:\n".concat(e.length),n=(new TextEncoder).encode(t+e);return"0x"+Buffer.from(Nc(n)).toString("hex")}function Lc(e,t,n,r,i,o){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,P.Z)((0,A.Z)().mark((function e(t,n,r,i,o,a){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r.t,e.next="eip191"===e.t0?3:"eip1271"===e.t0?6:9;break;case 3:return e.next=5,Uc(t,n,r.s);case 5:case 8:return e.abrupt("return",e.sent);case 6:return e.next=8,jc(t,n,r.s,i,o,a);case 9:throw new Error("verifySignature failed: Attempted to verify CacaoSignature with unknown type: ".concat(r.t));case 10:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function Uc(e,t,n){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt({hash:Rc(n),signature:r});case 2:return e.t0=e.sent.toLowerCase(),e.t1=t.toLowerCase(),e.abrupt("return",e.t0===e.t1);case 5:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function jc(e,t,n,r,i,o){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,P.Z)((0,A.Z)().mark((function e(t,n,r,i,o,a){var s,c,u,l,d,f,p,h;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=$a(i)).namespace&&s.reference){e.next=3;break}throw new Error("isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ".concat(i));case 3:return e.prev=3,c="0x1626ba7e","0000000000000000000000000000000000000000000000000000000000000040","0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),l=Rc(n).substring(2),d=c+l+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000041"+u,e.next=12,fetch("".concat(a||Tc,"/?chainId=").concat(i,"&projectId=").concat(o),{method:"POST",body:JSON.stringify({id:zc(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})});case 12:return f=e.sent,e.next=15,f.json();case 15:return p=e.sent,h=p.result,e.abrupt("return",!!h&&h.slice(0,c.length).toLowerCase()===c.toLowerCase());case 20:return e.prev=20,e.t0=e.catch(3),e.abrupt("return",(console.error("isValidEip1271Signature: ",e.t0),!1));case 23:case"end":return e.stop()}}),e,null,[[3,20]])}))),Dc.apply(this,arguments)}function zc(){return Date.now()+Math.floor(1e3*Math.random())}var qc=Object.defineProperty,Hc=Object.defineProperties,Wc=Object.getOwnPropertyDescriptors,Fc=Object.getOwnPropertySymbols,Vc=Object.prototype.hasOwnProperty,Kc=Object.prototype.propertyIsEnumerable,Gc=function(e,t,n){return t in e?qc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},$c=function(e,t){for(var n in t||(t={}))Vc.call(t,n)&&Gc(e,n,t[n]);if(Fc){var r,i=(0,R.Z)(Fc(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Kc.call(t,n)&&Gc(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},Yc=function(e,t){return Hc(e,Wc(t))},Jc=function(e){return null===e||void 0===e?void 0:e.split(":")},Xc=function(e){var t=e&&Jc(e);if(t)return t[2]+":"+t[3]},Qc=function(e){var t=e&&Jc(e);if(t)return t.pop()};function eu(e){return tu.apply(this,arguments)}function tu(){return tu=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cacao,r=t.projectId,i=n.s,o=n.p,a=nu(o,o.iss),s=Qc(o.iss),e.next=3,Lc(s,a,i,Xc(o.iss),r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}var nu=function(e,t){var n="".concat(e.domain," wants you to sign in with your Ethereum account:"),r=Qc(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");var i=e.statement||void 0,o="URI: ".concat(e.aud||e.uri),a="Version: ".concat(e.version),s="Chain ID: ".concat(function(e){var t=e&&Jc(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]}(t)),c="Nonce: ".concat(e.nonce),u="Issued At: ".concat(e.iat),l=e.exp?"Expiration Time: ".concat(e.exp):void 0,d=e.nbf?"Not Before: ".concat(e.nbf):void 0,f=e.requestId?"Request ID: ".concat(e.requestId):void 0,p=e.resources?"Resources:".concat(e.resources.map((function(e){return"\n- ".concat(e)})).join("")):void 0,h=pu(e.resources);h&&(i=lu(i,au(h)));return[n,r,"",i,"",o,a,s,c,u,l,d,f,p].filter((function(e){return null!=e})).join("\n")};function ru(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");var t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach((function(t){var n=e.att[t];if(Array.isArray(n))throw new Error("Resource must be an object: ".concat(t));if("object"!=typeof n)throw new Error("Resource must be an object: ".concat(t));if(!Object.keys(n).length)throw new Error("Resource object is empty: ".concat(t));Object.keys(n).forEach((function(e){var t=n[e];if(!Array.isArray(t))throw new Error("Ability limits ".concat(e," must be an array of objects, found: ").concat(t));if(!t.length)throw new Error("Value of ".concat(e," is empty array, must be an array with objects"));t.forEach((function(t){if("object"!=typeof t)throw new Error("Ability limits (".concat(e,") must be an array of objects, found: ").concat(t))}))}))}))}function iu(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=null===(n=t)||void 0===n?void 0:n.sort((function(e,t){return e.localeCompare(t)}));var i=t.map((function(t){return(0,T.Z)({},"".concat(e,"/").concat(t),[r])}));return Object.assign.apply(Object,[{}].concat((0,N.Z)(i)))}function ou(e){return ru(e),"urn:recap:".concat(function(e){return Buffer.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,""))}function au(e){var t=function(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return ru(t),t}function su(e,t,n){var r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==n&&void 0!==n&&n.sort((function(e,t){return e.localeCompare(t)})),{att:(0,T.Z)({},e,iu(t,n,r))}}(e,t,n);return ou(r)}function cu(e){return e&&e.includes("urn:recap:")}function uu(e,t){var n=function(e,t){ru(e),ru(t);var n=Object.keys(e.att).concat(Object.keys(t.att)).sort((function(e,t){return e.localeCompare(t)})),r={att:{}};return n.forEach((function(n){var i,o;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(o=t.att)?void 0:o[n])||{})).sort((function(e,t){return e.localeCompare(t)})).forEach((function(i){var o,a;r.att[n]=Yc($c({},r.att[n]),(0,T.Z)({},i,(null==(o=e.att[n])?void 0:o[i])||(null==(a=t.att[n])?void 0:a[i])))}))})),r}(au(e),au(t));return ou(n)}function lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;ru(t);var n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;var r=[],i=0;Object.keys(t.att).forEach((function(e){var n=Object.keys(t.att[e]).map((function(e){return{ability:e.split("/")[0],action:e.split("/")[1]}}));n.sort((function(e,t){return e.action.localeCompare(t.action)}));var o={};n.forEach((function(e){o[e.ability]||(o[e.ability]=[]),o[e.ability].push(e.action)}));var a=Object.keys(o).map((function(t){return i++,"(".concat(i,") '").concat(t,"': '").concat(o[t].join("', '"),"' for '").concat(e,"'.")}));r.push(a.join(", ").replace(".,","."))}));var o=r.join(" "),a="".concat(n).concat(o);return"".concat(e?e+" ":"").concat(a)}function du(e){var t,n=au(e);ru(n);var r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map((function(e){return e.split("/")[1]})):[]}function fu(e){var t=au(e);ru(t);var n=[];return Object.values(t.att).forEach((function(e){Object.values(e).forEach((function(e){var t;null!=(t=null===e||void 0===e?void 0:e[0])&&t.chains&&n.push(e[0].chains)}))})),(0,N.Z)(new Set(n.flat()))}function pu(e){if(e){var t=null===e||void 0===e?void 0:e[e.length-1];return cu(t)?t:void 0}}function hu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function vu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function gu(e){if(!vu(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function wu(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function mu(e){if("boolean"!=typeof e)throw new Error("boolean expected, not ".concat(e))}var bu=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))};if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function yu(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!vu(e))throw new Error("Uint8Array expected, got "+typeof e);e=Cu(e)}return e}function xu(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!Zu(t))throw new Error("invalid output, must be aligned");return t}function ku(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);var i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,s,r)}function Zu(e){return e.byteOffset%4===0}function Cu(e){return Uint8Array.from(e)}function Eu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++)t[r].fill(0)}var Iu=function(e){return Uint8Array.from(e.split("").map((function(e){return e.charCodeAt(0)})))},Su=Iu("expand 16-byte k"),Au=Iu("expand 32-byte k"),Pu=bu(Su),Ou=bu(Au);function _u(e,t){return e<<t|e>>>32-t}function Nu(e){return e.byteOffset%4===0}var Tu=Math.pow(2,32)-1,Ru=new Uint32Array;function Lu(e,t,n,r,i,o,a,s){for(var c=i.length,u=new Uint8Array(64),l=bu(u),d=Nu(i)&&Nu(o),f=d?bu(i):Ru,p=d?bu(o):Ru,h=0;h<c;a++){if(e(t,n,r,l,a,s),a>=Tu)throw new Error("arx: counter overflow");var v=Math.min(64,c-h);if(d&&64===v){var g=h/4;if(h%4!==0)throw new Error("arx: invalid block position");for(var w,m=0;m<16;m++)p[w=g+m]=f[w]^l[m];h+=64}else{for(var b,y=0;y<v;y++)o[b=h+y]=i[b]^u[y];h+=v}}}var Bu=function(e,t){return 255&e[t++]|(255&e[t++])<<8},Uu=function(){function e(t){(0,O.Z)(this,e),this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,gu(t=yu(t),32);var n=Bu(t,0),r=Bu(t,2),i=Bu(t,4),o=Bu(t,6),a=Bu(t,8),s=Bu(t,10),c=Bu(t,12),u=Bu(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|o<<9),this.r[4]=255&(o>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|s<<2),this.r[7]=8065&(s>>>11|c<<5),this.r[8]=8191&(c>>>8|u<<8),this.r[9]=u>>>5&127;for(var l=0;l<8;l++)this.pad[l]=Bu(t,16+2*l)}return(0,_.Z)(e,[{key:"process",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?0:2048,i=this.h,o=this.r,a=o[0],s=o[1],c=o[2],u=o[3],l=o[4],d=o[5],f=o[6],p=o[7],h=o[8],v=o[9],g=Bu(e,t+0),w=Bu(e,t+2),m=Bu(e,t+4),b=Bu(e,t+6),y=Bu(e,t+8),x=Bu(e,t+10),k=Bu(e,t+12),Z=Bu(e,t+14),C=i[0]+(8191&g),E=i[1]+(8191&(g>>>13|w<<3)),I=i[2]+(8191&(w>>>10|m<<6)),S=i[3]+(8191&(m>>>7|b<<9)),A=i[4]+(8191&(b>>>4|y<<12)),P=i[5]+(y>>>1&8191),O=i[6]+(8191&(y>>>14|x<<2)),_=i[7]+(8191&(x>>>11|k<<5)),N=i[8]+(8191&(k>>>8|Z<<8)),T=i[9]+(Z>>>5|r),R=0,L=R+C*a+E*(5*v)+I*(5*h)+S*(5*p)+A*(5*f);R=L>>>13,L&=8191;var B=(R+=(L+=P*(5*d)+O*(5*l)+_*(5*u)+N*(5*c)+T*(5*s))>>>13)+C*s+E*a+I*(5*v)+S*(5*h)+A*(5*p);R=B>>>13,B&=8191,R+=(B+=P*(5*f)+O*(5*d)+_*(5*l)+N*(5*u)+T*(5*c))>>>13,B&=8191;var U=R+C*c+E*s+I*a+S*(5*v)+A*(5*h);R=U>>>13,U&=8191,R+=(U+=P*(5*p)+O*(5*f)+_*(5*d)+N*(5*l)+T*(5*u))>>>13,U&=8191;var M=R+C*u+E*c+I*s+S*a+A*(5*v);R=M>>>13,M&=8191,R+=(M+=P*(5*h)+O*(5*p)+_*(5*f)+N*(5*d)+T*(5*l))>>>13,M&=8191;var j=R+C*l+E*u+I*c+S*s+A*a;R=j>>>13,j&=8191,R+=(j+=P*(5*v)+O*(5*h)+_*(5*p)+N*(5*f)+T*(5*d))>>>13,j&=8191;var D=R+C*d+E*l+I*u+S*c+A*s;R=D>>>13,D&=8191,R+=(D+=P*a+O*(5*v)+_*(5*h)+N*(5*p)+T*(5*f))>>>13,D&=8191;var z=R+C*f+E*d+I*l+S*u+A*c;R=z>>>13,z&=8191,R+=(z+=P*s+O*a+_*(5*v)+N*(5*h)+T*(5*p))>>>13,z&=8191;var q=R+C*p+E*f+I*d+S*l+A*u;R=q>>>13,q&=8191,R+=(q+=P*c+O*s+_*a+N*(5*v)+T*(5*h))>>>13,q&=8191;var H=R+C*h+E*p+I*f+S*d+A*l;R=H>>>13,H&=8191,R+=(H+=P*u+O*c+_*s+N*a+T*(5*v))>>>13,H&=8191;var W=R+C*v+E*h+I*p+S*f+A*d;R=W>>>13,W&=8191,R+=(W+=P*l+O*u+_*c+N*s+T*a)>>>13,W&=8191,L=8191&(R=(R=(R<<2)+R|0)+(L&=8191)|0),B+=R>>>=13,i[0]=L,i[1]=B,i[2]=U,i[3]=M,i[4]=j,i[5]=D,i[6]=z,i[7]=q,i[8]=H,i[9]=W}},{key:"finalize",value:function(){var e=this.h,t=this.pad,n=new Uint16Array(10),r=e[1]>>>13;e[1]&=8191;for(var i=2;i<10;i++)e[i]+=r,r=e[i]>>>13,e[i]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(var o=1;o<10;o++)n[o]=e[o]+r,r=n[o]>>>13,n[o]&=8191;n[9]-=8192;for(var a=(1^r)-1,s=0;s<10;s++)n[s]&=a;a=~a;for(var c=0;c<10;c++)e[c]=e[c]&a|n[c];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);var u=e[0]+t[0];e[0]=65535&u;for(var l=1;l<8;l++)u=(e[l]+t[l]|0)+(u>>>16)|0,e[l]=65535&u;Eu(n)}},{key:"update",value:function(e){wu(this);for(var t=this.buffer,n=this.blockLen,r=(e=yu(e)).length,i=0;i<r;){var o=Math.min(n-this.pos,r-i);if(o!==n)t.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}},{key:"destroy",value:function(){Eu(this.h,this.r,this.buffer,this.pad)}},{key:"digestInto",value:function(e){wu(this),function(e,t){gu(e);var n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;var t=this.buffer,n=this.h,r=this.pos;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();for(var i=0,o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}},{key:"digest",value:function(){var e=this.buffer,t=this.outputLen;this.digestInto(e);var n=e.slice(0,t);return this.destroy(),n}}]),e}();var Mu=function(e){var t=function(t,n){return e(n).update(yu(t)).digest()},n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=function(t){return e(t)},t}((function(e){return new Uu(e)}));var ju=function(e,t){var n=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t),r=n.allowShortKeys,i=n.extendNonceFn,o=n.counterLength,a=n.counterRight,s=n.rounds;if("function"!=typeof e)throw new Error("core must be a function");return hu(o),hu(s),mu(a),mu(r),function(t,n,c,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;gu(t),gu(n),gu(c);var d=c.length;if(void 0===u&&(u=new Uint8Array(d)),gu(u),hu(l),l<0||l>=Tu)throw new Error("arx: counter overflow");if(u.length<d)throw new Error("arx: output (".concat(u.length,") is shorter than data (").concat(d,")"));var f,p,h=[],v=t.length;if(32===v)h.push(f=Cu(t)),p=Ou;else{if(16!==v||!r)throw new Error("arx: invalid 32-byte key, got length=".concat(v));(f=new Uint8Array(32)).set(t),f.set(t,16),p=Pu,h.push(f)}Nu(n)||h.push(n=Cu(n));var g=bu(f);if(i){if(24!==n.length)throw new Error("arx: extended nonce must be 24 bytes");i(p,g,bu(n.subarray(0,16)),g),n=n.subarray(16)}var w=16-o;if(w!==n.length)throw new Error("arx: nonce must be ".concat(w," or 16 bytes"));if(12!==w){var m=new Uint8Array(12);m.set(n,a?0:12-n.length),n=m,h.push(n)}var b=bu(n);return Lu(e,p,g,b,c,u,l,s),Eu.apply(void 0,h),u}}((function(e,t,n,r,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,a=e[0],s=e[1],c=e[2],u=e[3],l=t[0],d=t[1],f=t[2],p=t[3],h=t[4],v=t[5],g=t[6],w=t[7],m=i,b=n[0],y=n[1],x=n[2],k=a,Z=s,C=c,E=u,I=l,S=d,A=f,P=p,O=h,_=v,N=g,T=w,R=m,L=b,B=y,U=x,M=0;M<o;M+=2)R=_u(R^(k=k+I|0),16),I=_u(I^(O=O+R|0),12),R=_u(R^(k=k+I|0),8),I=_u(I^(O=O+R|0),7),L=_u(L^(Z=Z+S|0),16),S=_u(S^(_=_+L|0),12),L=_u(L^(Z=Z+S|0),8),S=_u(S^(_=_+L|0),7),B=_u(B^(C=C+A|0),16),A=_u(A^(N=N+B|0),12),B=_u(B^(C=C+A|0),8),A=_u(A^(N=N+B|0),7),U=_u(U^(E=E+P|0),16),P=_u(P^(T=T+U|0),12),U=_u(U^(E=E+P|0),8),P=_u(P^(T=T+U|0),7),U=_u(U^(k=k+S|0),16),S=_u(S^(N=N+U|0),12),U=_u(U^(k=k+S|0),8),S=_u(S^(N=N+U|0),7),R=_u(R^(Z=Z+A|0),16),A=_u(A^(T=T+R|0),12),R=_u(R^(Z=Z+A|0),8),A=_u(A^(T=T+R|0),7),L=_u(L^(C=C+P|0),16),P=_u(P^(O=O+L|0),12),L=_u(L^(C=C+P|0),8),P=_u(P^(O=O+L|0),7),B=_u(B^(E=E+I|0),16),I=_u(I^(_=_+B|0),12),B=_u(B^(E=E+I|0),8),I=_u(I^(_=_+B|0),7);var j=0;r[j++]=a+k|0,r[j++]=s+Z|0,r[j++]=c+C|0,r[j++]=u+E|0,r[j++]=l+I|0,r[j++]=d+S|0,r[j++]=f+A|0,r[j++]=p+P|0,r[j++]=h+O|0,r[j++]=v+_|0,r[j++]=g+N|0,r[j++]=w+T|0,r[j++]=m+R|0,r[j++]=b+L|0,r[j++]=y+B|0,r[j++]=x+U|0}),{counterRight:!1,counterLength:4,allowShortKeys:!1}),Du=new Uint8Array(16),zu=function(e,t){e.update(t);var n=t.length%16;n&&e.update(Du.subarray(n))},qu=new Uint8Array(32);function Hu(e,t,n,r,i){var o=e(t,n,qu),a=Mu.create(o);i&&zu(a,i),zu(a,r);var s=new Uint8Array(16),c=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(s);ku(c,0,BigInt(i?i.length:0),!0),ku(c,8,BigInt(r.length),!0),a.update(s);var u=a.digest();return Eu(o,s),u}var Wu=function(e,t){function n(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(gu(n),void 0!==e.nonceLength){var a=i[0];if(!a)throw new Error("nonce / iv required");e.varSizeNonce?gu(a):gu(a,e.nonceLength)}var s=e.tagLength;s&&void 0!==i[1]&&gu(i[1]);var c=t.apply(void 0,[n].concat(i)),u=function(e,t){if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");gu(t)}},l=!1;return{encrypt:function(e,t){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,gu(e),u(c.encrypt.length,t),c.encrypt(e,t)},decrypt:function(e,t){if(gu(e),s&&e.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return u(c.decrypt.length,t),c.decrypt(e,t)}}}return Object.assign(n,e),n}({blockSize:64,nonceLength:12,tagLength:16},function(e){return function(t,n,r){return{encrypt:function(i,o){var a=i.length;(o=xu(a+16,o,!1)).set(i);var s=o.subarray(0,-16);e(t,n,s,s,1);var c=Hu(e,t,n,s,r);return o.set(c,a),Eu(c),o},decrypt:function(i,o){o=xu(i.length-16,o,!1);var a=i.subarray(0,-16),s=i.subarray(-16),c=Hu(e,t,n,a,r);if(!function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(s,c))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),e(t,n,o,o,1),Eu(c),o}}}}(ju)),Fu=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;(0,O.Z)(this,n),(i=t.call(this)).finished=!1,i.destroyed=!1,Fs(e);var o=ic(r);if(i.iHash=e.create(),"function"!=typeof i.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");i.blockLen=i.iHash.blockLen,i.outputLen=i.iHash.outputLen;var a=i.blockLen,s=new Uint8Array(a);s.set(o.length>a?e.create().update(o).digest():o);for(var c=0;c<s.length;c++)s[c]^=54;i.iHash.update(s),i.oHash=e.create();for(var u=0;u<s.length;u++)s[u]^=106;return i.oHash.update(s),s.fill(0),i}return(0,_.Z)(n,[{key:"update",value:function(e){return Vs(this),this.iHash.update(e),this}},{key:"digestInto",value:function(e){Vs(this),Ws(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}},{key:"digest",value:function(){var e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}},{key:"_cloneInto",value:function(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));var t=this.oHash,n=this.iHash,r=this.finished,i=this.destroyed,o=this.blockLen,a=this.outputLen;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}},{key:"destroy",value:function(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}]),n}(ac),Vu=function(e,t,n){return new Fu(e,t).update(n).digest()};Vu.create=function(e,t){return new Fu(e,t)};var Ku=new Uint8Array([0]),Gu=new Uint8Array;var $u=function(e,t,n,r,i){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;if(Fs(e),qs(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");var i=Math.ceil(r/e.outputLen);void 0===n&&(n=Gu);for(var o=new Uint8Array(i*e.outputLen),a=Vu.create(e,t),s=a._cloneInto(),c=new Uint8Array(a.outputLen),u=0;u<i;u++)Ku[0]=u+1,s.update(0===u?Gu:c).update(n).update(Ku).digestInto(c),o.set(c,e.outputLen*u),a._cloneInto(s);return a.destroy(),s.destroy(),c.fill(0),Ku.fill(0),o.slice(0,r)}(e,function(e,t,n){return Fs(e),void 0===n&&(n=new Uint8Array(e.outputLen)),Vu(e,ic(n),ic(t))}(e,t,n),r,i)};function Yu(e,t,n){return e&t^~e&n}function Ju(e,t,n){return e&t^e&n^t&n}var Xu=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r,i,o){var a;return(0,O.Z)(this,n),(a=t.call(this)).blockLen=e,a.outputLen=r,a.padOffset=i,a.isLE=o,a.finished=!1,a.length=0,a.pos=0,a.destroyed=!1,a.buffer=new Uint8Array(e),a.view=Qs(a.buffer),a}return(0,_.Z)(n,[{key:"update",value:function(e){Vs(this);for(var t=this.view,n=this.buffer,r=this.blockLen,i=(e=ic(e)).length,o=0;o<i;){var a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else for(var s=Qs(e);r<=i-o;o+=r)this.process(s,o)}return this.length+=e.length,this.roundClean(),this}},{key:"digestInto",value:function(e){Vs(this),Ks(e,this),this.finished=!0;var t=this.buffer,n=this.view,r=this.blockLen,i=this.isLE,o=this.pos;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(var a=o;a<r;a++)t[a]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);var i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,s,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);var s=Qs(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");var u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(var d=0;d<u;d++)s.setUint32(4*d,l[d],i)}},{key:"digest",value:function(){var e=this.buffer,t=this.outputLen;this.digestInto(e);var n=e.slice(0,t);return this.destroy(),n}},{key:"_cloneInto",value:function(e){var t;e||(e=new this.constructor),(t=e).set.apply(t,(0,N.Z)(this.get()));var n=this.blockLen,r=this.buffer,i=this.length,o=this.finished,a=this.destroyed,s=this.pos;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%n&&e.buffer.set(r),e}}]),n}(ac),Qu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),el=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tl=new Uint32Array(64),nl=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this,64,32,8,!1)).A=0|el[0],e.B=0|el[1],e.C=0|el[2],e.D=0|el[3],e.E=0|el[4],e.F=0|el[5],e.G=0|el[6],e.H=0|el[7],e}return(0,_.Z)(n,[{key:"get",value:function(){return[this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H]}},{key:"set",value:function(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}},{key:"process",value:function(e,t){for(var n=0;n<16;n++,t+=4)tl[n]=e.getUint32(t,!1);for(var r=16;r<64;r++){var i=tl[r-15],o=tl[r-2],a=ec(i,7)^ec(i,18)^i>>>3,s=ec(o,17)^ec(o,19)^o>>>10;tl[r]=s+tl[r-7]+a+tl[r-16]|0}var c=this.A,u=this.B,l=this.C,d=this.D,f=this.E,p=this.F,h=this.G,v=this.H;for(n=0;n<64;n++){o=v+(i=ec(f,6)^ec(f,11)^ec(f,25))+Yu(f,p,h)+Qu[n]+tl[n]|0,s=(ec(c,2)^ec(c,13)^ec(c,22))+Ju(c,u,l)|0;v=h,h=p,p=f,f=d+o|0,d=l,l=u,u=c,c=o+s|0}c=c+this.A|0,u=u+this.B|0,l=l+this.C|0,d=d+this.D|0,f=f+this.E|0,p=p+this.F|0,h=h+this.G|0,v=v+this.H|0,this.set(c,u,l,d,f,p,h,v)}},{key:"roundClean",value:function(){tl.fill(0)}},{key:"destroy",value:function(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}]),n}(Xu),rl=sc((function(){return new nl})),il=BigInt(0),ol=BigInt(1),al=BigInt(2);function sl(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function cl(e){if(!sl(e))throw new Error("Uint8Array expected")}function ul(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}var ll=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function dl(e){cl(e);for(var t="",n=0;n<e.length;n++)t+=ll[e[n]];return t}function fl(e){var t=e.toString(16);return 1&t.length?"0"+t:t}function pl(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?il:BigInt("0x"+e)}var hl=48,vl=57,gl=65,wl=70,ml=97,bl=102;function yl(e){return e>=hl&&e<=vl?e-hl:e>=gl&&e<=wl?e-(gl-10):e>=ml&&e<=bl?e-(ml-10):void 0}function xl(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);var t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);for(var r=new Uint8Array(n),i=0,o=0;i<n;i++,o+=2){var a=yl(e.charCodeAt(o)),s=yl(e.charCodeAt(o+1));if(void 0===a||void 0===s){var c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=16*a+s}return r}function kl(e){return pl(dl(e))}function Zl(e){return cl(e),pl(dl(Uint8Array.from(e).reverse()))}function Cl(e,t){return xl(e.toString(16).padStart(2*t,"0"))}function El(e,t){return Cl(e,t).reverse()}function Il(e,t,n){var r;if("string"==typeof t)try{r=xl(t)}catch(Cc){throw new Error(e+" must be hex string or Uint8Array, cause: "+Cc)}else{if(!sl(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}var i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Sl(){for(var e=0,t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];cl(n),e+=n.length}for(var r=new Uint8Array(e),i=0,o=0;i<arguments.length;i++){var a=i<0||arguments.length<=i?void 0:arguments[i];r.set(a,o),o+=a.length}return r}var Al=function(e){return"bigint"==typeof e&&il<=e};function Pl(e,t,n){return Al(e)&&Al(t)&&Al(n)&&t<=e&&e<n}function Ol(e,t,n,r){if(!Pl(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function _l(e){var t;for(t=0;e>il;e>>=ol,t+=1);return t}var Nl=function(e){return(al<<BigInt(e-1))-ol},Tl=function(e){return new Uint8Array(e)},Rl=function(e){return Uint8Array.from(e)};function Ll(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");var r=Tl(e),i=Tl(e),o=0,a=function(){r.fill(1),i.fill(0),o=0},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.apply(void 0,[i,r].concat(t))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tl();i=s(Rl([0]),e),r=s(),0!==e.length&&(i=s(Rl([1]),e),r=s())},u=function(){if(o++>=1e3)throw new Error("drbg: tried 1000 values");for(var e=0,n=[];e<t;){var i=(r=s()).slice();n.push(i),e+=r.length}return Sl.apply(void 0,n)};return function(e,t){var n;for(a(),c(e);!(n=t(u()));)c();return a(),n}}var Bl={bigint:function(e){return"bigint"==typeof e},function:function(e){return"function"==typeof e},boolean:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},stringOrUint8Array:function(e){return"string"==typeof e||sl(e)},isSafeInteger:function(e){return Number.isSafeInteger(e)},array:function(e){return Array.isArray(e)},field:function(e,t){return t.Fp.isValid(e)},hash:function(e){return"function"==typeof e&&Number.isSafeInteger(e.outputLen)}};function Ul(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,n,r){var i=Bl[n];if("function"!=typeof i)throw new Error("invalid validator function");var o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)},i=0,o=Object.entries(t);i<o.length;i++){var a=(0,S.Z)(o[i],2),s=a[0],c=a[1];r(s,c,!1)}for(var u=0,l=Object.entries(n);u<l.length;u++){var d=(0,S.Z)(l[u],2),f=d[0],p=d[1];r(f,p,!0)}return e}function Ml(e){var t=new WeakMap;return function(n){var r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=e.apply(void 0,[n].concat(o));return t.set(n,s),s}}var jl=Object.freeze({__proto__:null,isBytes:sl,abytes:cl,abool:ul,bytesToHex:dl,numberToHexUnpadded:fl,hexToNumber:pl,hexToBytes:xl,bytesToNumberBE:kl,bytesToNumberLE:Zl,numberToBytesBE:Cl,numberToBytesLE:El,numberToVarBytesBE:function(e){return xl(fl(e))},ensureBytes:Il,concatBytes:Sl,equalBytes:function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},utf8ToBytes:function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))},inRange:Pl,aInRange:Ol,bitLen:_l,bitGet:function(e,t){return e>>BigInt(t)&ol},bitSet:function(e,t,n){return e|(n?ol:il)<<BigInt(t)},bitMask:Nl,createHmacDrbg:Ll,validateObject:Ul,notImplemented:function(){throw new Error("not implemented")},memoized:Ml}),Dl=BigInt(0),zl=BigInt(1),ql=BigInt(2),Hl=BigInt(3),Wl=BigInt(4),Fl=BigInt(5),Vl=BigInt(8);function Kl(e,t){var n=e%t;return n>=Dl?n:t+n}function Gl(e,t,n){if(t<Dl)throw new Error("invalid exponent, negatives unsupported");if(n<=Dl)throw new Error("invalid modulus");if(n===zl)return Dl;for(var r=zl;t>Dl;)t&zl&&(r=r*e%n),e=e*e%n,t>>=zl;return r}function $l(e,t,n){for(var r=e;t-- >Dl;)r*=r,r%=n;return r}function Yl(e,t){if(e===Dl)throw new Error("invert: expected non-zero number");if(t<=Dl)throw new Error("invert: expected positive modulus, got "+t);for(var n=Kl(e,t),r=t,i=Dl,o=zl;n!==Dl;){var a=r%n,s=i-o*(r/n);r=n,n=a,i=o,o=s}if(r!==zl)throw new Error("invert: does not exist");return Kl(i,t)}function Jl(e){if(e%Wl===Hl){var t=(e+zl)/Wl;return function(e,n){var r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Vl===Fl){var n=(e-Fl)/Vl;return function(e,t){var r=e.mul(t,ql),i=e.pow(r,n),o=e.mul(t,i),a=e.mul(e.mul(o,ql),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),t))throw new Error("Cannot find square root");return s}}return function(e){var t,n,r,i=(e-zl)/ql;for(t=e-zl,n=0;t%ql===Dl;t/=ql,n++);for(r=ql;r<e&&Gl(r,i,e)!==e-zl;r++)if(r>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){var o=(e+zl)/Wl;return function(e,t){var n=e.pow(t,o);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}}var a=(t+zl)/ql;return function(e,o){if(e.pow(o,i)===e.neg(e.ONE))throw new Error("Cannot find square root");for(var s=n,c=e.pow(e.mul(e.ONE,r),t),u=e.pow(o,a),l=e.pow(o,t);!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;for(var d=1,f=e.sqr(l);d<s&&!e.eql(f,e.ONE);d++)f=e.sqr(f);var p=e.pow(c,zl<<BigInt(s-d-1));c=e.sqr(p),u=e.mul(u,p),l=e.mul(l,c),s=d}return u}}(e)}var Xl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ql(e,t,n){if(n<Dl)throw new Error("invalid exponent, negatives unsupported");if(n===Dl)return e.ONE;if(n===zl)return t;for(var r=e.ONE,i=t;n>Dl;)n&zl&&(r=e.mul(r,i)),i=e.sqr(i),n>>=zl;return r}function ed(e,t){var n=new Array(t.length),r=t.reduce((function(t,r,i){return e.is0(r)?t:(n[i]=t,e.mul(t,r))}),e.ONE),i=e.inv(r);return t.reduceRight((function(t,r,i){return e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))}),i),n}function td(e,t){var n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function nd(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Dl)throw new Error("invalid field: expected ORDER > 0, got "+e);var i,o=td(e,t),a=o.nBitLength,s=o.nByteLength;if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");var c=Object.freeze({ORDER:e,isLE:n,BITS:a,BYTES:s,MASK:Nl(a),ZERO:Dl,ONE:zl,create:function(t){return Kl(t,e)},isValid:function(t){if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Dl<=t&&t<e},is0:function(e){return e===Dl},isOdd:function(e){return(e&zl)===zl},neg:function(t){return Kl(-t,e)},eql:function(e,t){return e===t},sqr:function(t){return Kl(t*t,e)},add:function(t,n){return Kl(t+n,e)},sub:function(t,n){return Kl(t-n,e)},mul:function(t,n){return Kl(t*n,e)},pow:function(e,t){return Ql(c,e,t)},div:function(t,n){return Kl(t*Yl(n,e),e)},sqrN:function(e){return e*e},addN:function(e,t){return e+t},subN:function(e,t){return e-t},mulN:function(e,t){return e*t},inv:function(t){return Yl(t,e)},sqrt:r.sqrt||function(t){return i||(i=Jl(e)),i(c,t)},invertBatch:function(e){return ed(c,e)},cmov:function(e,t,n){return n?t:e},toBytes:function(e){return n?El(e,s):Cl(e,s)},fromBytes:function(e){if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?Zl(e):kl(e)}});return Object.freeze(c)}function rd(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");var t=e.toString(2).length;return Math.ceil(t/8)}function id(e){var t=rd(e);return t+Math.ceil(t/2)}var od=BigInt(0),ad=BigInt(1);function sd(e,t){var n=t.negate();return e?n:t}function cd(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ud(e,t){return cd(e,t),{windows:Math.ceil(t/e)+1,windowSize:Math.pow(2,e-1)}}var ld=new WeakMap,dd=new WeakMap;function fd(e){return dd.get(e)||1}function pd(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((function(e,n){if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((function(e,n){if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");for(var i=e.ZERO,o=_l(BigInt(n.length)),a=o>12?o-3:o>4?o-2:o?2:1,s=(1<<a)-1,c=new Array(s+1).fill(i),u=i,l=Math.floor((t.BITS-1)/a)*a;l>=0;l-=a){c.fill(i);for(var d=0;d<r.length;d++){var f=r[d],p=Number(f>>BigInt(l)&BigInt(s));c[p]=c[p].add(n[d])}for(var h=i,v=c.length-1,g=i;v>0;v--)g=g.add(c[v]),h=h.add(g);if(u=u.add(h),0!==l)for(var w=0;w<a;w++)u=u.double()}return u}function hd(e){return function(e){var t=Xl.reduce((function(e,t){return e[t]="function",e}),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Ul(e,t)}(e.Fp),Ul(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,I.Z)((0,I.Z)((0,I.Z)({},td(e.n,e.nBitLength)),e),{},{p:e.Fp.ORDER}))}BigInt(0),BigInt(1),BigInt(2),BigInt(8);var vd=BigInt(0),gd=BigInt(1);var wd=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);var md=BigInt(1),bd=BigInt(2),yd=BigInt(3),xd=BigInt(5);BigInt(8);var kd=function(e){var t=function(e){return Ul(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze((0,I.Z)({},e))}(e),n=t.P,r=function(e){return Kl(e,n)},i=t.montgomeryBits,o=Math.ceil(i/8),a=t.nByteLength,s=t.adjustScalarBytes||function(e){return e},c=t.powPminus2||function(e){return Gl(e,n-BigInt(2),n)};function u(e,t,n){var i=r(e*(t-n));return[t=r(t-i),n=r(n+i)]}var l=(t.a-BigInt(2))/BigInt(4);function d(e){return El(r(e),o)}function f(e,t){var f=function(e){var t=Il("u coordinate",e,o);return 32===a&&(t[31]&=127),Zl(t)}(t),p=function(e){var t=Il("scalar",e),n=t.length;if(n!==o&&n!==a)throw new Error("invalid scalar, expected "+o+" or "+a+" bytes, got "+n);return Zl(s(t))}(e),h=function(e,t){Ol("u",e,vd,n),Ol("scalar",t,vd,n);for(var o,a=t,s=e,d=gd,f=vd,p=e,h=gd,v=vd,g=BigInt(i-1);g>=vd;g--){var w=a>>g&gd;d=(o=u(v^=w,d,p))[0],p=o[1],f=(o=u(v,f,h))[0],h=o[1],v=w;var m=d+f,b=r(m*m),y=d-f,x=r(y*y),k=b-x,Z=p+h,C=r((p-h)*m),E=r(Z*y),I=C+E,S=C-E;p=r(I*I),h=r(s*r(S*S)),d=r(b*x),f=r(k*(b+r(l*k)))}d=(o=u(v,d,p))[0],p=o[1],f=(o=u(v,f,h))[0],h=o[1];var A=c(f);return r(d*A)}(f,p);if(h===vd)throw new Error("invalid private or public key received");return d(h)}var p=d(t.Gu);function h(e){return f(e,p)}return{scalarMult:f,scalarMultBase:h,getSharedSecret:function(e,t){return f(e,t)},getPublicKey:function(e){return h(e)},utils:{randomPrivateKey:function(){return t.randomBytes(t.nByteLength)}},GuBytes:p}}({P:wd,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:function(e){var t=wd,n=function(e){var t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=wd,a=e*e%o*e%o,s=$l(a,bd,o)*a%o,c=$l(s,md,o)*e%o,u=$l(c,xd,o)*c%o,l=$l(u,t,o)*u%o,d=$l(l,n,o)*l%o,f=$l(d,r,o)*d%o,p=$l(f,i,o)*f%o,h=$l(p,i,o)*f%o,v=$l(h,t,o)*u%o;return{pow_p_5_8:$l(v,bd,o)*e%o,b2:a}}(e),r=n.pow_p_5_8,i=n.b2;return Kl($l(r,yd,t)*i,t)},adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},randomBytes:cc});function Zd(e){void 0!==e.lowS&&ul("lowS",e.lowS),void 0!==e.prehash&&ul("prehash",e.prehash)}var Cd=jl.bytesToNumberBE,Ed=jl.hexToBytes,Id=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,O.Z)(this,n),t.call(this,e)}return(0,_.Z)(n)}((0,C.Z)(Error)),Sd={Err:Id,_tlv:{encode:function(e,t){var n=Sd.Err;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");var r=t.length/2,i=fl(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");var o=r>127?fl(i.length/2|128):"";return fl(e)+o+i+t},decode:function(e,t){var n=Sd.Err,r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");var i=t[r++],o=0;if(!!(128&i)){var a=127&i;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");var s=t.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");var c,u=(0,R.Z)(s);try{for(u.s();!(c=u.n()).done;){o=o<<8|c.value}}catch(d){u.e(d)}finally{u.f()}if(r+=a,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;var l=t.subarray(r,r+o);if(l.length!==o)throw new n("tlv.decode: wrong value length");return{v:l,l:t.subarray(r+o)}}},_int:{encode:function(e){var t=Sd.Err;if(e<Ad)throw new t("integer: negative integers are not allowed");var n=fl(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode:function(e){var t=Sd.Err;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Cd(e)}},toSig:function(e){var t=Sd.Err,n=Sd._int,r=Sd._tlv,i="string"==typeof e?Ed(e):e;cl(i);var o=r.decode(48,i),a=o.v;if(o.l.length)throw new t("invalid signature: left bytes after parsing");var s=r.decode(2,a),c=s.v,u=s.l,l=r.decode(2,u),d=l.v;if(l.l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig:function(e){var t=Sd._tlv,n=Sd._int,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},Ad=BigInt(0),Pd=BigInt(1);BigInt(2);var Od=BigInt(3);function _d(e){var t=function(e){var t=hd(e);Ul(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});var n=t.endo,r=t.Fp,i=t.a;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze((0,I.Z)({},t))}(e),n=t.Fp,r=nd(t.n,t.nBitLength),i=t.toBytes||function(e,t,r){var i=t.toAffine();return Sl(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))},o=t.fromBytes||function(e){var t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}};function a(e){var r=t.a,i=t.b,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){var n,r=t.allowedPrivateKeyLengths,i=t.nByteLength,o=t.wrapPrivateKey,a=t.n;if(r&&"bigint"!=typeof e){if(sl(e)&&(e=dl(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*i,"0")}try{n="bigint"==typeof e?e:kl(Il("private key",e,i))}catch(s){throw new Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(n=Kl(n,a)),Ol("private key",n,Pd,a),n}function c(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}var u=Ml((function(e,t){var r=e.px,i=e.py,o=e.pz;if(n.eql(o,n.ONE))return{x:r,y:i};var a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));var s=n.mul(r,t),c=n.mul(i,t),u=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:s,y:c}})),l=Ml((function(e){if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}var r=e.toAffine(),i=r.x,o=r.y;if(!n.isValid(i)||!n.isValid(o))throw new Error("bad point: x or y not FE");var s=n.sqr(o),c=a(i);if(!n.eql(s,c))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0})),d=function(){function e(t,r,i){if((0,O.Z)(this,e),this.px=t,this.py=r,this.pz=i,null==t||!n.isValid(t))throw new Error("x required");if(null==r||!n.isValid(r))throw new Error("y required");if(null==i||!n.isValid(i))throw new Error("z required");Object.freeze(this)}return(0,_.Z)(e,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"_setWindowSize",value:function(e){p.setWindowSize(this,e)}},{key:"assertValidity",value:function(){l(this)}},{key:"hasEvenY",value:function(){var e=this.toAffine().y;if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}},{key:"equals",value:function(e){c(e);var t=this.px,r=this.py,i=this.pz,o=e.px,a=e.py,s=e.pz,u=n.eql(n.mul(t,s),n.mul(o,i)),l=n.eql(n.mul(r,s),n.mul(a,i));return u&&l}},{key:"negate",value:function(){return new e(this.px,n.neg(this.py),this.pz)}},{key:"double",value:function(){var r=t.a,i=t.b,o=n.mul(i,Od),a=this.px,s=this.py,c=this.pz,u=n.ZERO,l=n.ZERO,d=n.ZERO,f=n.mul(a,a),p=n.mul(s,s),h=n.mul(c,c),v=n.mul(a,s);return v=n.add(v,v),d=n.mul(a,c),d=n.add(d,d),u=n.mul(r,d),l=n.mul(o,h),l=n.add(u,l),u=n.sub(p,l),l=n.add(p,l),l=n.mul(u,l),u=n.mul(v,u),d=n.mul(o,d),h=n.mul(r,h),v=n.sub(f,h),v=n.mul(r,v),v=n.add(v,d),d=n.add(f,f),f=n.add(d,f),f=n.add(f,h),f=n.mul(f,v),l=n.add(l,f),h=n.mul(s,c),h=n.add(h,h),f=n.mul(h,v),u=n.sub(u,f),d=n.mul(h,p),d=n.add(d,d),new e(u,l,d=n.add(d,d))}},{key:"add",value:function(r){c(r);var i=this.px,o=this.py,a=this.pz,s=r.px,u=r.py,l=r.pz,d=n.ZERO,f=n.ZERO,p=n.ZERO,h=t.a,v=n.mul(t.b,Od),g=n.mul(i,s),w=n.mul(o,u),m=n.mul(a,l),b=n.add(i,o),y=n.add(s,u);b=n.mul(b,y),y=n.add(g,w),b=n.sub(b,y),y=n.add(i,a);var x=n.add(s,l);return y=n.mul(y,x),x=n.add(g,m),y=n.sub(y,x),x=n.add(o,a),d=n.add(u,l),x=n.mul(x,d),d=n.add(w,m),x=n.sub(x,d),p=n.mul(h,y),d=n.mul(v,m),p=n.add(d,p),d=n.sub(w,p),p=n.add(w,p),f=n.mul(d,p),w=n.add(g,g),w=n.add(w,g),m=n.mul(h,m),y=n.mul(v,y),w=n.add(w,m),m=n.sub(g,m),m=n.mul(h,m),y=n.add(y,m),g=n.mul(w,y),f=n.add(f,g),g=n.mul(x,y),d=n.mul(b,d),d=n.sub(d,g),g=n.mul(b,w),p=n.mul(x,p),new e(d,f,p=n.add(p,g))}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"is0",value:function(){return this.equals(e.ZERO)}},{key:"wNAF",value:function(t){return p.wNAFCached(this,t,e.normalizeZ)}},{key:"multiplyUnsafe",value:function(r){var i=t.endo,o=t.n;Ol("scalar",r,Ad,o);var a=e.ZERO;if(r===Ad)return a;if(this.is0()||r===Pd)return this;if(!i||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,r,e.normalizeZ);for(var s=i.splitScalar(r),c=s.k1neg,u=s.k1,l=s.k2neg,d=s.k2,f=a,h=a,v=this;u>Ad||d>Ad;)u&Pd&&(f=f.add(v)),d&Pd&&(h=h.add(v)),v=v.double(),u>>=Pd,d>>=Pd;return c&&(f=f.negate()),l&&(h=h.negate()),h=new e(n.mul(h.px,i.beta),h.py,h.pz),f.add(h)}},{key:"multiply",value:function(r){var i,o,a=t.endo,s=t.n;if(Ol("scalar",r,Pd,s),a){var c=a.splitScalar(r),u=c.k1neg,l=c.k1,d=c.k2neg,f=c.k2,h=this.wNAF(l),v=h.p,g=h.f,w=this.wNAF(f),m=w.p,b=w.f;v=p.constTimeNegate(u,v),m=p.constTimeNegate(d,m),m=new e(n.mul(m.px,a.beta),m.py,m.pz),i=v.add(m),o=g.add(b)}else{var y=this.wNAF(r);i=y.p,o=y.f}return e.normalizeZ([i,o])[0]}},{key:"multiplyAndAddUnsafe",value:function(t,n,r){var i=e.BASE,o=function(e,t){return t!==Ad&&t!==Pd&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t)},a=o(this,n).add(o(t,r));return a.is0()?void 0:a}},{key:"toAffine",value:function(e){return u(this,e)}},{key:"isTorsionFree",value:function(){var n=t.h,r=t.isTorsionFree;if(n===Pd)return!0;if(r)return r(e,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}},{key:"clearCofactor",value:function(){var n=t.h,r=t.clearCofactor;return n===Pd?this:r?r(e,this):this.multiplyUnsafe(t.h)}},{key:"toRawBytes",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ul("isCompressed",t),this.assertValidity(),i(e,this,t)}},{key:"toHex",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ul("isCompressed",e),dl(this.toRawBytes(e))}}],[{key:"fromAffine",value:function(t){var r=t||{},i=r.x,o=r.y;if(!t||!n.isValid(i)||!n.isValid(o))throw new Error("invalid affine point");if(t instanceof e)throw new Error("projective point not allowed");var a=function(e){return n.eql(e,n.ZERO)};return a(i)&&a(o)?e.ZERO:new e(i,o,n.ONE)}},{key:"normalizeZ",value:function(t){var r=n.invertBatch(t.map((function(e){return e.pz})));return t.map((function(e,t){return e.toAffine(r[t])})).map(e.fromAffine)}},{key:"fromHex",value:function(t){var n=e.fromAffine(o(Il("pointHex",t)));return n.assertValidity(),n}},{key:"fromPrivateKey",value:function(t){return e.BASE.multiply(s(t))}},{key:"msm",value:function(t,n){return pd(e,r,t,n)}}]),e}();d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);var f=t.nBitLength,p=function(e,t){return{constTimeNegate:sd,hasPrecomputes:function(e){return 1!==fd(e)},unsafeLadder:function(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;n>od;)n&ad&&(r=r.add(i)),i=i.double(),n>>=ad;return r},precomputeWindow:function(e,n){for(var r=ud(n,t),i=r.windows,o=r.windowSize,a=[],s=e,c=s,u=0;u<i;u++){c=s,a.push(c);for(var l=1;l<o;l++)c=c.add(s),a.push(c);s=c.double()}return a},wNAF:function(n,r,i){for(var o=ud(n,t),a=o.windows,s=o.windowSize,c=e.ZERO,u=e.BASE,l=BigInt(Math.pow(2,n)-1),d=Math.pow(2,n),f=BigInt(n),p=0;p<a;p++){var h=p*s,v=Number(i&l);i>>=f,v>s&&(v-=d,i+=ad);var g=h,w=h+Math.abs(v)-1,m=p%2!==0,b=v<0;0===v?u=u.add(sd(m,r[g])):c=c.add(sd(b,r[w]))}return{p:c,f:u}},wNAFUnsafe:function(n,r,i){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO,a=ud(n,t),s=a.windows,c=a.windowSize,u=BigInt(Math.pow(2,n)-1),l=Math.pow(2,n),d=BigInt(n),f=0;f<s;f++){var p=f*c;if(i===od)break;var h=Number(i&u);if(i>>=d,h>c&&(h-=l,i+=ad),0!==h){var v=r[p+Math.abs(h)-1];h<0&&(v=v.negate()),o=o.add(v)}}return o},getPrecomputes:function(e,t,n){var r=ld.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&ld.set(t,n(r))),r},wNAFCached:function(e,t,n){var r=fd(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe:function(e,t,n,r){var i=fd(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize:function(e,n){cd(n,t),dd.set(e,n),ld.delete(e)}}}(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:s,weierstrassEquation:a,isWithinCurveOrder:function(e){return Pl(e,Pd,t.n)}}}function Nd(e){var t=function(e){var t=hd(e);return Ul(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,I.Z)({lowS:!0},t))}(e),n=t.Fp,r=t.n,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return Kl(e,r)}function s(e){return Yl(e,r)}var c=_d((0,I.Z)((0,I.Z)({},t),{},{toBytes:function(e,t,r){var i=t.toAffine(),o=n.toBytes(i.x),a=Sl;return ul("isCompressed",r),r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes:function(e){var t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r)return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+t)}var s=kl(a);if(!Pl(s,Pd,n.ORDER))throw new Error("Point is not on curve");var c,u=d(s);try{c=n.sqrt(u)}catch(kn){var l=kn instanceof Error?": "+kn.message:"";throw new Error("Point is not on curve"+l)}return 1===(1&r)!==((c&Pd)===Pd)&&(c=n.neg(c)),{x:s,y:c}}})),u=c.ProjectivePoint,l=c.normPrivateKeyToScalar,d=c.weierstrassEquation,f=c.isWithinCurveOrder,p=function(e){return dl(Cl(e,t.nByteLength))};function h(e){return e>r>>Pd}function v(e){return h(e)?a(-e):e}var g=function(e,t,n){return kl(e.slice(t,n))},w=function(){function e(t,n,r){(0,O.Z)(this,e),this.r=t,this.s=n,this.recovery=r,this.assertValidity()}return(0,_.Z)(e,[{key:"assertValidity",value:function(){Ol("r",this.r,Pd,r),Ol("s",this.s,Pd,r)}},{key:"addRecoveryBit",value:function(t){return new e(this.r,this.s,t)}},{key:"recoverPublicKey",value:function(e){var r=this.r,i=this.s,o=this.recovery,c=x(Il("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");var l=2===o||3===o?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");var d=0===(1&o)?"02":"03",f=u.fromHex(d+p(l)),h=s(l),v=a(-c*h),g=a(i*h),w=u.BASE.multiplyAndAddUnsafe(f,v,g);if(!w)throw new Error("point at infinify");return w.assertValidity(),w}},{key:"hasHighS",value:function(){return h(this.s)}},{key:"normalizeS",value:function(){return this.hasHighS()?new e(this.r,a(-this.s),this.recovery):this}},{key:"toDERRawBytes",value:function(){return xl(this.toDERHex())}},{key:"toDERHex",value:function(){return Sd.hexFromSig({r:this.r,s:this.s})}},{key:"toCompactRawBytes",value:function(){return xl(this.toCompactHex())}},{key:"toCompactHex",value:function(){return p(this.r)+p(this.s)}}],[{key:"fromCompact",value:function(n){var r=t.nByteLength;return n=Il("compactSignature",n,2*r),new e(g(n,0,r),g(n,r,2*r))}},{key:"fromDER",value:function(t){var n=Sd.toSig(Il("DER",t));return new e(n.r,n.s)}}]),e}(),m={isValidPrivateKey:function(e){try{return l(e),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:function(){var e=id(t.n);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.length,i=rd(t),o=id(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);var a=Kl(n?Zl(e):kl(e),t-zl)+zl;return n?El(a,i):Cl(a,i)}(t.randomBytes(e),t.n)},precompute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function b(e){var t=sl(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof u}var y=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");var n=kl(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},x=t.bits2int_modN||function(e){return a(y(e))},k=Nl(t.nBitLength);function Z(e){return Ol("num < 2^"+t.nBitLength,e,Ad,k),Cl(e,t.nByteLength)}function C(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;if(["recovered","canonical"].some((function(e){return e in i})))throw new Error("sign() legacy options not supported");var o=t.hash,c=t.randomBytes,d=i.lowS,p=i.prehash,g=i.extraEntropy;null==d&&(d=!0),e=Il("msgHash",e),Zd(i),p&&(e=Il("prehashed msgHash",o(e)));var m=x(e),b=l(r),k=[Z(b),Z(m)];if(null!=g&&!1!==g){var C=!0===g?c(n.BYTES):g;k.push(Il("extraEntropy",C))}var I=Sl.apply(void 0,k),S=m;function A(e){var t=y(e);if(f(t)){var n=s(t),r=u.BASE.multiply(t).toAffine(),i=a(r.x);if(i!==Ad){var o=a(n*a(S+i*b));if(o!==Ad){var c=(r.x===i?0:2)|Number(r.y&Pd),l=o;return d&&h(o)&&(l=v(o),c^=1),new w(i,l,c)}}}}return{seed:I,k2sig:A}}var E={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,i=C(e,n,r),o=i.seed,a=i.k2sig,s=t;return Ll(s.hash.outputLen,s.nByteLength,s.hmac)(o,a)},verify:function(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S,c=e;n=Il("msgHash",n),r=Il("publicKey",r);var l=o.lowS,d=o.prehash,f=o.format;if(Zd(o),"strict"in o)throw new Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw new Error("format must be compact or der");var p,h,v="string"==typeof c||sl(c),g=!v&&!f&&"object"==typeof c&&null!==c&&"bigint"==typeof c.r&&"bigint"==typeof c.s;if(!v&&!g)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(p=new w(c.r,c.s)),v){try{"compact"!==f&&(p=w.fromDER(c))}catch(Yt){if(!(Yt instanceof Sd.Err))throw Yt}!p&&"der"!==f&&(p=w.fromCompact(c))}h=u.fromHex(r)}catch(A){return!1}if(!p||l&&p.hasHighS())return!1;d&&(n=t.hash(n));var m=p,b=m.r,y=m.s,k=x(n),Z=s(y),C=a(k*Z),E=a(b*Z),I=null===(i=u.BASE.multiplyAndAddUnsafe(h,C,E))||void 0===i?void 0:i.toAffine();return!!I&&a(I.x)===b},ProjectivePoint:u,Signature:w,utils:m}}BigInt(4);var Td=nd(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Rd=function(e,t){var n=function(t){return Nd((0,I.Z)((0,I.Z)({},e),function(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Vu(e,t,oc.apply(void 0,r))},randomBytes:cc}}(t)))};return(0,I.Z)((0,I.Z)({},n(t)),{},{create:n})}({a:Td.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:Td,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},rl),Ld="base10",Bd="base16",Ud="base64pad",Md="base64url",jd="utf8";function Dd(){return Va(cc(32),Bd)}function zd(e){return Va(rl(Fa(e,Bd)),Bd)}function qd(e){return Va(rl(Fa(e,jd)),Bd)}function Hd(e){return Fa("".concat(e),Ld)}function Wd(e){return Number(Va(e,Ld))}function Fd(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Vd(e){var t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function Kd(e){var t=Hd(typeof e.type<"u"?e.type:0);if(1===Wd(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");var n=typeof e.senderPublicKey<"u"?Fa(e.senderPublicKey,Bd):void 0,r=typeof e.iv<"u"?Fa(e.iv,Bd):cc(12),i=Fa(e.symKey,Bd),o=Jd({type:t,sealed:Wu(i,r).encrypt(Fa(e.message,jd)),iv:r,senderPublicKey:n});return e.encoding===Md?Fd(o):o}function Gd(e){var t=Fa(e.symKey,Bd),n=Xd({encoded:e.encoded,encoding:e.encoding}),r=n.sealed,i=n.iv,o=Wu(t,i).decrypt(r);if(null===o)throw new Error("Failed to decrypt");return Va(o,jd)}function $d(e,t){var n=Hd(2),r=cc(12),i=Jd({type:n,sealed:Fa(e,jd),iv:r});return t===Md?Fd(i):i}function Yd(e,t){return Va(Xd({encoded:e,encoding:t}).sealed,jd)}function Jd(e){if(2===Wd(e.type))return Va(co([e.type,e.sealed]),Ud);if(1===Wd(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Va(co([e.type,e.senderPublicKey,e.iv,e.sealed]),Ud)}return Va(co([e.type,e.iv,e.sealed]),Ud)}function Xd(e){var t=Fa((e.encoding||Ud)===Md?Vd(e.encoded):e.encoded,Ud),n=t.slice(0,1);if(1===Wd(n)){var r=t.slice(1,33),i=t.slice(33,45);return{type:n,sealed:t.slice(45),iv:i,senderPublicKey:r}}if(2===Wd(n))return{type:n,sealed:t.slice(1),iv:cc(12)};var o=t.slice(1,13);return{type:n,sealed:t.slice(13),iv:o}}function Qd(e,t){var n=Xd({encoded:e,encoding:null===t||void 0===t?void 0:t.encoding});return ef({type:Wd(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Va(n.senderPublicKey,Bd):void 0,receiverPublicKey:null===t||void 0===t?void 0:t.receiverPublicKey})}function ef(e){var t=(null===e||void 0===e?void 0:e.type)||0;if(1===t){if(typeof(null===e||void 0===e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null===e||void 0===e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null===e||void 0===e?void 0:e.senderPublicKey,receiverPublicKey:null===e||void 0===e?void 0:e.receiverPublicKey}}function tf(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function nf(e){return 2===e.type}function rf(e,t){var n=e.split("."),r=(0,S.Z)(n,3),i=r[0],o=r[1],a=r[2],s=Buffer.from(Vd(a),"base64");if(64!==s.length)throw new Error("Invalid signature length");var c=s.slice(0,32),u=s.slice(32,64),l="".concat(i,".").concat(o),d=rl(l),f=function(e){var t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return co([new Uint8Array([4]),t,n])}(t);if(!Rd.verify(co([c,u]),d,f))throw new Error("Invalid signature");return ro(e).payload}function of(e){return(null===e||void 0===e?void 0:e.relay)||{protocol:"irn"}}function af(e){var t=Ka[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}function sf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={},r="relay"+t;return Object.keys(e).forEach((function(t){if(t.startsWith(r)){var i=t.replace(r,""),o=e[t];n[i]=o}})),n}function cf(e){if(!e.includes("wc:")){var t=Ds(e);null!=t&&t.includes("wc:")&&(e=t)}var n=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,n),o=e.substring(n+1,r).split("@"),a=typeof r<"u"?e.substring(r):"",s=new URLSearchParams(a),c={};s.forEach((function(e,t){c[t]=e}));var u="string"==typeof c.methods?c.methods.split(","):void 0;return{protocol:i,topic:uf(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:sf(c),methods:u,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function uf(e){return e.startsWith("//")?e.substring(2):e}function lf(e){var t=new URLSearchParams,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n="relay",r={};return Object.keys(e).forEach((function(i){var o=i,a=n+t+o;e[o]&&(r[a]=e[o])})),r}(e.relay);Object.keys(n).sort().forEach((function(e){t.set(e,n[e])})),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));var r=t.toString();return"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?").concat(r)}function df(e,t,n){return"".concat(e,"?wc_ev=").concat(n,"&topic=").concat(t)}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function ff(e){var t=[];return e.forEach((function(e){var n=e.split(":"),r=(0,S.Z)(n,2),i=r[0],o=r[1];t.push("".concat(i,":").concat(o))})),t}function pf(e){return e.includes(":")}function hf(e){return pf(e)?e.split(":")[0]:e}function vf(e,t){t=t.map((function(e){return e.replace("did:pkh:","")}));for(var n=function(e){var t={};return null!==e&&void 0!==e&&e.forEach((function(e){var n,r=e.split(":"),i=(0,S.Z)(r,2),o=i[0],a=i[1];t[o]||(t[o]={accounts:[],chains:[],events:[],methods:[]}),t[o].accounts.push(e),null==(n=t[o].chains)||n.push("".concat(o,":").concat(a))})),t}(t),r=0,i=Object.entries(n);r<i.length;r++){var o=(0,S.Z)(i[r],2),a=(o[0],o[1]);a.methods?a.methods=Os(a.methods,e):a.methods=e,a.events=["chainChanged","accountsChanged"]}return n}var gf={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},wf={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function mf(e,t){var n=wf[e],r=n.message,i=n.code;return{message:t?"".concat(r," ").concat(t):r,code:i}}function bf(e,t){var n=gf[e],r=n.message,i=n.code;return{message:t?"".concat(r," ").concat(t):r,code:i}}function yf(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function xf(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function kf(e){return typeof e>"u"}function Zf(e,t){return!(!t||!kf(e))||"string"==typeof e&&!!e.trim().length}function Cf(e,t){return!(!t||!kf(e))||"number"==typeof e&&!isNaN(e)}function Ef(e){return!(!Zf(e,!1)||!e.includes(":"))&&2===e.split(":").length}function If(e){var t;return null==(t=null===e||void 0===e?void 0:e.proposer)?void 0:t.publicKey}function Sf(e){return null===e||void 0===e?void 0:e.topic}function Af(e){var t=!0;return yf(e)?e.length&&(t=e.every((function(e){return Zf(e,!1)}))):t=!1,t}function Pf(e,t,n){var r=null;return Object.entries(e).forEach((function(e){var i=(0,S.Z)(e,2),o=i[0],a=i[1];if(!r){var s=function(e,t,n){var r=null;return yf(t)&&t.length?t.forEach((function(e){r||Ef(e)||(r=bf("UNSUPPORTED_CHAINS","".concat(n,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))})):Ef(e)||(r=bf("UNSUPPORTED_CHAINS","".concat(n,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),r}(o,Ja(o,a),"".concat(t," ").concat(n));s&&(r=s)}})),r}function Of(e,t){var n=null;return yf(e)?e.forEach((function(e){n||function(e){if(Zf(e,!1)&&e.includes(":")){var t=e.split(":");if(3===t.length){var n=t[0]+":"+t[1];return!!t[2]&&Ef(n)}}return!1}(e)||(n=bf("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))})):n=bf("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),n}function _f(e,t){var n=null;return Object.values(e).forEach((function(e){if(!n){var r=function(e,t){var n=null;return Af(null===e||void 0===e?void 0:e.methods)?Af(null===e||void 0===e?void 0:e.events)||(n=bf("UNSUPPORTED_EVENTS","".concat(t,", events should be an array of strings or empty array for no events"))):n=bf("UNSUPPORTED_METHODS","".concat(t,", methods should be an array of strings or empty array for no methods")),n}(e,"".concat(t,", namespace"));r&&(n=r)}})),n}function Nf(e,t){var n=null;if(e&&xf(e)){var r=_f(e,t);r&&(n=r);var i=function(e,t){var n=null;return Object.values(e).forEach((function(e){if(!n){var r=Of(null===e||void 0===e?void 0:e.accounts,"".concat(t," namespace"));r&&(n=r)}})),n}(e,t);i&&(n=i)}else n=mf("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return n}function Tf(e){return Zf(e.protocol,!0)}function Rf(e,t){var n=!1;return t&&!e?n=!0:e&&yf(e)&&e.length&&e.forEach((function(e){n=Tf(e)})),n}function Lf(e){return"number"==typeof e}function Bf(e){return typeof e<"u"&&null!==typeof e}function Uf(e){return!(!e||"object"!=typeof e||!e.code||!Cf(e.code,!1)||!e.message||!Zf(e.message,!1))}function Mf(e){return!(kf(e)||!Zf(e.method,!1))}function jf(e){return!(kf(e)||kf(e.result)&&kf(e.error)||!Cf(e.id,!1)||!Zf(e.jsonrpc,!1))}function Df(e){return!(kf(e)||!Zf(e.name,!1))}function zf(e,t){return!(!Ef(t)||!function(e){var t=[];return Object.values(e).forEach((function(e){t.push.apply(t,(0,N.Z)(ff(e.accounts)))})),t}(e).includes(t))}function qf(e,t,n){return!!Zf(n,!1)&&function(e,t){var n=[];return Object.values(e).forEach((function(e){ff(e.accounts).includes(t)&&n.push.apply(n,(0,N.Z)(e.methods))})),n}(e,t).includes(n)}function Hf(e,t,n){return!!Zf(n,!1)&&function(e,t){var n=[];return Object.values(e).forEach((function(e){ff(e.accounts).includes(t)&&n.push.apply(n,(0,N.Z)(e.events))})),n}(e,t).includes(n)}function Wf(e,t,n){var r=null,i=function(e){var t={};return Object.keys(e).forEach((function(n){var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach((function(r){t[r]={methods:e[n].methods,events:e[n].events}}))})),t}(e),o=function(e){var t={};return Object.keys(e).forEach((function(n){if(n.includes(":"))t[n]=e[n];else{var r=ff(e[n].accounts);null===r||void 0===r||r.forEach((function(r){t[r]={accounts:e[n].accounts.filter((function(e){return e.includes("".concat(r,":"))})),methods:e[n].methods,events:e[n].events}}))}})),t}(t),a=Object.keys(i),s=Object.keys(o),c=Ff(Object.keys(e)),u=Ff(Object.keys(t)),l=c.filter((function(e){return!u.includes(e)}));return l.length&&(r=mf("NON_CONFORMING_NAMESPACES","".concat(n," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(l.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),ys(a,s)||(r=mf("NON_CONFORMING_NAMESPACES","".concat(n," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(a.toString(),"\n      Approved: ").concat(s.toString()))),Object.keys(t).forEach((function(e){if(e.includes(":")&&!r){var i=ff(t[e].accounts);i.includes(e)||(r=mf("NON_CONFORMING_NAMESPACES","".concat(n," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(i.toString())))}})),a.forEach((function(e){r||(ys(i[e].methods,o[e].methods)?ys(i[e].events,o[e].events)||(r=mf("NON_CONFORMING_NAMESPACES","".concat(n," namespaces events don't satisfy namespace events for ").concat(e))):r=mf("NON_CONFORMING_NAMESPACES","".concat(n," namespaces methods don't satisfy namespace methods for ").concat(e)))})),r}function Ff(e){return(0,N.Z)(new Set(e.map((function(e){return e.includes(":")?e.split(":")[0]:e}))))}function Vf(e,t){return Cf(e,!1)&&e<=t.max&&e>=t.min}function Kf(){var e=hs();return new Promise((function(t){switch(e){case cs:t(function(){var e;return ps()&&(null===(e=navigator)||void 0===e?void 0:e.onLine)}());break;case as:t(function(){return Gf.apply(this,arguments)}());break;default:t(!0)}}))}function Gf(){return Gf=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(fs()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo)){e.next=5;break}return e.next=3,null==n.g?void 0:n.g.NetInfo.fetch();case 3:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.isConnected);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function $f(e){switch(hs()){case cs:!function(e){!fs()&&ps()&&(window.addEventListener("online",(function(){return e(!0)})),window.addEventListener("offline",(function(){return e(!1)})))}(e);break;case as:!function(e){var t;fs()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&(null===(t=n.g)||void 0===t||t.NetInfo.addEventListener((function(t){return e(null===t||void 0===t?void 0:t.isConnected)})))}(e)}}var Yf={},Jf=function(){function e(){(0,O.Z)(this,e)}return(0,_.Z)(e,null,[{key:"get",value:function(e){return Yf[e]}},{key:"set",value:function(e,t){Yf[e]=t}},{key:"delete",value:function(e){delete Yf[e]}}]),e}(),Xf=(0,_.Z)((function e(){(0,O.Z)(this,e)})),Qf=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this)}return(0,_.Z)(n)}(Xf),ep=$.FIVE_SECONDS,tp="heartbeat_pulse",np=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,O.Z)(this,n),(r=t.call(this,e)).events=new L.EventEmitter,r.interval=ep,r.interval=(null===e||void 0===e?void 0:e.interval)||ep,r}return(0,_.Z)(n,[{key:"init",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){clearInterval(this.intervalRef)}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"initialize",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.intervalRef=setInterval((function(){return t.pulse()}),(0,$.toMiliseconds)(this.interval));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pulse",value:function(){this.events.emit(tp)}}],[{key:"init",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new n(t),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Qf),rp=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ip=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,op=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ap(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"===typeof t&&"prototype"in t))return t;!function(e){console.warn('[destr] Dropping "'.concat(e,'" key to prevent prototype pollution.'))}(e)}function sp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);var n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!op.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(rp.test(e)||ip.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,ap)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function cp(e){return e&&"function"===typeof e.then?e:Promise.resolve(e)}function up(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cp(e.apply(void 0,n))}catch(i){return Promise.reject(i)}}function lp(e){if(function(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){var t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return lp(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}var dp="base64:";function fp(e){return"string"===typeof e?e:dp+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint.apply(String,(0,N.Z)(e)))}(e)}function pp(e){return"string"!==typeof e?e:e.startsWith(dp)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),(function(e){return e.codePointAt(0)}))}(e.slice(dp.length)):e}function hp(e){var t;return e&&(null===(t=e.split("?")[0])||void 0===t?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function vp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hp(t.join(":"))}function gp(e){return(e=hp(e))?e+":":""}function wp(e,t){if(void 0===t)return!0;for(var n=0,r=e.indexOf(":");r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function mp(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}var bp=function(){var e=new Map;return{name:"memory",getInstance:function(){return e},hasItem:function(t){return e.has(t)},getItem:function(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},getItemRaw:function(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},setItem:function(t,n){e.set(t,n)},setItemRaw:function(t,n){e.set(t,n)},removeItem:function(t){e.delete(t)},getKeys:function(){return(0,N.Z)(e.keys())},clear:function(){e.clear()},dispose:function(){e.clear()}}};function yp(e,t,n){return e.watch?e.watch((function(e,r){return t(e,n+r)})):function(){}}function xp(e){return kp.apply(this,arguments)}function kp(){return(kp=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof t.dispose){e.next=3;break}return e.next=3,up(t.dispose);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zp;function Cp(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function Ep(e,t){var n;return function(r,i){return function(){if(n)return n;var r=indexedDB.open(e);return r.onupgradeneeded=function(){return r.result.createObjectStore(t)},(n=Cp(r)).then((function(e){e.onclose=function(){return n=void 0}}),(function(){})),n}().then((function(e){return i(e.transaction(t,r).objectStore(t))}))}}function Ip(){return Zp||(Zp=Ep("keyval-store","keyval")),Zp}function Sp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ip();return t("readonly",(function(t){return Cp(t.get(e))}))}function Ap(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ip();return n("readwrite",(function(n){return n.put(t,e),Cp(n.transaction)}))}function Pp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ip();return t("readwrite",(function(t){return t.delete(e),Cp(t.transaction)}))}function Op(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ip();return e("readwrite",(function(e){return e.clear(),Cp(e.transaction)}))}function _p(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Cp(e.transaction)}function Np(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ip();return e("readonly",(function(e){if(e.getAllKeys)return Cp(e.getAllKeys());var t=[];return _p(e,(function(e){return t.push(e.key)})).then((function(){return t}))}))}var Tp="idb-keyval",Rp=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.base&&t.base.length>0?"".concat(t.base,":"):"",r=function(e){return n+e};return t.dbName&&t.storeName&&(e=Ep(t.dbName,t.storeName)),{name:Tp,options:t,hasItem:function(t){return(0,P.Z)((0,A.Z)().mark((function n(){return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sp(r(t),e);case 2:return n.t0=typeof n.sent,n.abrupt("return",!(n.t0>"u"));case 4:case"end":return n.stop()}}),n)})))()},getItem:function(t){return(0,P.Z)((0,A.Z)().mark((function n(){var i;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sp(r(t),e);case 2:if(n.t1=i=n.sent,n.t0=null!==n.t1,!n.t0){n.next=6;break}n.t0=void 0!==i;case 6:if(!n.t0){n.next=10;break}n.t2=i,n.next=11;break;case 10:n.t2=null;case 11:return n.abrupt("return",n.t2);case 12:case"end":return n.stop()}}),n)})))()},setItem:function(t,n){return Ap(r(t),n,e)},removeItem:function(t){return Pp(r(t),e)},getKeys:function(){return Np(e)},clear:function(){return Op(e)}}},Lp=function(){function e(){(0,O.Z)(this,e),this.indexedDb=function(){var e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||bp()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=function(t){var n,r=(0,R.Z)(e.mountpoints);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.startsWith(i))return{base:i,relativeKey:t.slice(i.length),driver:e.mounts[i]}}}catch(o){r.e(o)}finally{r.f()}return{base:"",relativeKey:t,driver:e.mounts[""]}},n=function(t,n){return e.mountpoints.filter((function(e){return e.startsWith(t)||n&&t.startsWith(e)})).map((function(n){return{relativeBase:t.length>n.length?t.slice(n.length):void 0,mountpoint:n,driver:e.mounts[n]}}))},r=function(t,n){if(e.watching){n=hp(n);var r,i=(0,R.Z)(e.watchListeners);try{for(i.s();!(r=i.n()).done;)(0,r.value)(t,n)}catch(o){i.e(o)}finally{i.f()}}},i=function(){var t=(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.watching){t.next=2;break}return t.abrupt("return");case 2:e.watching=!0,t.t0=(0,A.Z)().keys(e.mounts);case 4:if((t.t1=t.t0()).done){t.next=11;break}return n=t.t1.value,t.next=8,yp(e.mounts[n],r,n);case 8:e.unwatch[n]=t.sent,t.next=4;break;case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.watching){t.next=2;break}return t.abrupt("return");case 2:t.t0=(0,A.Z)().keys(e.unwatch);case 3:if((t.t1=t.t0()).done){t.next=9;break}return n=t.t1.value,t.next=7,e.unwatch[n]();case 7:t.next=3;break;case 9:e.unwatch={},e.watching=!1;case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(e,n,r){var i,o=new Map,a=function(e){var t=o.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},o.set(e.base,t)),t},s=(0,R.Z)(e);try{for(s.s();!(i=s.n()).done;){var c=i.value,u="string"===typeof c,l=hp(u?c:c.key),d=u?void 0:c.value,f=u||!c.options?n:(0,I.Z)((0,I.Z)({},n),c.options),p=t(l);a(p).items.push({key:l,value:d,relativeKey:p.relativeKey,options:f})}}catch(h){s.e(h)}finally{s.f()}return Promise.all((0,N.Z)(o.values()).map((function(e){return r(e)}))).then((function(e){return e.flat()}))},s={hasItem:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=hp(e);var r=t(e),i=r.relativeKey;return up(r.driver.hasItem,i,n)},getItem:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=hp(e);var r=t(e),i=r.relativeKey;return up(r.driver.getItem,i,n).then((function(e){return sp(e)}))},getItems:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e,t,(function(e){return e.driver.getItems?up(e.driver.getItems,e.items.map((function(e){return{key:e.relativeKey,options:e.options}})),t).then((function(t){return t.map((function(t){return{key:vp(e.base,t.key),value:sp(t.value)}}))})):Promise.all(e.items.map((function(t){return up(e.driver.getItem,t.relativeKey,t.options).then((function(e){return{key:t.key,value:sp(e)}}))})))}))},getItemRaw:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=hp(e);var r=t(e),i=r.relativeKey,o=r.driver;return o.getItemRaw?up(o.getItemRaw,i,n):up(o.getItem,i,n).then((function(e){return pp(e)}))},setItem:function(e,n){var i=arguments;return(0,P.Z)((0,A.Z)().mark((function o(){var a,c,u,l;return(0,A.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=i.length>2&&void 0!==i[2]?i[2]:{},void 0!==n){o.next=3;break}return o.abrupt("return",s.removeItem(e));case 3:if(e=hp(e),c=t(e),u=c.relativeKey,(l=c.driver).setItem){o.next=7;break}return o.abrupt("return");case 7:return o.next=9,up(l.setItem,u,lp(n),a);case 9:l.watch||r("update",e);case 10:case"end":return o.stop()}}),o)})))()},setItems:function(e,t){return(0,P.Z)((0,A.Z)().mark((function n(){return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(e,t,function(){var e=(0,P.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.driver.setItems){e.next=2;break}return e.abrupt("return",up(n.driver.setItems,n.items.map((function(e){return{key:e.relativeKey,value:lp(e.value),options:e.options}})),t));case 2:if(n.driver.setItem){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Promise.all(n.items.map((function(e){return up(n.driver.setItem,e.relativeKey,lp(e.value),e.options)})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})))()},setItemRaw:function(e,n){var i=arguments;return(0,P.Z)((0,A.Z)().mark((function o(){var a,c,u,l;return(0,A.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=i.length>2&&void 0!==i[2]?i[2]:{},void 0!==n){o.next=3;break}return o.abrupt("return",s.removeItem(e,a));case 3:if(e=hp(e),c=t(e),u=c.relativeKey,!(l=c.driver).setItemRaw){o.next=10;break}return o.next=8,up(l.setItemRaw,u,n,a);case 8:o.next=16;break;case 10:if(!l.setItem){o.next=15;break}return o.next=13,up(l.setItem,u,fp(n),a);case 13:o.next=16;break;case 15:return o.abrupt("return");case 16:l.watch||r("update",e);case 17:case"end":return o.stop()}}),o)})))()},removeItem:function(e){var n=arguments;return(0,P.Z)((0,A.Z)().mark((function i(){var o,a,s,c;return(0,A.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("boolean"===typeof(o=n.length>1&&void 0!==n[1]?n[1]:{})&&(o={removeMeta:o}),e=hp(e),a=t(e),s=a.relativeKey,(c=a.driver).removeItem){i.next=6;break}return i.abrupt("return");case 6:return i.next=8,up(c.removeItem,s,o);case 8:if(!o.removeMeta&&!o.removeMata){i.next=11;break}return i.next=11,up(c.removeItem,s+"$",o);case 11:c.watch||r("remove",e);case 12:case"end":return i.stop()}}),i)})))()},getMeta:function(e){var n=arguments;return(0,P.Z)((0,A.Z)().mark((function r(){var i,o,a,s,c,u;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("boolean"===typeof(i=n.length>1&&void 0!==n[1]?n[1]:{})&&(i={nativeOnly:i}),e=hp(e),o=t(e),a=o.relativeKey,s=o.driver,c=Object.create(null),!s.getMeta){r.next=12;break}return r.t0=Object,r.t1=c,r.next=10,up(s.getMeta,a,i);case 10:r.t2=r.sent,r.t0.assign.call(r.t0,r.t1,r.t2);case 12:if(i.nativeOnly){r.next=17;break}return r.next=15,up(s.getItem,a+"$",i).then((function(e){return sp(e)}));case 15:(u=r.sent)&&"object"===typeof u&&("string"===typeof u.atime&&(u.atime=new Date(u.atime)),"string"===typeof u.mtime&&(u.mtime=new Date(u.mtime)),Object.assign(c,u));case 17:return r.abrupt("return",c);case 18:case"end":return r.stop()}}),r)})))()},setMeta:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,n)},removeMeta:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},getKeys:function(e){var t=arguments;return(0,P.Z)((0,A.Z)().mark((function r(){var i,o,a,s,c,u,l,d,f;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=t.length>1&&void 0!==t[1]?t[1]:{},e=gp(e),o=n(e,!0),a=[],s=[],c=!0,u=(0,R.Z)(o),r.prev=7,d=(0,A.Z)().mark((function e(){var t,n,r,o,u,d;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.value,null!==(t=n.driver.flags)&&void 0!==t&&t.maxDepth||(c=!1),e.next=4,up(n.driver.getKeys,n.relativeBase,i);case 4:r=e.sent,o=(0,R.Z)(r);try{for(d=function(){var e=u.value,t=n.mountpoint+hp(e);a.some((function(e){return t.startsWith(e)}))||s.push(t)},o.s();!(u=o.n()).done;)d()}catch(f){o.e(f)}finally{o.f()}a=[n.mountpoint].concat((0,N.Z)(a.filter((function(e){return!e.startsWith(n.mountpoint)}))));case 8:case"end":return e.stop()}}),e)})),u.s();case 10:if((l=u.n()).done){r.next=14;break}return r.delegateYield(d(),"t0",12);case 12:r.next=10;break;case 14:r.next=19;break;case 16:r.prev=16,r.t1=r.catch(7),u.e(r.t1);case 19:return r.prev=19,u.f(),r.finish(19);case 22:return f=void 0!==i.maxDepth&&!c,r.abrupt("return",s.filter((function(t){return(!f||wp(t,i.maxDepth))&&mp(t,e)})));case 24:case"end":return r.stop()}}),r,null,[[7,16,19,22]])})))()},clear:function(e){var t=arguments;return(0,P.Z)((0,A.Z)().mark((function r(){var i;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.length>1&&void 0!==t[1]?t[1]:{},e=gp(e),r.next=4,Promise.all(n(e,!1).map(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.driver.clear){e.next=2;break}return e.abrupt("return",up(t.driver.clear,t.relativeBase,i));case 2:if(!t.driver.removeItem){e.next=7;break}return e.next=5,t.driver.getKeys(t.relativeBase||"",i);case 5:return n=e.sent,e.abrupt("return",Promise.all(n.map((function(e){return t.driver.removeItem(e,i)}))));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return r.stop()}}),r)})))()},dispose:function(){return(0,P.Z)((0,A.Z)().mark((function t(){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(Object.values(e.mounts).map((function(e){return xp(e)})));case 2:case"end":return t.stop()}}),t)})))()},watch:function(t){return(0,P.Z)((0,A.Z)().mark((function n(){return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i();case 2:return e.watchListeners.push(t),n.abrupt("return",(0,P.Z)((0,A.Z)().mark((function n(){return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.watchListeners=e.watchListeners.filter((function(e){return e!==t})),0!==e.watchListeners.length){n.next=4;break}return n.next=4,o();case 4:case"end":return n.stop()}}),n)}))));case 4:case"end":return n.stop()}}),n)})))()},unwatch:function(){return(0,P.Z)((0,A.Z)().mark((function t(){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.watchListeners=[],t.next=3,o();case 3:case"end":return t.stop()}}),t)})))()},mount:function(t,n){if((t=gp(t))&&e.mounts[t])throw new Error("already mounted at ".concat(t));return t&&(e.mountpoints.push(t),e.mountpoints.sort((function(e,t){return t.length-e.length}))),e.mounts[t]=n,e.watching&&Promise.resolve(yp(n,r,t)).then((function(n){e.unwatch[t]=n})).catch(console.error),s},unmount:function(t){var n=arguments;return(0,P.Z)((0,A.Z)().mark((function r(){var i,o,a;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=!(n.length>1&&void 0!==n[1])||n[1],(t=gp(t))&&e.mounts[t]){r.next=4;break}return r.abrupt("return");case 4:if(e.watching&&t in e.unwatch&&(null===(o=(a=e.unwatch)[t])||void 0===o||o.call(a),delete e.unwatch[t]),!i){r.next=8;break}return r.next=8,xp(e.mounts[t]);case 8:e.mountpoints=e.mountpoints.filter((function(e){return e!==t})),delete e.mounts[t];case 10:case"end":return r.stop()}}),r)})))()},getMount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=hp(e)+":";var n=t(e);return{driver:n.driver,base:n.base}},getMounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=hp(e),n(e,t.parents).map((function(e){return{driver:e.driver,base:e.mountpoint}}))},keys:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.getKeys(e,t)},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.getItem(e,t)},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.setItem(e,t,n)},has:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.hasItem(e,t)},del:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.removeItem(e,t)},remove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.removeItem(e,t)}};return s}({driver:Rp({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}return(0,_.Z)(e,[{key:"getKeys",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.indexedDb.getKeys());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getEntries",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.indexedDb,e.next=3,this.indexedDb.getKeys();case 3:return e.t1=e.sent,e.next=6,e.t0.getItems.call(e.t0,e.t1);case 6:return e.abrupt("return",e.sent.map((function(e){return[e.key,e.value]})));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItem",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.indexedDb.getItem(t);case 2:if(null===(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setItem",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.indexedDb.setItem(t,Et(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeItem",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.indexedDb.removeItem(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},Up={exports:{}};function Mp(e){var t;return[e[0],Ct(null!=(t=e[1])?t:"")]}!function(){var e;function t(){}(e=t).prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){var e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof Bp<"u"&&Bp.localStorage?Up.exports=Bp.localStorage:typeof window<"u"&&window.localStorage?Up.exports=window.localStorage:Up.exports=new t}();var jp=function(){function e(){(0,O.Z)(this,e),this.localStorage=Up.exports}return(0,_.Z)(e,[{key:"getKeys",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(this.localStorage));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getEntries",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.entries(this.localStorage).map(Mp));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItem",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=this.localStorage.getItem(t))){e.next=3;break}return e.abrupt("return",Ct(n));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setItem",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorage.setItem(t,Et(n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeItem",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorage.removeItem(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Dp=function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var i,o,a,s,c,u,l;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="wc_storage_version",e.next=3,n.getItem(i);case 3:if(!((o=e.sent)&&o>=1)){e.next=7;break}return r(n),e.abrupt("return");case 7:return e.next=9,t.getKeys();case 9:if((a=e.sent).length){e.next=13;break}return r(n),e.abrupt("return");case 13:s=[];case 14:if(!a.length){e.next=28;break}if(c=a.shift()){e.next=18;break}return e.abrupt("continue",26);case 18:if(!((u=c.toLowerCase()).includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect"))){e.next=26;break}return e.next=22,t.getItem(c);case 22:return l=e.sent,e.next=25,n.setItem(c,l);case 25:s.push(c);case 26:e.next=14;break;case 28:return e.next=30,n.setItem(i,1);case 30:r(n),zp(t,s);case 32:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),zp=function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.length&&n.forEach(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeItem(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qp=function(){function e(){var t=this;(0,O.Z)(this,e),this.initialized=!1,this.setInitialized=function(e){t.storage=e,t.initialized=!0};var n=new jp;this.storage=n;try{var r=new Lp;Dp(n,r,this.setInitialized)}catch(i){this.initialized=!0}}return(0,_.Z)(e,[{key:"getKeys",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:return e.abrupt("return",this.storage.getKeys());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getEntries",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:return e.abrupt("return",this.storage.getEntries());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItem",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:return e.abrupt("return",this.storage.getItem(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setItem",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:return e.abrupt("return",this.storage.setItem(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeItem",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:return e.abrupt("return",this.storage.removeItem(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.initialized,e.t0){e.next=4;break}return e.next=4,new Promise((function(e){var n=setInterval((function(){t.initialized&&(clearInterval(n),e())}),20)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Hp=n(32656),Wp=n.n(Hp),Fp="info",Vp="custom_context",Kp=1024e3,Gp=function(){function e(t){(0,O.Z)(this,e),this.nodeValue=t,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}return(0,_.Z)(e,[{key:"value",get:function(){return this.nodeValue}},{key:"size",get:function(){return this.sizeInBytes}}]),e}(),$p=function(e){function t(e){(0,O.Z)(this,t),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}return(0,_.Z)(t,[{key:"append",value:function(e){var t=new Gp(e);if(t.size>this.maxSizeInBytes)throw new Error("[LinkedList] Value too big to insert into list: ".concat(e," with size ").concat(t.size));for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}},{key:"shift",value:function(){if(this.head){var e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}}},{key:"toArray",value:function(){for(var e=[],t=this.head;null!==t;)e.push(t.value),t=t.next;return e}},{key:"length",get:function(){return this.lengthInNodes}},{key:"size",get:function(){return this.sizeInBytes}},{key:"toOrderedArray",value:function(){return Array.from(this)}},{key:e,value:function(){var e=this.head;return{next:function(){if(!e)return{done:!0,value:null};var t=e.value;return e=e.next,{done:!1,value:t}}}}}]),t}(Symbol.iterator),Yp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kp;(0,O.Z)(this,e),this.level=null!==t&&void 0!==t?t:"error",this.levelValue=Hp.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new $p(this.MAX_LOG_SIZE_IN_BYTES)}return(0,_.Z)(e,[{key:"forwardToConsole",value:function(e,t){t===Hp.levels.values.error?console.error(e):t===Hp.levels.values.warn?console.warn(e):t===Hp.levels.values.debug?console.debug(e):t===Hp.levels.values.trace?console.trace(e):console.log(e)}},{key:"appendToLogs",value:function(e){this.logs.append(Et({timestamp:(new Date).toISOString(),log:e}));var t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}},{key:"getLogs",value:function(){return this.logs}},{key:"clearLogs",value:function(){this.logs=new $p(this.MAX_LOG_SIZE_IN_BYTES)}},{key:"getLogArray",value:function(){return Array.from(this.logs)}},{key:"logsToBlob",value:function(e){var t=this.getLogArray();return t.push(Et({extraMetadata:e})),new Blob(t,{type:"application/json"})}}]),e}(),Jp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kp;(0,O.Z)(this,e),this.baseChunkLogger=new Yp(t,n)}return(0,_.Z)(e,[{key:"write",value:function(e){this.baseChunkLogger.appendToLogs(e)}},{key:"getLogs",value:function(){return this.baseChunkLogger.getLogs()}},{key:"clearLogs",value:function(){this.baseChunkLogger.clearLogs()}},{key:"getLogArray",value:function(){return this.baseChunkLogger.getLogArray()}},{key:"logsToBlob",value:function(e){return this.baseChunkLogger.logsToBlob(e)}},{key:"downloadLogsBlobInBrowser",value:function(e){var t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download="walletconnect-logs-".concat((new Date).toISOString(),".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}]),e}(),Xp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kp;(0,O.Z)(this,e),this.baseChunkLogger=new Yp(t,n)}return(0,_.Z)(e,[{key:"write",value:function(e){this.baseChunkLogger.appendToLogs(e)}},{key:"getLogs",value:function(){return this.baseChunkLogger.getLogs()}},{key:"clearLogs",value:function(){this.baseChunkLogger.clearLogs()}},{key:"getLogArray",value:function(){return this.baseChunkLogger.getLogArray()}},{key:"logsToBlob",value:function(e){return this.baseChunkLogger.logsToBlob(e)}}]),e}(),Qp=Object.defineProperty,eh=Object.defineProperties,th=Object.getOwnPropertyDescriptors,nh=Object.getOwnPropertySymbols,rh=Object.prototype.hasOwnProperty,ih=Object.prototype.propertyIsEnumerable,oh=function(e,t,n){return t in e?Qp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ah=function(e,t){for(var n in t||(t={}))rh.call(t,n)&&oh(e,n,t[n]);if(nh){var r,i=(0,R.Z)(nh(t));try{for(i.s();!(r=i.n()).done;){n=r.value;ih.call(t,n)&&oh(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},sh=function(e,t){return eh(e,th(t))};function ch(e){return sh(ah({},e),{level:(null===e||void 0===e?void 0:e.level)||Fp})}function uh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vp;return e[t]||""}function lh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vp;return e[n]=t,e}function dh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vp;return typeof e.bindings>"u"?uh(e,t):e.bindings().context||""}function fh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vp,r=dh(e,n);return r.trim()?"".concat(r,"/").concat(t):t}function ph(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vp,r=fh(e,t,n),i=e.child({context:r});return lh(i,r,n)}function hh(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n,r=new Jp(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Wp()(sh(ah({},e.opts),{level:"trace",browser:sh(ah({},null==(n=e.opts)?void 0:n.browser),{write:function(e){return r.write(e)}})})),chunkLoggerController:r}}(e):function(e){var t,n=new Xp(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Wp()(sh(ah({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}var vh,gh=Object.defineProperty,wh=function(e,t,n){return function(e,t,n){return t in e?gh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},mh=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,O.Z)(this,n),(r=t.call(this)).opts=e,wh((0,x.Z)(r),"protocol","wc"),wh((0,x.Z)(r),"version",2),r}return(0,_.Z)(n)}(Xf),bh=Object.defineProperty,yh=function(e,t,n){return function(e,t,n){return t in e?bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},xh=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this)).core=e,i.logger=r,yh((0,x.Z)(i),"records",new Map),i}return(0,_.Z)(n)}(Xf),kh=(0,_.Z)((function e(t,n){(0,O.Z)(this,e),this.logger=t,this.core=n})),Zh=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this)).relayer=e,i.logger=r,i}return(0,_.Z)(n)}(Xf),Ch=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this)}return(0,_.Z)(n)}(Xf),Eh=(0,_.Z)((function e(t,n,r,i){(0,O.Z)(this,e),this.core=t,this.logger=n,this.name=r})),Ih=(Object.defineProperty,function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this)).relayer=e,i.logger=r,i}return(0,_.Z)(n)}(Xf)),Sh=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this)).core=e,i.logger=r,i}return(0,_.Z)(n)}(Xf),Ah=(0,_.Z)((function e(t,n,r){(0,O.Z)(this,e),this.core=t,this.logger=n,this.store=r})),Ph=(0,_.Z)((function e(t,n){(0,O.Z)(this,e),this.projectId=t,this.logger=n})),Oh=(0,_.Z)((function e(t,n,r){(0,O.Z)(this,e),this.core=t,this.logger=n,this.telemetryEnabled=r})),_h=(Object.defineProperty,B(),L.EventEmitter,"INTERNAL_ERROR"),Nh="SERVER_ERROR",Th=[-32700,-32600,-32601,-32602,-32603],Rh=(vh={},(0,T.Z)(vh,"PARSE_ERROR",{code:-32700,message:"Parse error"}),(0,T.Z)(vh,"INVALID_REQUEST",{code:-32600,message:"Invalid Request"}),(0,T.Z)(vh,"METHOD_NOT_FOUND",{code:-32601,message:"Method not found"}),(0,T.Z)(vh,"INVALID_PARAMS",{code:-32602,message:"Invalid params"}),(0,T.Z)(vh,_h,{code:-32603,message:"Internal error"}),(0,T.Z)(vh,Nh,{code:-32e3,message:"Server error"}),vh);function Lh(e){return Th.includes(e)}function Bh(e){return Object.keys(Rh).includes(e)?Rh[e]:Rh.SERVER_ERROR}function Uh(e){var t=Object.values(Rh).find((function(t){return t.code===e}));return t||Rh.SERVER_ERROR}function Mh(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(n," RPC url at ").concat(t)):e}var jh=n(67323);function Dh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function zh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return BigInt(Dh(e))}function qh(e,t,n){return{id:n||Dh(),jsonrpc:"2.0",method:e,params:t}}function Hh(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Wh(e,t,n){return{id:e,jsonrpc:"2.0",error:Fh(t,n)}}function Fh(e,t){return"undefined"===typeof e?Bh(_h):("string"===typeof e&&(e=Object.assign(Object.assign({},Bh(Nh)),{message:e})),"undefined"!==typeof t&&(e.data=t),Lh(e.code)&&(e=Uh(e.code)),e)}var Vh=(0,_.Z)((function e(){(0,O.Z)(this,e)})),Kh=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.call(this)}return(0,_.Z)(n)}(Vh),Gh=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this)}return(0,_.Z)(n)}(Kh);function $h(e,t){var n=function(e){var t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return"undefined"!==typeof n&&new RegExp(t).test(n)}function Yh(e){return $h(e,"^https?:")}function Jh(e){return $h(e,"^wss?:")}function Xh(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Qh(e){return"object"===typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function ev(e){return Qh(e)&&"method"in e}function tv(e){return Qh(e)&&(nv(e)||rv(e))}function nv(e){return"result"in e}function rv(e){return"error"in e}var iv=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,O.Z)(this,n),(r=t.call(this,e)).events=new L.EventEmitter,r.hasRegisteredEventListeners=!1,r.connection=r.setConnection(e),r.connection.connected&&r.registerEventListeners(),r}return(0,_.Z)(n,[{key:"connect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.connection,e.next=3,this.open(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"request",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.requestStrict(qh(t.method,t.params||[],t.id||zh().toString()),n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"requestStrict",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(i,o){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.connection.connected){e.next=9;break}return e.prev=1,e.next=4,r.open();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),o(e.t0);case 9:return r.events.on("".concat(t.id),(function(e){rv(e)?o(e.error):i(e.result)})),e.prev=10,e.next=13,r.connection.send(t,n);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(10),o(e.t1);case 18:case"end":return e.stop()}}),e,null,[[1,6],[10,15]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;return e}},{key:"onPayload",value:function(e){this.events.emit("payload",e),tv(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}},{key:"onClose",value:function(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}},{key:"open",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:this.connection,e.t0=this.connection===t&&this.connection.connected,e.t0){e.next=14;break}if(this.connection.connected&&this.close(),e.t1="string"==typeof t,!e.t1){e.next=9;break}return e.next=8,this.connection.open(t);case 8:t=this.connection;case 9:return this.connection=this.setConnection(t),e.next=12,this.connection.open();case 12:this.registerEventListeners(),this.events.emit("connect");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.close();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"registerEventListeners",value:function(){var e=this;this.hasRegisteredEventListeners||(this.connection.on("payload",(function(t){return e.onPayload(t)})),this.connection.on("close",(function(t){return e.onClose(t)})),this.connection.on("error",(function(t){return e.events.emit("error",t)})),this.connection.on("register_error",(function(t){return e.onClose()})),this.hasRegisteredEventListeners=!0)}}]),n}(Gh),ov=function(){return typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"},av=function(e){return e.split("?")[0]},sv=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(68931),cv=function(){function e(t){if((0,O.Z)(this,e),this.url=t,this.events=new L.EventEmitter,this.registering=!1,!Jh(t))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(t));this.url=t}return(0,_.Z)(e,[{key:"connected",get:function(){return typeof this.socket<"u"}},{key:"connecting",get:function(){return this.registering}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){typeof t.socket>"u"?n(new Error("Connection already closed")):(t.socket.onclose=function(n){t.onClose(n),e()},t.socket.close())})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=typeof this.socket>"u",!e.t0){e.next=5;break}return e.next=4,this.register();case 4:this.socket=e.sent;case 5:try{this.socket.send(Et(t))}catch(nt){this.onError(t.id,nt)}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!Jh(t))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(t));if(this.registering){var n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((function(t,n){e.events.once("register_error",(function(t){e.resetMaxListeners(),n(t)})),e.events.once("open",(function(){if(e.resetMaxListeners(),typeof e.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));t(e.socket)}))}))}return this.url=t,this.registering=!0,new Promise((function(n,r){var i=(0,jh.isReactNative)()?void 0:{rejectUnauthorized:!Xh(t)},o=new sv(t,[],i);ov()?o.onerror=function(t){var n=t;r(e.emitError(n.error))}:o.on("error",(function(t){r(e.emitError(t))})),o.onopen=function(){e.onOpen(o),n(o)}}))}},{key:"onOpen",value:function(e){var t=this;e.onmessage=function(e){return t.onPayload(e)},e.onclose=function(e){return t.onClose(e)},this.socket=e,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}},{key:"onPayload",value:function(e){if(!(typeof e.data>"u")){var t="string"==typeof e.data?Ct(e.data):e.data;this.events.emit("payload",t)}}},{key:"onError",value:function(e,t){var n=this.parseError(t),r=Wh(e,n.message||n.toString());this.events.emit("payload",r)}},{key:"parseError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return Mh(e,av(t),"WS")}},{key:"resetMaxListeners",value:function(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}},{key:"emitError",value:function(e){var t=this.parseError(new Error((null===e||void 0===e?void 0:e.message)||"WebSocket connection failed for host: ".concat(av(this.url))));return this.events.emit("register_error",t),t}}]),e}(),uv="core",lv="".concat("wc","@2:").concat(uv,":"),dv="error",fv={database:":memory:"},pv="client_ed25519_seed",hv=$.ONE_DAY,vv=$.SIX_HOURS,gv="wss://relay.walletconnect.org",wv="relayer_message",mv="relayer_message_ack",bv="relayer_connect",yv="relayer_disconnect",xv="relayer_error",kv="relayer_connection_stalled",Zv="relayer_publish",Cv="payload",Ev="connect",Iv="disconnect",Sv="error",Av="2.19.2",Pv="link_mode",Ov="relay",_v="inbound",Nv="outbound",Tv="WALLETCONNECT_LINK_MODE_APPS",Rv="subscription_created",Lv="subscription_deleted",Bv="subscription_sync",Uv="subscription_resubscribed",Mv=($.THIRTY_DAYS,$.FIVE_SECONDS,$.THIRTY_DAYS,{wc_pairingDelete:{req:{ttl:$.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:$.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:$.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:$.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:$.ONE_DAY,prompt:!1,tag:0},res:{ttl:$.ONE_DAY,prompt:!1,tag:0}}}),jv="pairing_create",Dv="pairing_expire",zv="pairing_delete",qv="pairing_ping",Hv="history_created",Wv="history_updated",Fv="history_deleted",Vv="history_sync",Kv="expirer_created",Gv="expirer_deleted",$v="expirer_expired",Yv="expirer_sync",Jv=($.ONE_DAY,"https://verify.walletconnect.org"),Xv=Jv,Qv="".concat(Xv,"/v3"),eg=["https://verify.walletconnect.com",Jv],tg="pairing_started",ng="pairing_uri_validation_success",rg="pairing_uri_not_expired",ig="store_new_pairing",og="subscribing_pairing_topic",ag="subscribe_pairing_topic_success",sg="existing_pairing",cg="pairing_not_expired",ug="emit_inactive_pairing",lg="emit_session_proposal",dg="no_internet_connection",fg="malformed_pairing_uri",pg="active_pairing_already_exists",hg="subscribe_pairing_topic_failure",vg="pairing_expired",gg="proposal_listener_not_found",wg="session_approve_started",mg="session_namespaces_validation_success",bg="subscribing_session_topic",yg="subscribe_session_topic_success",xg="publishing_session_approve",kg="session_approve_publish_success",Zg="store_session",Cg="publishing_session_settle",Eg="session_settle_publish_success",Ig="no_internet_connection",Sg="proposal_expired",Ag="subscribe_session_topic_failure",Pg="session_approve_publish_failure",Og="session_settle_publish_failure",_g="session_approve_namespace_validation_failure",Ng="proposal_not_found",Tg="authenticated_session_approve_started",Rg="create_authenticated_session_topic",Lg="cacaos_verified",Bg="store_authenticated_session",Ug="subscribing_authenticated_session_topic",Mg="subscribe_authenticated_session_topic_success",jg="publishing_authenticated_session_approve",Dg="no_internet_connection",zg="invalid_cacao",qg="subscribe_authenticated_session_topic_failure",Hg="authenticated_session_approve_publish_failure",Wg="authenticated_session_pending_request_not_found",Fg="event-client",Vg="https://pulse.walletconnect.org/batch";var Kg=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==n[a])throw new TypeError(o+" is ambiguous");n[a]=i}var s=e.length,c=e.charAt(0),u=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var o=(e.length-t)*u+1>>>0,a=new Uint8Array(o);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=s*a[f]>>>0,a[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var p=o-i;p!==o&&0===a[p];)p++;for(var h=new Uint8Array(r+(o-p)),v=r;p!==o;)h[v++]=a[p++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var a=(o-i)*l+1>>>0,u=new Uint8Array(a);i!==o;){for(var d=t[i],f=0,p=a-1;(0!==d||f<r)&&-1!==p;p--,f++)d+=256*u[p]>>>0,u[p]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var h=a-r;h!==a&&0===u[h];)h++;for(var v=c.repeat(n);h<a;++h)v+=e.charAt(u[h]);return v},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}},Gg=Kg,$g=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Yg=function(){function e(t,n,r){(0,O.Z)(this,e),this.name=t,this.prefix=n,this.baseEncode=r}return(0,_.Z)(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),Jg=function(){function e(t,n,r){if((0,O.Z)(this,e),this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}return(0,_.Z)(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return Qg(this,e)}}]),e}(),Xg=function(){function e(t){(0,O.Z)(this,e),this.decoders=t}return(0,_.Z)(e,[{key:"or",value:function(e){return Qg(this,e)}},{key:"decode",value:function(e){var t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),Qg=function(e,t){return new Xg((0,I.Z)((0,I.Z)({},e.decoders||(0,T.Z)({},e.prefix,e)),t.decoders||(0,T.Z)({},t.prefix,t)))},ew=function(){function e(t,n,r,i){(0,O.Z)(this,e),this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Yg(t,n,r),this.decoder=new Jg(t,n,i)}return(0,_.Z)(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),tw=function(e){var t=e.name,n=e.prefix,r=e.encode,i=e.decode;return new ew(t,n,r,i)},nw=function(e){var t=e.prefix,n=e.name,r=e.alphabet,i=Gg(r,n),o=i.encode,a=i.decode;return tw({prefix:t,name:n,encode:o,decode:function(e){return $g(a(e))}})},rw=function(e){var t=e.name,n=e.prefix,r=e.bitsPerChar,i=e.alphabet;return tw({prefix:n,name:t,encode:function(e){return function(e,t,n){for(var r="="===t[t.length-1],i=(1<<n)-1,o="",a=0,s=0,c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;a>n;)o+=t[i&s>>(a-=n)];if(a&&(o+=t[i&s<<n-a]),r)for(;o.length*n&7;)o+="=";return o}(e,i,r)},decode:function(e){return function(e,t,n,r){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*n/8|0),c=0,u=0,l=0,d=0;d<a;++d){var f=i[e[d]];if(void 0===f)throw new SyntaxError("Non-".concat(r," character"));u=u<<n|f,(c+=n)>=8&&(c-=8,s[l++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return s}(e,i,r,t)}})},iw=tw({prefix:"\0",name:"identity",encode:function(e){return function(e){return(new TextDecoder).decode(e)}(e)},decode:function(e){return function(e){return(new TextEncoder).encode(e)}(e)}}),ow=Object.freeze({__proto__:null,identity:iw}),aw=rw({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),sw=Object.freeze({__proto__:null,base2:aw}),cw=rw({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),uw=Object.freeze({__proto__:null,base8:cw}),lw=nw({prefix:"9",name:"base10",alphabet:"0123456789"}),dw=Object.freeze({__proto__:null,base10:lw}),fw=rw({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pw=rw({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),hw=Object.freeze({__proto__:null,base16:fw,base16upper:pw}),vw=rw({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gw=rw({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ww=rw({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mw=rw({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bw=rw({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yw=rw({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),xw=rw({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kw=rw({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Zw=rw({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Cw=Object.freeze({__proto__:null,base32:vw,base32upper:gw,base32pad:ww,base32padupper:mw,base32hex:bw,base32hexupper:yw,base32hexpad:xw,base32hexpadupper:kw,base32z:Zw}),Ew=nw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Iw=nw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Sw=Object.freeze({__proto__:null,base36:Ew,base36upper:Iw}),Aw=nw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Pw=nw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ow=Object.freeze({__proto__:null,base58btc:Aw,base58flickr:Pw}),_w=rw({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Nw=rw({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Tw=rw({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Rw=rw({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Lw=Object.freeze({__proto__:null,base64:_w,base64pad:Nw,base64url:Tw,base64urlpad:Rw}),Bw=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Uw=Bw.reduce((function(e,t,n){return e[n]=t,e}),[]),Mw=Bw.reduce((function(e,t,n){return e[t.codePointAt(0)]=n,e}),[]);var jw=tw({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((function(e,t){return e+=Uw[t]}),"")},decode:function(e){var t,n=[],r=(0,R.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=Mw[i.codePointAt(0)];if(void 0===o)throw new Error("Non-base256emoji character: ".concat(i));n.push(o)}}catch(a){r.e(a)}finally{r.f()}return new Uint8Array(n)}}),Dw=Object.freeze({__proto__:null,base256emoji:jw}),zw=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=qw;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},qw=Math.pow(2,31);var Hw=function e(t,n){var r,i=0,o=0,a=n=n||0,s=t.length;do{if(a>=s)throw e.bytes=0,new RangeError("Could not decode varint");r=t[a++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=a-n,i};var Ww=Math.pow(2,7),Fw=Math.pow(2,14),Vw=Math.pow(2,21),Kw=Math.pow(2,28),Gw=Math.pow(2,35),$w=Math.pow(2,42),Yw=Math.pow(2,49),Jw=Math.pow(2,56),Xw=Math.pow(2,63),Qw={encode:zw,decode:Hw,encodingLength:function(e){return e<Ww?1:e<Fw?2:e<Vw?3:e<Kw?4:e<Gw?5:e<$w?6:e<Yw?7:e<Jw?8:e<Xw?9:10}},em=Qw,tm=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return em.encode(e,t,n),t},nm=function(e){return em.encodingLength(e)},rm=function(e,t){var n=t.byteLength,r=nm(e),i=r+nm(n),o=new Uint8Array(i+n);return tm(e,o,0),tm(n,o,r),o.set(t,i),new im(e,n,t,o)},im=(0,_.Z)((function e(t,n,r,i){(0,O.Z)(this,e),this.code=t,this.size=n,this.digest=r,this.bytes=i})),om=function(e){var t=e.name,n=e.code,r=e.encode;return new am(t,n,r)},am=function(){function e(t,n,r){(0,O.Z)(this,e),this.name=t,this.code=n,this.encode=r}return(0,_.Z)(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var n=this.encode(e);return n instanceof Uint8Array?rm(this.code,n):n.then((function(e){return rm(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),sm=function(e){return function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,n);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},cm=om({name:"sha2-256",code:18,encode:sm("SHA-256")}),um=om({name:"sha2-512",code:19,encode:sm("SHA-512")}),lm=Object.freeze({__proto__:null,sha256:cm,sha512:um}),dm=$g,fm={code:0,name:"identity",encode:dm,digest:function(e){return rm(0,dm(e))}},pm=Object.freeze({__proto__:null,identity:fm});new TextEncoder,new TextDecoder;var hm=(0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)((0,I.Z)({},ow),sw),uw),dw),hw),Cw),Sw),Ow),Lw),Dw);function vm(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,I.Z)((0,I.Z)({},lm),pm);var gm=vm("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),wm=vm("ascii","a",(function(e){for(var t="a",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(function(e){for(var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),mm=(0,I.Z)({utf8:gm,"utf-8":gm,hex:hm.base16,latin1:wm,ascii:wm,binary:wm},hm);function bm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=mm[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}var ym=Object.defineProperty,xm=function(e,t,n){return function(e,t,n){return t in e?ym(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},km=function(){function e(t,n){var r=this;(0,O.Z)(this,e),this.core=t,this.logger=n,xm(this,"keychain",new Map),xm(this,"name","keychain"),xm(this,"version","0.3"),xm(this,"initialized",!1),xm(this,"storagePrefix",lv),xm(this,"init",(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.initialized){e.next=5;break}return e.next=3,r.getKeyChain();case 3:typeof(t=e.sent)<"u"&&(r.keychain=t),r.initialized=!0;case 5:case"end":return e.stop()}}),e)})))),xm(this,"has",(function(e){return r.isInitialized(),r.keychain.has(e)})),xm(this,"set",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),r.keychain.set(t,n),e.next=4,r.persist();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),xm(this,"get",(function(e){r.isInitialized();var t=r.keychain.get(e);if(typeof t>"u"){var n=mf("NO_MATCHING_KEY","".concat(r.name,": ").concat(e)).message;throw new Error(n)}return t})),xm(this,"del",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),r.keychain.delete(t),e.next=4,r.persist();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.core=t,this.logger=ph(n,this.name)}return(0,_.Z)(e,[{key:"context",get:function(){return dh(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"setKeyChain",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,xs(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getKeyChain",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",typeof t<"u"?ks(t):void 0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"persist",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setKeyChain(this.keychain);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),e}(),Zm=Object.defineProperty,Cm=function(e,t,n){return function(e,t,n){return t in e?Zm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},Em=function(){function e(t,n,r){var i=this;(0,O.Z)(this,e),this.core=t,this.logger=n,Cm(this,"name","crypto"),Cm(this,"keychain"),Cm(this,"randomSessionIdentifier",Dd()),Cm(this,"initialized",!1),Cm(this,"init",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.initialized,e.t0){e.next=5;break}return e.next=4,i.keychain.init();case 4:i.initialized=!0;case 5:case"end":return e.stop()}}),e)})))),Cm(this,"hasKeys",(function(e){return i.isInitialized(),i.keychain.has(e)})),Cm(this,"getClientId",(0,P.Z)((0,A.Z)().mark((function e(){var t,n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.getClientSeed();case 3:return t=e.sent,n=io(t),e.abrupt("return",Qi(n.publicKey));case 6:case"end":return e.stop()}}),e)})))),Cm(this,"generateKeyPair",(function(){i.isInitialized();var e=function(){var e=kd.utils.randomPrivateKey(),t=kd.getPublicKey(e);return{privateKey:Va(e,Bd),publicKey:Va(t,Bd)}}();return i.setPrivateKey(e.publicKey,e.privateKey)})),Cm(this,"signJWT",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.getClientSeed();case 3:return n=e.sent,r=io(n),o=i.randomSessionIdentifier,a=hv,e.next=9,oo(o,t,a,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Cm(this,"generateSharedKey",(function(e,t,n){i.isInitialized();var r=function(e,t){var n=kd.getSharedSecret(Fa(e,Bd),Fa(t,Bd));return Va($u(rl,n,void 0,void 0,32),Bd)}(i.getPrivateKey(e),t);return i.setSymKey(r,n)})),Cm(this,"setSymKey",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),r=n||zd(t),e.next=4,i.keychain.set(r,t);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Cm(this,"deleteKeyPair",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.keychain.del(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Cm(this,"deleteSymKey",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.keychain.del(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Cm(this,"encode",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var o,a,s,c,u,l,d;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),o=ef(r),a=Et(n),!nf(o)){e.next=4;break}return e.abrupt("return",$d(a,null===r||void 0===r?void 0:r.encoding));case 4:if(!tf(o)){e.next=9;break}return s=o.senderPublicKey,c=o.receiverPublicKey,e.next=8,i.generateSharedKey(s,c);case 8:t=e.sent;case 9:return u=i.getSymKey(t),l=o.type,d=o.senderPublicKey,e.abrupt("return",Kd({type:l,symKey:u,message:a,senderPublicKey:d,encoding:null===r||void 0===r?void 0:r.encoding}));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),Cm(this,"decode",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var o,a,s,c,u,l;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),!nf(o=Qd(n,r))){e.next=5;break}return a=Yd(n,null===r||void 0===r?void 0:r.encoding),e.abrupt("return",Ct(a));case 5:if(!tf(o)){e.next=10;break}return s=o.receiverPublicKey,c=o.senderPublicKey,e.next=9,i.generateSharedKey(s,c);case 9:t=e.sent;case 10:return e.prev=10,u=i.getSymKey(t),l=Gd({symKey:u,encoded:n,encoding:null===r||void 0===r?void 0:r.encoding}),e.abrupt("return",Ct(l));case 15:return e.prev=15,e.t0=e.catch(10),e.t1=i.logger,e.t2="Failed to decode message from topic: '".concat(t,"', clientId: '"),e.next=21,i.getClientId();case 21:e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3,"'"),e.t1.error.call(e.t1,e.t4),i.logger.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t,n,r){return e.apply(this,arguments)}}()),Cm(this,"getPayloadType",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ud,n=Xd({encoded:e,encoding:t});return Wd(n.type)})),Cm(this,"getPayloadSenderPublicKey",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ud,n=Xd({encoded:e,encoding:t});return n.senderPublicKey?Va(n.senderPublicKey,Bd):void 0})),this.core=t,this.logger=ph(n,this.name),this.keychain=r||new km(this.core,this.logger)}return(0,_.Z)(e,[{key:"context",get:function(){return dh(this.logger)}},{key:"setPrivateKey",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keychain.set(t,n);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPrivateKey",value:function(e){return this.keychain.get(e)}},{key:"getClientSeed",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",e.prev=1,t=this.keychain.get(pv),e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(1),t=Dd(),e.next=10,this.keychain.set(pv,t);case 10:return e.abrupt("return",bm(t,"base16"));case 11:case"end":return e.stop()}}),e,this,[[1,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSymKey",value:function(e){return this.keychain.get(e)}},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),e}(),Im=Object.defineProperty,Sm=Object.defineProperties,Am=Object.getOwnPropertyDescriptors,Pm=Object.getOwnPropertySymbols,Om=Object.prototype.hasOwnProperty,_m=Object.prototype.propertyIsEnumerable,Nm=function(e,t,n){return t in e?Im(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Tm=function(e,t){for(var n in t||(t={}))Om.call(t,n)&&Nm(e,n,t[n]);if(Pm){var r,i=(0,R.Z)(Pm(t));try{for(i.s();!(r=i.n()).done;){n=r.value;_m.call(t,n)&&Nm(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},Rm=function(e,t){return Sm(e,Am(t))},Lm=function(e,t,n){return Nm(e,"symbol"!=typeof t?t+"":t,n)},Bm=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r)).logger=e,i.core=r,Lm((0,x.Z)(i),"messages",new Map),Lm((0,x.Z)(i),"messagesWithoutClientAck",new Map),Lm((0,x.Z)(i),"name","messages"),Lm((0,x.Z)(i),"version","0.3"),Lm((0,x.Z)(i),"initialized",!1),Lm((0,x.Z)(i),"storagePrefix",lv),Lm((0,x.Z)(i),"init",(0,P.Z)((0,A.Z)().mark((function e(){var t,n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.initialized){e.next=19;break}return i.logger.trace("Initialized"),e.prev=2,e.next=5,i.getRelayerMessages();case 5:return typeof(t=e.sent)<"u"&&(i.messages=t),e.next=9,i.getRelayerMessagesWithoutClientAck();case 9:typeof(n=e.sent)<"u"&&(i.messagesWithoutClientAck=n),i.logger.debug("Successfully Restored records for ".concat(i.name)),i.logger.trace({type:"method",method:"restore",size:i.messages.size}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),i.logger.debug("Failed to Restore records for ".concat(i.name)),i.logger.error(e.t0);case 16:return e.prev=16,i.initialized=!0,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))),Lm((0,x.Z)(i),"set",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),o=qd(n),typeof(a=i.messages.get(t))>"u"&&(a={}),!(typeof a[o]<"u")){e.next=5;break}return e.abrupt("return",o);case 5:return a[o]=n,i.messages.set(t,a),r===_v&&(s=i.messagesWithoutClientAck.get(t)||{},i.messagesWithoutClientAck.set(t,Rm(Tm({},s),(0,T.Z)({},o,n)))),e.next=8,i.persist();case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),Lm((0,x.Z)(i),"get",(function(e){i.isInitialized();var t=i.messages.get(e);return typeof t>"u"&&(t={}),t})),Lm((0,x.Z)(i),"getWithoutAck",(function(e){i.isInitialized();var t,n={},r=(0,R.Z)(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=i.messagesWithoutClientAck.get(o)||{};n[o]=Object.values(a)}}catch(s){r.e(s)}finally{r.f()}return n})),Lm((0,x.Z)(i),"has",(function(e,t){return i.isInitialized(),typeof i.get(e)[qd(t)]<"u"})),Lm((0,x.Z)(i),"ack",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),!(typeof(r=i.messagesWithoutClientAck.get(t))>"u")){e.next=4;break}return e.abrupt("return");case 4:return o=qd(n),delete r[o],0===Object.keys(r).length?i.messagesWithoutClientAck.delete(t):i.messagesWithoutClientAck.set(t,r),e.next=9,i.persist();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Lm((0,x.Z)(i),"del",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),i.messages.delete(t),i.messagesWithoutClientAck.delete(t),e.next=5,i.persist();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.logger=ph(e,i.name),i.core=r,i}return(0,_.Z)(n,[{key:"context",get:function(){return dh(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"storageKeyWithoutClientAck",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}},{key:"setRelayerMessages",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,xs(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setRelayerMessagesWithoutClientAck",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKeyWithoutClientAck,xs(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRelayerMessages",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",typeof t<"u"?ks(t):void 0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRelayerMessagesWithoutClientAck",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKeyWithoutClientAck);case 2:return t=e.sent,e.abrupt("return",typeof t<"u"?ks(t):void 0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"persist",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerMessages(this.messages);case 2:return e.next=4,this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),n}(kh),Um=Object.defineProperty,Mm=Object.defineProperties,jm=Object.getOwnPropertyDescriptors,Dm=Object.getOwnPropertySymbols,zm=Object.prototype.hasOwnProperty,qm=Object.prototype.propertyIsEnumerable,Hm=function(e,t,n){return t in e?Um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Wm=function(e,t){for(var n in t||(t={}))zm.call(t,n)&&Hm(e,n,t[n]);if(Dm){var r,i=(0,R.Z)(Dm(t));try{for(i.s();!(r=i.n()).done;){n=r.value;qm.call(t,n)&&Hm(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},Fm=function(e,t){return Mm(e,jm(t))},Vm=function(e,t,n){return Hm(e,"symbol"!=typeof t?t+"":t,n)},Km=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r)).relayer=e,i.logger=r,Vm((0,x.Z)(i),"events",new L.EventEmitter),Vm((0,x.Z)(i),"name","publisher"),Vm((0,x.Z)(i),"queue",new Map),Vm((0,x.Z)(i),"publishTimeout",(0,$.toMiliseconds)($.ONE_MINUTE)),Vm((0,x.Z)(i),"initialPublishTimeout",(0,$.toMiliseconds)(15*$.ONE_SECOND)),Vm((0,x.Z)(i),"needsTransportRestart",!1),Vm((0,x.Z)(i),"publish",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var o,a,s,c,u,l,d,f,p;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.logger.debug("Publishing Payload"),i.logger.trace({type:"method",method:"publish",params:{topic:t,message:n,opts:r}}),a=(null===r||void 0===r?void 0:r.ttl)||vv,s=of(r),c=(null===r||void 0===r?void 0:r.prompt)||!1,u=(null===r||void 0===r?void 0:r.tag)||0,l=(null===r||void 0===r?void 0:r.id)||zh().toString(),d={topic:t,message:n,opts:{ttl:a,relay:s,prompt:c,tag:u,id:l,attestation:null===r||void 0===r?void 0:r.attestation,tvf:null===r||void 0===r?void 0:r.tvf}},f="Failed to publish payload, please try again. id:".concat(l," tag:").concat(u),e.prev=2,p=new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(o){var s,f;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function e(t){var n=t.id;d.opts.id===n&&(i.removeRequestFromQueue(n),i.relayer.events.removeListener(Zv,e),o(d))},i.relayer.events.on(Zv,s),f=Cs(new Promise((function(e,o){i.rpcPublish({topic:t,message:n,ttl:a,prompt:c,tag:u,id:l,attestation:null===r||void 0===r?void 0:r.attestation,tvf:null===r||void 0===r?void 0:r.tvf}).then(e).catch((function(e){i.logger.warn(e,null===e||void 0===e?void 0:e.message),o(e)}))})),i.initialPublishTimeout,"Failed initial publish, retrying.... id:".concat(l," tag:").concat(u)),e.prev=3,e.next=6,f;case 6:i.events.removeListener(Zv,s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i.queue.set(l,Fm(Wm({},d),{attempt:1})),i.logger.warn(e.t0,null===e.t0||void 0===e.t0?void 0:e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()),i.logger.trace({type:"method",method:"publish",params:{id:l,topic:t,message:n,opts:r}}),e.next=7,Cs(p,i.publishTimeout,f);case 7:e.next=13;break;case 9:if(e.prev=9,e.t0=e.catch(2),i.logger.debug("Failed to Publish Payload"),i.logger.error(e.t0),null==(o=null===r||void 0===r?void 0:r.internal)||!o.throwOnFailedPublish){e.next=13;break}throw e.t0;case 13:return e.prev=13,i.queue.delete(l),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t,n,r){return e.apply(this,arguments)}}()),Vm((0,x.Z)(i),"on",(function(e,t){i.events.on(e,t)})),Vm((0,x.Z)(i),"once",(function(e,t){i.events.once(e,t)})),Vm((0,x.Z)(i),"off",(function(e,t){i.events.off(e,t)})),Vm((0,x.Z)(i),"removeListener",(function(e,t){i.events.removeListener(e,t)})),i.relayer=e,i.logger=ph(r,i.name),i.registerEventListeners(),i}return(0,_.Z)(n,[{key:"context",get:function(){return dh(this.logger)}},{key:"rpcPublish",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c,u,l,d,f,p,h,v,g;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.topic,s=t.message,c=t.ttl,u=void 0===c?vv:c,l=t.prompt,d=t.tag,f=t.id,p=t.attestation,h=t.tvf,v={method:af(of().protocol).publish,params:Wm({topic:a,message:s,ttl:u,prompt:l,tag:d,attestation:p},h),id:f},kf(null==(n=v.params)?void 0:n.prompt)&&(null==(r=v.params)||delete r.prompt),kf(null==(i=v.params)?void 0:i.tag)&&(null==(o=v.params)||delete o.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v}),e.next=4,this.relayer.request(v);case 4:return g=e.sent,e.abrupt("return",(this.relayer.events.emit(Zv,t),this.logger.debug("Successfully Published Payload"),g));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeRequestFromQueue",value:function(e){this.queue.delete(e)}},{key:"checkQueue",value:function(){var e=this;this.queue.forEach(function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n,r){var i,o,a,s,c;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.attempt+1,e.queue.set(r,Fm(Wm({},n),{attempt:i})),o=n.topic,a=n.message,s=n.opts,c=n.attestation,e.logger.warn({},"Publisher: queue->publishing: ".concat(n.opts.id,", tag: ").concat(n.opts.tag,", attempt: ").concat(i)),t.next=6,e.rpcPublish(Fm(Wm({},n),{topic:o,message:a,ttl:s.ttl,prompt:s.prompt,tag:s.tag,id:s.id,attestation:c,tvf:s.tvf}));case 6:e.logger.warn({},"Publisher: queue->published: ".concat(n.opts.id));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"registerEventListeners",value:function(){var e=this;this.relayer.core.heartbeat.on(tp,(function(){if(e.needsTransportRestart)return e.needsTransportRestart=!1,void e.relayer.events.emit(kv);e.checkQueue()})),this.relayer.on(mv,(function(t){e.removeRequestFromQueue(t.id.toString())}))}}]),n}(Zh),Gm=Object.defineProperty,$m=function(e,t,n){return function(e,t,n){return t in e?Gm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},Ym=function(){function e(){var t=this;(0,O.Z)(this,e),$m(this,"map",new Map),$m(this,"set",(function(e,n){var r=t.get(e);t.exists(e,n)||t.map.set(e,[].concat((0,N.Z)(r),[n]))})),$m(this,"get",(function(e){return t.map.get(e)||[]})),$m(this,"exists",(function(e,n){return t.get(e).includes(n)})),$m(this,"delete",(function(e,n){if(typeof n>"u")t.map.delete(e);else if(t.map.has(e)){var r=t.get(e);if(t.exists(e,n)){var i=r.filter((function(e){return e!==n}));i.length?t.map.set(e,i):t.map.delete(e)}}})),$m(this,"clear",(function(){t.map.clear()}))}return(0,_.Z)(e,[{key:"topics",get:function(){return Array.from(this.map.keys())}}]),e}(),Jm=Object.defineProperty,Xm=Object.defineProperties,Qm=Object.getOwnPropertyDescriptors,eb=Object.getOwnPropertySymbols,tb=Object.prototype.hasOwnProperty,nb=Object.prototype.propertyIsEnumerable,rb=function(e,t,n){return t in e?Jm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ib=function(e,t){for(var n in t||(t={}))tb.call(t,n)&&rb(e,n,t[n]);if(eb){var r,i=(0,R.Z)(eb(t));try{for(i.s();!(r=i.n()).done;){n=r.value;nb.call(t,n)&&rb(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},ob=function(e,t){return Xm(e,Qm(t))},ab=function(e,t,n){return rb(e,"symbol"!=typeof t?t+"":t,n)},sb=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r)).relayer=e,i.logger=r,ab((0,x.Z)(i),"subscriptions",new Map),ab((0,x.Z)(i),"topicMap",new Ym),ab((0,x.Z)(i),"events",new L.EventEmitter),ab((0,x.Z)(i),"name","subscription"),ab((0,x.Z)(i),"version","0.3"),ab((0,x.Z)(i),"pending",new Map),ab((0,x.Z)(i),"cached",[]),ab((0,x.Z)(i),"initialized",!1),ab((0,x.Z)(i),"storagePrefix",lv),ab((0,x.Z)(i),"subscribeTimeout",(0,$.toMiliseconds)($.ONE_MINUTE)),ab((0,x.Z)(i),"initialSubscribeTimeout",(0,$.toMiliseconds)(15*$.ONE_SECOND)),ab((0,x.Z)(i),"clientId"),ab((0,x.Z)(i),"batchSubscribeTopicsLimit",500),ab((0,x.Z)(i),"init",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.initialized,e.t0){e.next=6;break}return i.logger.trace("Initialized"),i.registerEventListeners(),e.next=6,i.restore();case 6:i.initialized=!0;case 7:case"end":return e.stop()}}),e)})))),ab((0,x.Z)(i),"subscribe",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),i.logger.debug("Subscribing Topic"),i.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:n}}),e.prev=1,r=of(n),o={topic:t,relay:r,transportType:null===n||void 0===n?void 0:n.transportType},i.pending.set(t,o),e.next=6,i.rpcSubscribe(t,r,n);case 6:return a=e.sent,e.abrupt("return",("string"==typeof a&&(i.onSubscribe(a,o),i.logger.debug("Successfully Subscribed Topic"),i.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:n}})),a));case 10:throw e.prev=10,e.t0=e.catch(1),i.logger.debug("Failed to Subscribe Topic"),i.logger.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),ab((0,x.Z)(i),"unsubscribe",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),!(typeof(null===n||void 0===n?void 0:n.id)<"u")){e.next=6;break}return e.next=4,i.unsubscribeById(t,n.id,n);case 4:e.next=8;break;case 6:return e.next=8,i.unsubscribeByTopic(t,n);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ab((0,x.Z)(i),"isSubscribed",(function(e){return new Promise((function(t){t(i.topicMap.topics.includes(e))}))})),ab((0,x.Z)(i),"isKnownTopic",(function(e){return new Promise((function(t){t(i.topicMap.topics.includes(e)||i.pending.has(e)||i.cached.some((function(t){return t.topic===e})))}))})),ab((0,x.Z)(i),"on",(function(e,t){i.events.on(e,t)})),ab((0,x.Z)(i),"once",(function(e,t){i.events.once(e,t)})),ab((0,x.Z)(i),"off",(function(e,t){i.events.off(e,t)})),ab((0,x.Z)(i),"removeListener",(function(e,t){i.events.removeListener(e,t)})),ab((0,x.Z)(i),"start",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.onConnect();case 2:case"end":return e.stop()}}),e)})))),ab((0,x.Z)(i),"stop",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.onDisconnect();case 2:case"end":return e.stop()}}),e)})))),ab((0,x.Z)(i),"restart",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.restore();case 2:return e.next=4,i.onRestart();case 4:case"end":return e.stop()}}),e)})))),ab((0,x.Z)(i),"checkPending",(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.pending.size||i.initialized&&i.relayer.connected){e.next=2;break}return e.abrupt("return");case 2:return t=[],i.pending.forEach((function(e){t.push(e)})),e.next=6,i.batchSubscribe(t);case 6:case"end":return e.stop()}}),e)})))),ab((0,x.Z)(i),"registerEventListeners",(function(){i.relayer.core.heartbeat.on(tp,(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.checkPending();case 2:case"end":return e.stop()}}),e)})))),i.events.on(Rv,function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rv,i.logger.info("Emitting ".concat(n)),i.logger.debug({type:"event",event:n,data:t}),e.next=5,i.persist();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.events.on(Lv,function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lv,i.logger.info("Emitting ".concat(n)),i.logger.debug({type:"event",event:n,data:t}),e.next=5,i.persist();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),i.relayer=e,i.logger=ph(r,i.name),i.clientId="",i}return(0,_.Z)(n,[{key:"context",get:function(){return dh(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}},{key:"length",get:function(){return this.subscriptions.size}},{key:"ids",get:function(){return Array.from(this.subscriptions.keys())}},{key:"values",get:function(){return Array.from(this.subscriptions.values())}},{key:"topics",get:function(){return this.topicMap.topics}},{key:"hasAnyTopics",get:function(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}},{key:"hasSubscription",value:function(e,t){var n=!1;try{n=this.getSubscription(e).topic===t}catch(r){}return n}},{key:"reset",value:function(){this.cached=[],this.initialized=!0}},{key:"onDisable",value:function(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}},{key:"unsubscribeByTopic",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.topicMap.get(t),e.next=3,Promise.all(r.map(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(r){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.unsubscribeById(t,r,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unsubscribeById",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}}),e.prev=1,i=of(r),e.next=5,this.restartToComplete({topic:t,id:n,relay:i});case 5:return e.next=7,this.rpcUnsubscribe(t,n,i);case 7:return o=bf("USER_DISCONNECTED","".concat(this.name,", ").concat(t)),e.next=10,this.onUnsubscribe(t,n,o);case 10:this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}}),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"rpcSubscribe",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var i,o,a,s,c,u,l=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!r||(null===r||void 0===r?void 0:r.transportType)===Ov,!e.t0){e.next=4;break}return e.next=4,this.restartToComplete({topic:t,id:t,relay:n});case 4:return o={method:af(n.protocol).subscribe,params:{topic:t}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o}),a=null==(i=null===r||void 0===r?void 0:r.internal)?void 0:i.throwOnFailedPublish,e.prev=7,e.next=10,this.getSubscriptionId(t);case 10:if(s=e.sent,(null===r||void 0===r?void 0:r.transportType)!==Pv){e.next=13;break}return e.abrupt("return",(setTimeout((function(){(l.relayer.connected||l.relayer.connecting)&&l.relayer.request(o).catch((function(e){return l.logger.warn(e)}))}),(0,$.toMiliseconds)($.ONE_SECOND)),s));case 13:return c=new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(n){var r,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function e(r){r.topic===t&&(l.events.removeListener(Rv,e),n(r.id))},l.events.on(Rv,r),e.prev=2,e.next=5,Cs(new Promise((function(e,t){l.relayer.request(o).catch((function(e){l.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)})).then(e)})),l.initialSubscribeTimeout,"Subscribing to ".concat(t," failed, please try again"));case 5:i=e.sent,l.events.removeListener(Rv,r),n(i),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()),e.next=16,Cs(c,this.subscribeTimeout,"Subscribing to ".concat(t," failed, please try again"));case 16:if((u=e.sent)||!a){e.next=19;break}throw new Error("Subscribing to ".concat(t," failed, please try again"));case 19:return e.abrupt("return",u?s:null);case 22:if(e.prev=22,e.t1=e.catch(7),this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(kv),!a){e.next=26;break}throw e.t1;case 26:return e.abrupt("return",null);case 27:case"end":return e.stop()}}),e,this,[[7,22]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"rpcBatchSubscribe",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return n=t[0].relay,r={method:af(n.protocol).batchSubscribe,params:{topics:t.map((function(e){return e.topic}))}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),e.prev=4,e.next=7,Cs(new Promise((function(e){i.relayer.request(r).catch((function(e){return i.logger.warn(e)})).then(e)})),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again");case 7:return e.next=9,e.sent;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.relayer.events.emit(kv);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rpcBatchFetchMessages",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return n=t[0].relay,r={method:af(n.protocol).batchFetchMessages,params:{topics:t.map((function(e){return e.topic}))}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),e.prev=4,e.next=7,Cs(new Promise((function(e,t){o.relayer.request(r).catch((function(e){o.logger.warn(e),t(e)})).then(e)})),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again");case 7:return e.next=9,e.sent;case 9:i=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),this.relayer.events.emit(kv);case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rpcUnsubscribe",value:function(e,t,n){var r={method:af(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}},{key:"onSubscribe",value:function(e,t){this.setSubscription(e,ob(ib({},t),{id:e})),this.pending.delete(t.topic)}},{key:"onBatchSubscribe",value:function(e){var t=this;e.length&&e.forEach((function(e){t.setSubscription(e.id,ib({},e)),t.pending.delete(e.topic)}))}},{key:"onUnsubscribe",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),e.next=4,this.relayer.messages.del(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setRelayerSubscriptions",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRelayerSubscriptions",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setSubscription",value:function(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}},{key:"addSubscription",value:function(e,t){this.subscriptions.set(e,ib({},t)),this.topicMap.set(t.topic,e),this.events.emit(Rv,t)}},{key:"getSubscription",value:function(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});var t=this.subscriptions.get(e);if(!t){var n=mf("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(n)}return t}},{key:"deleteSubscription",value:function(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});var n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Lv,ob(ib({},n),{reason:t}))}},{key:"persist",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerSubscriptions(this.values);case 2:this.events.emit(Bv);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRestart",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cached.length){e.next=10;break}t=(0,N.Z)(this.cached),n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit),r=0;case 3:if(!(r<n)){e.next=10;break}return i=t.splice(0,this.batchSubscribeTopicsLimit),e.next=7,this.batchSubscribe(i);case 7:r++,e.next=3;break;case 10:this.events.emit(Uv);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restore",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRelayerSubscriptions();case 3:if(!(typeof(t=e.sent)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.subscriptions.size){e.next=9;break}throw n=mf("RESTORE_WILL_OVERRIDE",this.name),r=n.message,this.logger.error(r),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(r);case 9:this.cached=t,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"batchSubscribe",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.length,!e.t0){e.next=9;break}return e.next=4,this.rpcBatchSubscribe(t);case 4:return e.t1=this,e.next=7,Promise.all(t.map(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ob,e.t1=ib({},t),e.next=4,n.getSubscriptionId(t.topic);case 4:return e.t2=e.sent,e.t3={id:e.t2},e.abrupt("return",(0,e.t0)(e.t1,e.t3));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.t2=e.sent,e.t1.onBatchSubscribe.call(e.t1,e.t2);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"batchFetchMessages",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return this.logger.trace("Fetching batch messages for ".concat(t.length," subscriptions")),e.next=5,this.rpcBatchFetchMessages(t);case 5:if(n=e.sent,e.t0=n&&n.messages,!e.t0){e.next=12;break}return e.next=10,zs((0,$.toMiliseconds)($.ONE_SECOND));case 10:return e.next=12,this.relayer.handleBatchMessageEvents(n.messages);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onConnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.restart();case 2:this.reset();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onDisconnect",value:function(){this.onDisable()}},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"restartToComplete",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!this.relayer.connected&&!this.relayer.connecting,!e.t0){e.next=5;break}return this.cached.push(t),e.next=5,this.relayer.transportOpen();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClientId",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.clientId,e.t0){e.next=5;break}return e.next=4,this.relayer.core.crypto.getClientId();case 4:this.clientId=e.sent;case 5:return e.abrupt("return",this.clientId);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSubscriptionId",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=qd,e.t1=t,e.next=4,this.getClientId();case 4:return e.t2=e.sent,e.t3=e.t1+e.t2,e.abrupt("return",(0,e.t0)(e.t3));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ih),cb=Object.defineProperty,ub=Object.getOwnPropertySymbols,lb=Object.prototype.hasOwnProperty,db=Object.prototype.propertyIsEnumerable,fb=function(e,t,n){return t in e?cb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},pb=function(e,t){for(var n in t||(t={}))lb.call(t,n)&&fb(e,n,t[n]);if(ub){var r,i=(0,R.Z)(ub(t));try{for(i.s();!(r=i.n()).done;){n=r.value;db.call(t,n)&&fb(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},hb=function(e,t,n){return fb(e,"symbol"!=typeof t?t+"":t,n)},vb=function(e){(0,k.Z)(r,e);var t=(0,Z.Z)(r);function r(e){var i;return(0,O.Z)(this,r),i=t.call(this,e),hb((0,x.Z)(i),"protocol","wc"),hb((0,x.Z)(i),"version",2),hb((0,x.Z)(i),"core"),hb((0,x.Z)(i),"logger"),hb((0,x.Z)(i),"events",new L.EventEmitter),hb((0,x.Z)(i),"provider"),hb((0,x.Z)(i),"messages"),hb((0,x.Z)(i),"subscriber"),hb((0,x.Z)(i),"publisher"),hb((0,x.Z)(i),"name","relayer"),hb((0,x.Z)(i),"transportExplicitlyClosed",!1),hb((0,x.Z)(i),"initialized",!1),hb((0,x.Z)(i),"connectionAttemptInProgress",!1),hb((0,x.Z)(i),"relayUrl"),hb((0,x.Z)(i),"projectId"),hb((0,x.Z)(i),"packageName"),hb((0,x.Z)(i),"bundleId"),hb((0,x.Z)(i),"hasExperiencedNetworkDisruption",!1),hb((0,x.Z)(i),"pingTimeout"),hb((0,x.Z)(i),"heartBeatTimeout",(0,$.toMiliseconds)($.THIRTY_SECONDS+$.FIVE_SECONDS)),hb((0,x.Z)(i),"reconnectTimeout"),hb((0,x.Z)(i),"connectPromise"),hb((0,x.Z)(i),"reconnectInProgress",!1),hb((0,x.Z)(i),"requestsInFlight",[]),hb((0,x.Z)(i),"connectTimeout",(0,$.toMiliseconds)(15*$.ONE_SECOND)),hb((0,x.Z)(i),"request",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.logger.debug("Publishing Request Payload"),o=t.id||zh().toString(),e.next=4,i.toEstablishConnection();case 4:return e.prev=4,i.logger.trace({id:o,method:t.method,topic:null==(n=t.params)?void 0:n.topic},"relayer.request - publishing..."),a="".concat(o,":").concat((null==(r=t.params)?void 0:r.tag)||""),i.requestsInFlight.push(a),e.next=10,i.provider.request(t);case 10:return s=e.sent,e.abrupt("return",(i.requestsInFlight=i.requestsInFlight.filter((function(e){return e!==a})),s));case 14:throw e.prev=14,e.t0=e.catch(4),i.logger.debug("Failed to Publish Request: ".concat(o)),e.t0;case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}()),hb((0,x.Z)(i),"resetPingTimeout",(function(){ds()&&(clearTimeout(i.pingTimeout),i.pingTimeout=setTimeout((function(){var e,t,n,r;try{i.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=i.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(o){i.logger.warn(o,null===o||void 0===o?void 0:o.message)}}),i.heartBeatTimeout))})),hb((0,x.Z)(i),"onPayloadHandler",(function(e){i.onProviderPayload(e),i.resetPingTimeout()})),hb((0,x.Z)(i),"onConnectHandler",(function(){i.logger.warn({},"Relayer connected \ud83d\udedc"),i.startPingTimeout(),i.events.emit(bv)})),hb((0,x.Z)(i),"onDisconnectHandler",(function(){i.logger.warn({},"Relayer disconnected \ud83d\uded1"),i.requestsInFlight=[],i.onProviderDisconnect()})),hb((0,x.Z)(i),"onProviderErrorHandler",(function(e){i.logger.fatal("Fatal socket error: ".concat(e.message)),i.events.emit(xv,e),i.logger.fatal("Fatal socket error received, closing transport"),i.transportClose()})),hb((0,x.Z)(i),"registerProviderListeners",(function(){i.provider.on(Cv,i.onPayloadHandler),i.provider.on(Ev,i.onConnectHandler),i.provider.on(Iv,i.onDisconnectHandler),i.provider.on(Sv,i.onProviderErrorHandler)})),i.core=e.core,i.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?ph(e.logger,i.name):Wp()(ch({level:e.logger||"error"})),i.messages=new Bm(i.logger,e.core),i.subscriber=new sb((0,x.Z)(i),i.logger),i.publisher=new Km((0,x.Z)(i),i.logger),i.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||gv,i.projectId=e.projectId,fs()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"android"===(null==n.g?void 0:n.g.Platform.OS)?i.packageName=vs():fs()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"ios"===(null==n.g?void 0:n.g.Platform.OS)&&(i.bundleId=vs()),i.provider={},i}return(0,_.Z)(r,[{key:"init",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),this.registerEventListeners(),e.next=4,Promise.all([this.messages.init(),this.subscriber.init()]);case 4:if(this.initialized=!0,!this.subscriber.hasAnyTopics){e.next=14;break}return e.prev=6,e.next=9,this.transportOpen();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),this.logger.warn(e.t0,null===e.t0||void 0===e.t0?void 0:e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[6,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"context",get:function(){return dh(this.logger)}},{key:"connected",get:function(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}},{key:"connecting",get:function(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}},{key:"publish",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.publisher.publish(t,n,r);case 3:return e.next=5,this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:Ov},Nv);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i,o,a,s,c,u,l=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized(),e.t0=!(null!=n&&n.transportType)||"relay"===(null===n||void 0===n?void 0:n.transportType),!e.t0){e.next=5;break}return e.next=5,this.toEstablishConnection();case 5:return a=typeof(null==(r=null===n||void 0===n?void 0:n.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(i=null===n||void 0===n?void 0:n.internal)?void 0:i.throwOnFailedPublish),s=(null==(o=this.subscriber.topicMap.get(t))?void 0:o[0])||"",u=function e(n){n.topic===t&&(l.subscriber.off(Rv,e),c())},e.next=10,Promise.all([new Promise((function(e){c=e,l.subscriber.on(Rv,u)})),new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(r,i){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.subscriber.subscribe(t,pb({internal:{throwOnFailedPublish:a}},n)).catch((function(e){a&&i(e)}));case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=s;case 5:s=e.t0,r();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.subscriber.unsubscribe(t,n);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"transportDisconnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.provider.disconnect||!this.hasExperiencedNetworkDisruption&&!this.connected){e.next=5;break}return e.next=3,Cs(this.provider.disconnect(),2e3,"provider.disconnect()").catch((function(){return t.onProviderDisconnect()}));case 3:e.next=6;break;case 5:this.onProviderDisconnect();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"transportClose",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.transportExplicitlyClosed=!0,e.next=3,this.transportDisconnect();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"transportOpen",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.subscriber.hasAnyTopics){e.next=3;break}return this.logger.warn("Starting WS connection skipped because the client has no topics to work with."),e.abrupt("return");case 3:if(!this.connectPromise){e.next=10;break}return this.logger.debug({},"Waiting for existing connection attempt to resolve..."),e.next=7,this.connectPromise;case 7:this.logger.debug({},"Existing connection attempt resolved"),e.next=13;break;case 10:return this.connectPromise=new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(r,i){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.connect(t).then(r).catch(i).finally((function(){n.connectPromise=void 0}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=13,this.connectPromise;case 13:if(this.connected){e.next=15;break}throw new Error("Couldn't establish socket connection to the relay server: ".concat(this.relayUrl));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartTransport",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.debug({},"Restarting transport..."),e.t0=!this.connectionAttemptInProgress,!e.t0){e.next=10;break}return this.relayUrl=t||this.relayUrl,e.next=6,this.confirmOnlineStateOrThrow();case 6:return e.next=8,this.transportClose();case 8:return e.next=10,this.transportOpen();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"confirmOnlineStateOrThrow",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kf();case 2:if(e.sent){e.next=4;break}throw new Error("No internet connection detected. Please restart your network and try again.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleBatchMessageEvents",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(null===t||void 0===t?void 0:t.length)){e.next=3;break}return this.logger.trace("Batch message events is empty. Ignoring..."),e.abrupt("return");case 3:n=t.sort((function(e,t){return e.publishedAt-t.publishedAt})),this.logger.debug("Batch of ".concat(n.length," message events sorted")),r=(0,R.Z)(n),e.prev=6,r.s();case 8:if((i=r.n()).done){e.next=20;break}return o=i.value,e.prev=10,e.next=13,this.onMessageEvent(o);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),this.logger.warn(e.t0,"Error while processing batch message event: "+(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(6),r.e(e.t1);case 25:return e.prev=25,r.f(),e.finish(25);case 28:this.logger.trace("Batch of ".concat(n.length," message events processed"));case 29:case"end":return e.stop()}}),e,this,[[6,22,25,28],[10,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onLinkMessageEvent",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.topic,n.sessionExists){e.next=5;break}return i=Ss($.FIVE_MINUTES),o={topic:r,expiry:i,relay:{protocol:"irn"},active:!1},e.next=5,this.core.pairing.pairings.set(r,o);case 5:return this.events.emit(wv,t),e.next=8,this.recordMessageEvent(t,_v);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.confirmOnlineStateOrThrow();case 2:if(e.t0=t&&t!==this.relayUrl,!e.t0){e.next=7;break}return this.relayUrl=t,e.next=7,this.transportDisconnect();case 7:this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1,n=1;case 10:if(!(n<6)){e.next=38;break}if(e.prev=11,!this.transportExplicitlyClosed){e.next=14;break}return e.abrupt("break",38);case 14:return this.logger.debug({},"Connecting to ".concat(this.relayUrl,", attempt: ").concat(n,"...")),e.next=17,this.createProvider();case 17:return e.next=19,new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){n(new Error("Connection interrupted while trying to subscribe"))},i.provider.once(Iv,r),e.next=4,Cs(new Promise((function(e,t){i.provider.connect().then(e).catch(t)})),i.connectTimeout,"Socket stalled when trying to connect to ".concat(i.relayUrl)).catch((function(e){n(e)})).finally((function(){i.provider.off(Iv,r),clearTimeout(i.reconnectTimeout)}));case 4:return e.next=6,new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){n(new Error("Connection interrupted while trying to subscribe"))},i.provider.once(Iv,r),e.next=4,i.subscriber.start().then(t).catch(n).finally((function(){i.provider.off(Iv,r)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:i.hasExperiencedNetworkDisruption=!1,t();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 19:e.next=27;break;case 21:return e.prev=21,e.t1=e.catch(11),e.next=25,this.subscriber.stop();case 25:r=e.t1,this.logger.warn({},r.message),this.hasExperiencedNetworkDisruption=!0;case 27:return e.prev=27,this.connectionAttemptInProgress=!1,e.finish(27);case 30:if(!this.connected){e.next=33;break}return this.logger.debug({},"Connected to ".concat(this.relayUrl," successfully on attempt: ").concat(n)),e.abrupt("break",38);case 33:return e.next=35,new Promise((function(e){return setTimeout(e,(0,$.toMiliseconds)(1*n))}));case 35:n++;case 36:e.next=10;break;case 38:case"end":return e.stop()}}),e,this,[[11,21,27,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"startPingTimeout",value:function(){var e,t,n,r,i,o=this;if(ds())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",(function(){o.resetPingTimeout()}))),this.resetPingTimeout()}catch(a){this.logger.warn(a,null===a||void 0===a?void 0:a.message)}}},{key:"createProvider",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.provider.connection&&this.unregisterProviderListeners(),e.next=3,this.core.crypto.signJWT(this.relayUrl);case 3:t=e.sent,this.provider=new iv(new cv(bs({sdkVersion:Av,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordMessageEvent",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,i=t.message,e.next=3,this.messages.set(r,i,n);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"shouldIgnoreMessageEvent",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.topic,(r=t.message)&&0!==r.length){e.next=3;break}return e.abrupt("return",(this.logger.warn("Ignoring invalid/empty message: ".concat(r)),!0));case 3:return e.next=5,this.subscriber.isKnownTopic(n);case 5:if(e.sent){e.next=7;break}return e.abrupt("return",(this.logger.warn("Ignoring message for unknown topic ".concat(n)),!0));case 7:return i=this.messages.has(n,r),e.abrupt("return",(i&&this.logger.warn("Ignoring duplicate message: ".concat(r)),i));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onProviderPayload",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),!ev(t)){e.next=13;break}if(t.method.endsWith("_subscription")){e.next=3;break}return e.abrupt("return");case 3:return n=t.params,r=n.data,i=r.topic,o=r.message,a=r.publishedAt,s=r.attestation,c={topic:i,message:o,publishedAt:a,transportType:Ov,attestation:s},this.logger.debug("Emitting Relayer Payload"),this.logger.trace(pb({type:"event",event:n.id},c)),this.events.emit(n.id,c),e.next=9,this.acknowledgePayload(t);case 9:return e.next=11,this.onMessageEvent(c);case 11:e.next=14;break;case 13:tv(t)&&this.events.emit(mv,t);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onMessageEvent",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.shouldIgnoreMessageEvent(t);case 2:if(e.t0=e.sent,e.t0){e.next=7;break}return e.next=6,this.recordMessageEvent(t,_v);case 6:this.events.emit(wv,t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"acknowledgePayload",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hh(t.id,!0),e.next=3,this.provider.connection.send(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unregisterProviderListeners",value:function(){this.provider.off(Cv,this.onPayloadHandler),this.provider.off(Ev,this.onConnectHandler),this.provider.off(Iv,this.onDisconnectHandler),this.provider.off(Sv,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}},{key:"registerEventListeners",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kf();case 2:t=e.sent,$f(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(r){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t!==r,!e.t0){e.next=12;break}if(t=r,!r){e.next=8;break}return e.next=6,n.transportOpen().catch((function(e){return n.logger.error(e,null===e||void 0===e?void 0:e.message)}));case 6:e.next=12;break;case 8:return n.hasExperiencedNetworkDisruption=!0,e.next=11,n.transportDisconnect();case 11:n.transportExplicitlyClosed=!1;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onProviderDisconnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(this.pingTimeout),this.events.emit(yv),this.connectionAttemptInProgress=!1,e.t0=!this.reconnectInProgress,!e.t0){e.next=9;break}return this.reconnectInProgress=!0,e.next=8,this.subscriber.stop();case 8:this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout((0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.transportOpen().catch((function(e){return t.logger.error(e,null===e||void 0===e?void 0:e.message)}));case 2:t.reconnectTimeout=void 0,t.reconnectInProgress=!1;case 4:case"end":return e.stop()}}),e)}))),(0,$.toMiliseconds)(.1))));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"toEstablishConnection",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.confirmOnlineStateOrThrow();case 2:if(e.t0=!this.connected,!e.t0){e.next=6;break}return e.next=6,this.connect();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(Ch);function gb(){}function wb(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function mb(e){return Object.getOwnPropertySymbols(e).filter((function(t){return Object.prototype.propertyIsEnumerable.call(e,t)}))}function bb(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var yb="[object Arguments]",xb="[object Object]";function kb(e,t,n,r,i,o,a){var s=a(e,t,n,r,i,o);if(void 0!==s)return s;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return Zb(e,t,o,a)}return Zb(e,t,o,a)}function Zb(e,t,n,r){var i;if(Object.is(e,t))return!0;var o=bb(e),a=bb(t);if(o===yb&&(o=xb),a===yb&&(a=xb),o!==a)return!1;switch(o){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}var s=(n=null!==(i=n)&&void 0!==i?i:new Map).get(e),c=n.get(t);if(null!=s&&null!=c)return s===t;n.set(e,t),n.set(t,e);try{switch(o){case"[object Map]":if(e.size!==t.size)return!1;var u,l=(0,R.Z)(e.entries());try{for(l.s();!(u=l.n()).done;){var d=(0,S.Z)(u.value,2),f=d[0],p=d[1];if(!t.has(f)||!kb(p,t.get(f),f,e,t,n,r))return!1}}catch(E){l.e(E)}finally{l.f()}return!0;case"[object Set]":if(e.size!==t.size)return!1;for(var h=Array.from(e.values()),v=Array.from(t.values()),g=function(i){var o=h[i],a=v.findIndex((function(i){return kb(o,i,void 0,e,t,n,r)}));if(-1===a)return{v:!1};v.splice(a,1)},w=0;w<h.length;w++){var m=g(w);if("object"===typeof m)return m.v}return!0;case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(var b=0;b<e.length;b++)if(!kb(e[b],t[b],b,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&Zb(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&Zb(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case xb:if(!(Zb(e.constructor,t.constructor,n,r)||wb(e)&&wb(t)))return!1;var y=[].concat((0,N.Z)(Object.keys(e)),(0,N.Z)(mb(e))),x=[].concat((0,N.Z)(Object.keys(t)),(0,N.Z)(mb(t)));if(y.length!==x.length)return!1;for(var k=0;k<y.length;k++){var Z=y[k],C=e[Z];if(!Object.hasOwn(t,Z))return!1;if(!kb(C,t[Z],Z,e,t,n,r))return!1}return!0;default:return!1}}finally{n.delete(e),n.delete(t)}}function Cb(e,t){return function(e,t,n){return kb(e,t,void 0,void 0,void 0,void 0,n)}(e,t,gb)}var Eb=Object.defineProperty,Ib=Object.getOwnPropertySymbols,Sb=Object.prototype.hasOwnProperty,Ab=Object.prototype.propertyIsEnumerable,Pb=function(e,t,n){return t in e?Eb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ob=function(e,t){for(var n in t||(t={}))Sb.call(t,n)&&Pb(e,n,t[n]);if(Ib){var r,i=(0,R.Z)(Ib(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Ab.call(t,n)&&Pb(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},_b=function(e,t,n){return Pb(e,"symbol"!=typeof t?t+"":t,n)},Nb=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:lv,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return(0,O.Z)(this,n),(o=t.call(this,e,r,i,a)).core=e,o.logger=r,o.name=i,_b((0,x.Z)(o),"map",new Map),_b((0,x.Z)(o),"version","0.3"),_b((0,x.Z)(o),"cached",[]),_b((0,x.Z)(o),"initialized",!1),_b((0,x.Z)(o),"getKey"),_b((0,x.Z)(o),"storagePrefix",lv),_b((0,x.Z)(o),"recentlyDeleted",[]),_b((0,x.Z)(o),"recentlyDeletedLimit",200),_b((0,x.Z)(o),"init",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o.initialized,e.t0){e.next=8;break}return o.logger.trace("Initialized"),e.next=5,o.restore();case 5:o.cached.forEach((function(e){o.getKey&&null!==e&&!kf(e)?o.map.set(o.getKey(e),e):If(e)?o.map.set(e.id,e):Sf(e)&&o.map.set(e.topic,e)})),o.cached=[],o.initialized=!0;case 8:case"end":return e.stop()}}),e)})))),_b((0,x.Z)(o),"set",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isInitialized(),!o.map.has(t)){e.next=6;break}return e.next=4,o.update(t,n);case 4:e.next=11;break;case 6:return o.logger.debug("Setting value"),o.logger.trace({type:"method",method:"set",key:t,value:n}),o.map.set(t,n),e.next=11,o.persist();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_b((0,x.Z)(o),"get",(function(e){return o.isInitialized(),o.logger.debug("Getting value"),o.logger.trace({type:"method",method:"get",key:e}),o.getData(e)})),_b((0,x.Z)(o),"getAll",(function(e){return o.isInitialized(),e?o.values.filter((function(t){return Object.keys(e).every((function(n){return Cb(t[n],e[n])}))})):o.values})),_b((0,x.Z)(o),"update",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.isInitialized(),o.logger.debug("Updating value"),o.logger.trace({type:"method",method:"update",key:t,update:n}),r=Ob(Ob({},o.getData(t)),n),o.map.set(t,r),e.next=5,o.persist();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_b((0,x.Z)(o),"delete",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isInitialized(),e.t0=o.map.has(t),!e.t0){e.next=9;break}return o.logger.debug("Deleting value"),o.logger.trace({type:"method",method:"delete",key:t,reason:n}),o.map.delete(t),o.addToRecentlyDeleted(t),e.next=9,o.persist();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),o.logger=ph(r,o.name),o.storagePrefix=a,o.getKey=s,o}return(0,_.Z)(n,[{key:"context",get:function(){return dh(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"length",get:function(){return this.map.size}},{key:"keys",get:function(){return Array.from(this.map.keys())}},{key:"values",get:function(){return Array.from(this.map.values())}},{key:"addToRecentlyDeleted",value:function(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}},{key:"setDataStore",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDataStore",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(e){var t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){var n=mf("MISSING_OR_INVALID","Record was recently deleted - ".concat(this.name,": ").concat(e)).message;throw this.logger.error(n),new Error(n)}var r=mf("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.error(r),new Error(r)}return t}},{key:"persist",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setDataStore(this.values);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restore",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDataStore();case 3:if(!(typeof(t=e.sent)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.map.size){e.next=9;break}throw n=mf("RESTORE_WILL_OVERRIDE",this.name),r=n.message,this.logger.error(r),new Error(r);case 9:this.cached=t,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),n}(Eh),Tb=Object.defineProperty,Rb=function(e,t,n){return function(e,t,n){return t in e?Tb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},Lb=function(){function e(t,n){var r=this;(0,O.Z)(this,e),this.core=t,this.logger=n,Rb(this,"name","pairing"),Rb(this,"version","0.3"),Rb(this,"events",new(B())),Rb(this,"pairings"),Rb(this,"initialized",!1),Rb(this,"storagePrefix",lv),Rb(this,"ignoredPayloadTypes",[1]),Rb(this,"registeredMethods",[]),Rb(this,"init",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.initialized,e.t0){e.next=10;break}return e.next=4,r.pairings.init();case 4:return e.next=6,r.cleanup();case 6:r.registerRelayerEvents(),r.registerExpirerEvents(),r.initialized=!0,r.logger.trace("Initialized");case 10:case"end":return e.stop()}}),e)})))),Rb(this,"register",(function(e){var t=e.methods;r.isInitialized(),r.registeredMethods=(0,N.Z)(new Set([].concat((0,N.Z)(r.registeredMethods),(0,N.Z)(t))))})),Rb(this,"create",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),n=Dd(),e.next=4,r.core.crypto.setSymKey(n);case 4:return i=e.sent,o=Ss($.FIVE_MINUTES),s={topic:i,expiry:o,relay:a={protocol:"irn"},active:!1,methods:null===t||void 0===t?void 0:t.methods},c=lf({protocol:r.core.protocol,version:r.core.version,topic:i,symKey:n,relay:a,expiryTimestamp:o,methods:null===t||void 0===t?void 0:t.methods}),r.events.emit(jv,s),r.core.expirer.set(i,o),e.next=13,r.pairings.set(i,s);case 13:return e.next=15,r.core.relayer.subscribe(i,{transportType:null===t||void 0===t?void 0:t.transportType});case 15:return e.abrupt("return",{topic:i,uri:c});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"pair",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i,o,a,s,c,u,l,d,f;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isInitialized(),n=r.core.eventClient.createEvent({properties:{topic:null===t||void 0===t?void 0:t.uri,trace:[tg]}}),r.isValidPair(t,n),i=cf(t.uri),o=i.topic,a=i.symKey,s=i.relay,c=i.expiryTimestamp,u=i.methods,n.props.properties.topic=o,n.addTrace(ng),n.addTrace(rg),!r.pairings.keys.includes(o)){e.next=9;break}if(l=r.pairings.get(o),n.addTrace(sg),!l.active){e.next=8;break}throw n.setError(pg),new Error("Pairing already exists: ".concat(o,". Please try again with a new connection URI."));case 8:n.addTrace(cg);case 9:return d=c||Ss($.FIVE_MINUTES),f={topic:o,relay:s,expiry:d,active:!1,methods:u},r.core.expirer.set(o,d),e.next=13,r.pairings.set(o,f);case 13:if(n.addTrace(ig),e.t0=t.activatePairing,!e.t0){e.next=18;break}return e.next=18,r.activate({topic:o});case 18:if(r.events.emit(jv,f),n.addTrace(ug),e.t1=r.core.crypto.keychain.has(o),e.t1){e.next=24;break}return e.next=24,r.core.crypto.setSymKey(a,o);case 24:return n.addTrace(og),e.prev=25,e.next=28,r.core.relayer.confirmOnlineStateOrThrow();case 28:e.next=33;break;case 30:e.prev=30,e.t2=e.catch(25),n.setError(dg);case 33:return e.prev=33,e.next=36,r.core.relayer.subscribe(o,{relay:s});case 36:e.next=41;break;case 38:throw e.prev=38,e.t3=e.catch(33),n.setError(hg),e.t3;case 41:return e.abrupt("return",(n.addTrace(ag),f));case 42:case"end":return e.stop()}}),e,null,[[25,30],[33,38]])})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"activate",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topic,r.isInitialized(),i=Ss($.FIVE_MINUTES),r.core.expirer.set(n,i),e.next=6,r.pairings.update(n,{active:!0,expiry:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"ping",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),e.next=3,r.isValidPing(t);case 3:if(r.logger.warn("ping() is deprecated and will be removed in the next major release."),n=t.topic,!r.pairings.keys.includes(n)){e.next=16;break}return e.next=8,r.sendRequest(n,"wc_pairingPing",{});case 8:return i=e.sent,o=Zs(),a=o.done,s=o.resolve,c=o.reject,r.events.once(Ps("pairing_ping",i),(function(e){var t=e.error;t?c(t):s()})),e.next=16,a();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"updateExpiry",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topic,i=t.expiry,r.isInitialized(),e.next=4,r.pairings.update(n,{expiry:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"updateMetadata",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topic,i=t.metadata,r.isInitialized(),e.next=4,r.pairings.update(n,{peerMetadata:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"getPairings",(function(){return r.isInitialized(),r.pairings.values})),Rb(this,"disconnect",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),e.next=3,r.isValidDisconnect(t);case 3:if(n=t.topic,e.t0=r.pairings.keys.includes(n),!e.t0){e.next=10;break}return e.next=8,r.sendRequest(n,"wc_pairingDelete",bf("USER_DISCONNECTED"));case 8:return e.next=10,r.deletePairing(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"formatUriFromPairing",(function(e){r.isInitialized();var t=e.topic,n=e.relay,i=e.expiry,o=e.methods,a=r.core.crypto.keychain.get(t);return lf({protocol:r.core.protocol,version:r.core.version,topic:t,symKey:a,relay:n,expiryTimestamp:i,methods:o})})),Rb(this,"sendRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,i){var o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=qh(n,i),e.next=3,r.core.crypto.encode(t,o);case 3:return a=e.sent,s=Mv[n].req,e.abrupt("return",(r.core.history.set(t,o),r.core.relayer.publish(t,a,s),o.id));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),Rb(this,"sendResult",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,i){var o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Hh(t,i),e.next=3,r.core.crypto.encode(n,o);case 3:return a=e.sent,e.next=6,r.core.history.get(n,t);case 6:return s=e.sent.request.method,c=Mv[s].res,e.next=10,r.core.relayer.publish(n,a,c);case 10:return e.next=12,r.core.history.resolve(o);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),Rb(this,"sendError",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,i){var o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Wh(t,i),e.next=3,r.core.crypto.encode(n,o);case 3:return a=e.sent,e.next=6,r.core.history.get(n,t);case 6:return s=e.sent.request.method,c=Mv[s]?Mv[s].res:Mv.unregistered_method.res,e.next=10,r.core.relayer.publish(n,a,c);case 10:return e.next=12,r.core.history.resolve(o);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),Rb(this,"deletePairing",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.core.relayer.unsubscribe(t);case 2:return e.next=4,Promise.all([r.pairings.delete(t,bf("USER_DISCONNECTED")),r.core.crypto.deleteSymKey(t),n?Promise.resolve():r.core.expirer.del(t)]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Rb(this,"cleanup",(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.pairings.getAll().filter((function(e){return As(e.expiry)})),e.next=3,Promise.all(t.map((function(e){return r.deletePairing(e.topic)})));case 3:case"end":return e.stop()}}),e)})))),Rb(this,"onRelayEventRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.topic,i=t.payload,e.t0=i.method,e.next="wc_pairingPing"===e.t0?4:"wc_pairingDelete"===e.t0?7:10;break;case 4:return e.next=6,r.onPairingPingRequest(n,i);case 6:case 9:case 12:return e.abrupt("return",e.sent);case 7:return e.next=9,r.onPairingDeleteRequest(n,i);case 10:return e.next=12,r.onUnknownRpcMethodRequest(n,i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"onRelayEventResponse",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topic,i=t.payload,e.next=4,r.core.history.get(n,i.id);case 4:o=e.sent.request.method,e.t0=o,e.next="wc_pairingPing"===e.t0?8:9;break;case 8:return e.abrupt("return",r.onPairingPingResponse(n,i));case 9:return e.abrupt("return",r.onUnknownRpcMethodResponse(o));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"onPairingPingRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.id,e.prev=1,r.isValidPing({topic:t}),e.next=5,r.sendResult(i,t,!0);case 5:r.events.emit(qv,{id:i,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,r.sendError(i,t,e.t0);case 12:r.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Rb(this,"onPairingPingResponse",(function(e,t){var n=t.id;setTimeout((function(){nv(t)?r.events.emit(Ps("pairing_ping",n),{}):rv(t)&&r.events.emit(Ps("pairing_ping",n),{error:t.error})}),500)})),Rb(this,"onPairingDeleteRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.id,e.prev=1,r.isValidDisconnect({topic:t}),e.next=5,r.deletePairing(t);case 5:r.events.emit(zv,{id:i,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,r.sendError(i,t,e.t0);case 12:r.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Rb(this,"onUnknownRpcMethodRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.id,o=n.method,e.prev=1,!r.registeredMethods.includes(o)){e.next=4;break}return e.abrupt("return");case 4:return a=bf("WC_METHOD_UNSUPPORTED",o),e.next=7,r.sendError(i,t,a);case 7:r.logger.error(a),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,r.sendError(i,t,e.t0);case 14:r.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),Rb(this,"onUnknownRpcMethodResponse",(function(e){r.registeredMethods.includes(e)||r.logger.error(bf("WC_METHOD_UNSUPPORTED",e))})),Rb(this,"isValidPair",(function(e,t){var n;if(!Bf(e)){var r=mf("MISSING_OR_INVALID","pair() params: ".concat(e)).message;throw t.setError(fg),new Error(r)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch(t){return!1}}try{if(Zf(e,!1))return!!t(e)||t(Ds(e))}catch(n){}return!1}(e.uri)){var i=mf("MISSING_OR_INVALID","pair() uri: ".concat(e.uri)).message;throw t.setError(fg),new Error(i)}var o=cf(null===e||void 0===e?void 0:e.uri);if(null==(n=null===o||void 0===o?void 0:o.relay)||!n.protocol){var a=mf("MISSING_OR_INVALID","pair() uri#relay-protocol").message;throw t.setError(fg),new Error(a)}if(null==o||!o.symKey){var s=mf("MISSING_OR_INVALID","pair() uri#symKey").message;throw t.setError(fg),new Error(s)}if(null!=o&&o.expiryTimestamp&&(0,$.toMiliseconds)(null===o||void 0===o?void 0:o.expiryTimestamp)<Date.now()){t.setError(vg);var c=mf("EXPIRED","pair() URI has expired. Please try again with a new connection URI.").message;throw new Error(c)}})),Rb(this,"isValidPing",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","ping() params: ".concat(t)),i=n.message,new Error(i);case 3:return o=t.topic,e.next=6,r.isValidPairingTopic(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"isValidDisconnect",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","disconnect() params: ".concat(t)),i=n.message,new Error(i);case 3:return o=t.topic,e.next=6,r.isValidPairingTopic(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rb(this,"isValidPairingTopic",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zf(t,!1)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","pairing topic should be a string: ".concat(t)),i=n.message,new Error(i);case 3:if(r.pairings.keys.includes(t)){e.next=6;break}throw o=mf("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(t)),a=o.message,new Error(a);case 6:if(!As(r.pairings.get(t).expiry)){e.next=11;break}return e.next=9,r.deletePairing(t);case 9:throw s=mf("EXPIRED","pairing topic: ".concat(t)),c=s.message,new Error(c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.core=t,this.logger=ph(n,this.name),this.pairings=new Nb(this.core,this.logger,this.name,this.storagePrefix)}return(0,_.Z)(e,[{key:"context",get:function(){return dh(this.logger)}},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"registerRelayerEvents",value:function(){var e=this;this.core.relayer.on(wv,function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.topic,i=n.message,o=n.transportType,!e.pairings.keys.includes(r)||o===Pv||e.ignoredPayloadTypes.includes(e.core.crypto.getPayloadType(i))){t.next=26;break}return t.prev=2,t.next=5,e.core.crypto.decode(r,i);case 5:if(!ev(a=t.sent)){t.next=12;break}return e.core.history.set(r,a),t.next=10,e.onRelayEventRequest({topic:r,payload:a});case 10:t.next=19;break;case 12:if(t.t0=tv(a),!t.t0){t.next=19;break}return t.next=16,e.core.history.resolve(a);case 16:return t.next=18,e.onRelayEventResponse({topic:r,payload:a});case 18:e.core.history.delete(r,a.id);case 19:return t.next=21,e.core.relayer.messages.ack(r,i);case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(2),e.logger.error(t.t1);case 26:case"end":return t.stop()}}),t,null,[[2,23]])})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var e=this;this.core.expirer.on($v,function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Is(n.target),i=r.topic,t.t0=i&&e.pairings.keys.includes(i),!t.t0){t.next=6;break}return t.next=5,e.deletePairing(i,!0);case 5:e.events.emit(Dv,{topic:i});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),e}(),Bb=Object.defineProperty,Ub=function(e,t,n){return function(e,t,n){return t in e?Bb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},Mb=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r)).core=e,i.logger=r,Ub((0,x.Z)(i),"records",new Map),Ub((0,x.Z)(i),"events",new L.EventEmitter),Ub((0,x.Z)(i),"name","history"),Ub((0,x.Z)(i),"version","0.3"),Ub((0,x.Z)(i),"cached",[]),Ub((0,x.Z)(i),"initialized",!1),Ub((0,x.Z)(i),"storagePrefix",lv),Ub((0,x.Z)(i),"init",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.initialized,e.t0){e.next=9;break}return i.logger.trace("Initialized"),e.next=5,i.restore();case 5:i.cached.forEach((function(e){return i.records.set(e.id,e)})),i.cached=[],i.registerEventListeners(),i.initialized=!0;case 9:case"end":return e.stop()}}),e)})))),Ub((0,x.Z)(i),"set",(function(e,t,n){if(i.isInitialized(),i.logger.debug("Setting JSON-RPC request history record"),i.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),!i.records.has(t.id)){var r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:Ss($.THIRTY_DAYS)};i.records.set(r.id,r),i.persist(),i.events.emit(Hv,r)}})),Ub((0,x.Z)(i),"resolve",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),i.logger.debug("Updating JSON-RPC response history record"),i.logger.trace({type:"method",method:"update",response:t}),i.records.has(t.id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i.getRecord(t.id);case 4:typeof(n=e.sent).response>"u"&&(n.response=rv(t)?{error:t.error}:{result:t.result},i.records.set(n.id,n),i.persist(),i.events.emit(Wv,n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ub((0,x.Z)(i),"get",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),i.logger.debug("Getting record"),i.logger.trace({type:"method",method:"get",topic:t,id:n}),e.next=5,i.getRecord(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ub((0,x.Z)(i),"delete",(function(e,t){i.isInitialized(),i.logger.debug("Deleting record"),i.logger.trace({type:"method",method:"delete",id:t}),i.values.forEach((function(n){if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;i.records.delete(n.id),i.events.emit(Fv,n)}})),i.persist()})),Ub((0,x.Z)(i),"exists",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),!i.records.has(n)){e.next=9;break}return e.next=4,i.getRecord(n);case 4:e.t1=e.sent.topic,e.t2=t,e.t0=e.t1===e.t2,e.next=10;break;case 9:e.t0=!1;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ub((0,x.Z)(i),"on",(function(e,t){i.events.on(e,t)})),Ub((0,x.Z)(i),"once",(function(e,t){i.events.once(e,t)})),Ub((0,x.Z)(i),"off",(function(e,t){i.events.off(e,t)})),Ub((0,x.Z)(i),"removeListener",(function(e,t){i.events.removeListener(e,t)})),i.logger=ph(r,i.name),i}return(0,_.Z)(n,[{key:"context",get:function(){return dh(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"size",get:function(){return this.records.size}},{key:"keys",get:function(){return Array.from(this.records.keys())}},{key:"values",get:function(){return Array.from(this.records.values())}},{key:"pending",get:function(){var e=[];return this.values.forEach((function(t){if(!(typeof t.response<"u")){var n={topic:t.topic,request:qh(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}})),e}},{key:"setJsonRpcRecords",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJsonRpcRecords",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecord",value:function(e){this.isInitialized();var t=this.records.get(e);if(!t){var n=mf("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(n)}return t}},{key:"persist",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setJsonRpcRecords(this.values);case 2:this.events.emit(Vv);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restore",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getJsonRpcRecords();case 3:if(!(typeof(t=e.sent)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.records.size){e.next=9;break}throw n=mf("RESTORE_WILL_OVERRIDE",this.name),r=n.message,this.logger.error(r),new Error(r);case 9:this.cached=t,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"registerEventListeners",value:function(){var e=this;this.events.on(Hv,(function(t){var n=Hv;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,record:t})})),this.events.on(Wv,(function(t){var n=Wv;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,record:t})})),this.events.on(Fv,(function(t){var n=Fv;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,record:t})})),this.core.heartbeat.on(tp,(function(){e.cleanup()}))}},{key:"cleanup",value:function(){var e=this;try{this.isInitialized();var t=!1;this.records.forEach((function(n){(0,$.toMiliseconds)(n.expiry||0)-Date.now()<=0&&(e.logger.info("Deleting expired history log: ".concat(n.id)),e.records.delete(n.id),e.events.emit(Fv,n,!1),t=!0)})),t&&this.persist()}catch(t){this.logger.warn(t)}}},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),n}(xh),jb=Object.defineProperty,Db=function(e,t,n){return function(e,t,n){return t in e?jb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},zb=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r)).core=e,i.logger=r,Db((0,x.Z)(i),"expirations",new Map),Db((0,x.Z)(i),"events",new L.EventEmitter),Db((0,x.Z)(i),"name","expirer"),Db((0,x.Z)(i),"version","0.3"),Db((0,x.Z)(i),"cached",[]),Db((0,x.Z)(i),"initialized",!1),Db((0,x.Z)(i),"storagePrefix",lv),Db((0,x.Z)(i),"init",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.initialized,e.t0){e.next=9;break}return i.logger.trace("Initialized"),e.next=5,i.restore();case 5:i.cached.forEach((function(e){return i.expirations.set(e.target,e)})),i.cached=[],i.registerEventListeners(),i.initialized=!0;case 9:case"end":return e.stop()}}),e)})))),Db((0,x.Z)(i),"has",(function(e){try{var t=i.formatTarget(e);return typeof i.getExpiration(t)<"u"}catch(n){return!1}})),Db((0,x.Z)(i),"set",(function(e,t){i.isInitialized();var n=i.formatTarget(e),r={target:n,expiry:t};i.expirations.set(n,r),i.checkExpiry(n,r),i.events.emit(Kv,{target:n,expiration:r})})),Db((0,x.Z)(i),"get",(function(e){i.isInitialized();var t=i.formatTarget(e);return i.getExpiration(t)})),Db((0,x.Z)(i),"del",(function(e){if(i.isInitialized(),i.has(e)){var t=i.formatTarget(e),n=i.getExpiration(t);i.expirations.delete(t),i.events.emit(Gv,{target:t,expiration:n})}})),Db((0,x.Z)(i),"on",(function(e,t){i.events.on(e,t)})),Db((0,x.Z)(i),"once",(function(e,t){i.events.once(e,t)})),Db((0,x.Z)(i),"off",(function(e,t){i.events.off(e,t)})),Db((0,x.Z)(i),"removeListener",(function(e,t){i.events.removeListener(e,t)})),i.logger=ph(r,i.name),i}return(0,_.Z)(n,[{key:"context",get:function(){return dh(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"length",get:function(){return this.expirations.size}},{key:"keys",get:function(){return Array.from(this.expirations.keys())}},{key:"values",get:function(){return Array.from(this.expirations.values())}},{key:"formatTarget",value:function(e){if("string"==typeof e)return function(e){return Es("topic",e)}(e);if("number"==typeof e)return function(e){return Es("id",e)}(e);var t=mf("UNKNOWN_TYPE","Target type: ".concat(typeof e)).message;throw new Error(t)}},{key:"setExpirations",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getExpirations",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"persist",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setExpirations(this.values);case 2:this.events.emit(Yv);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restore",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getExpirations();case 3:if(!(typeof(t=e.sent)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.expirations.size){e.next=9;break}throw n=mf("RESTORE_WILL_OVERRIDE",this.name),r=n.message,this.logger.error(r),new Error(r);case 9:this.cached=t,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getExpiration",value:function(e){var t=this.expirations.get(e);if(!t){var n=mf("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.warn(n),new Error(n)}return t}},{key:"checkExpiry",value:function(e,t){var n=t.expiry;(0,$.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}},{key:"expire",value:function(e,t){this.expirations.delete(e),this.events.emit($v,{target:e,expiration:t})}},{key:"checkExpirations",value:function(){var e=this;this.core.relayer.connected&&this.expirations.forEach((function(t,n){return e.checkExpiry(n,t)}))}},{key:"registerEventListeners",value:function(){var e=this;this.core.heartbeat.on(tp,(function(){return e.checkExpirations()})),this.events.on(Kv,(function(t){var n=Kv;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,data:t}),e.persist()})),this.events.on($v,(function(t){var n=$v;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,data:t}),e.persist()})),this.events.on(Gv,(function(t){var n=Gv;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,data:t}),e.persist()}))}},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),n}(Sh),qb=Object.defineProperty,Hb=function(e,t,n){return function(e,t,n){return t in e?qb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},Wb=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r,i){var o;return(0,O.Z)(this,n),(o=t.call(this,e,r,i)).core=e,o.logger=r,o.store=i,Hb((0,x.Z)(o),"name","verify-api"),Hb((0,x.Z)(o),"abortController"),Hb((0,x.Z)(o),"isDevEnv"),Hb((0,x.Z)(o),"verifyUrlV3",Qv),Hb((0,x.Z)(o),"storagePrefix",lv),Hb((0,x.Z)(o),"version",2),Hb((0,x.Z)(o),"publicKey"),Hb((0,x.Z)(o),"fetchPromise"),Hb((0,x.Z)(o),"init",(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o.isDevEnv,e.t0){e.next=10;break}return e.next=4,o.store.getItem(o.storeKey);case 4:if(o.publicKey=e.sent,e.t1=o.publicKey&&(0,$.toMiliseconds)(null==(t=o.publicKey)?void 0:t.expiresAt)<Date.now(),!e.t1){e.next=10;break}return o.logger.debug("verify v2 public key expired"),e.next=10,o.removePublicKey();case 10:case"end":return e.stop()}}),e)})))),Hb((0,x.Z)(o),"register",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,a,s,c,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ps()&&!o.isDevEnv){e.next=2;break}return e.abrupt("return");case 2:return n=window.location.origin,r=t.id,i=t.decryptedId,a="".concat(o.verifyUrlV3,"/attestation?projectId=").concat(o.core.projectId,"&origin=").concat(n,"&id=").concat(r,"&decryptedId=").concat(i),e.prev=3,s=(0,Y.getDocument)(),c=o.startAbortTimer(5*$.ONE_SECOND),e.next=8,new Promise((function(e,t){var n=function(){window.removeEventListener("message",u),s.body.removeChild(i),t("attestation aborted")};o.abortController.signal.addEventListener("abort",n);var i=s.createElement("iframe");i.src=a,i.style.display="none",i.addEventListener("error",n,{signal:o.abortController.signal});var u=function t(a){if(a.data&&"string"==typeof a.data)try{var u=JSON.parse(a.data);if("verify_attestation"===u.type){if(ro(u.attestation).payload.id!==r)return;clearInterval(c),s.body.removeChild(i),o.abortController.signal.removeEventListener("abort",n),window.removeEventListener("message",t),e(null===u.attestation?"":u.attestation)}}catch(u){o.logger.warn(u)}};s.body.appendChild(i),window.addEventListener("message",u,{signal:o.abortController.signal})}));case 8:return u=e.sent,e.abrupt("return",(o.logger.debug("jwt attestation",u),u));case 12:e.prev=12,e.t0=e.catch(3),o.logger.warn(e.t0);case 15:return e.abrupt("return","");case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()),Hb((0,x.Z)(o),"resolve",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.isDevEnv){e.next=2;break}return e.abrupt("return","");case 2:if(n=t.attestationId,r=t.hash,i=t.encryptedId,""!==n){e.next=6;break}return o.logger.debug("resolve: attestationId is empty, skipping"),e.abrupt("return");case 6:if(!n){e.next=17;break}if(ro(n).payload.id===i){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,o.isValidJwtAttestation(n);case 11:if(!(a=e.sent)){e.next=17;break}if(a.isVerified){e.next=16;break}return o.logger.warn("resolve: jwt attestation: origin url not verified"),e.abrupt("return");case 16:return e.abrupt("return",a);case 17:if(r){e.next=19;break}return e.abrupt("return");case 19:return s=o.getVerifyUrl(null===t||void 0===t?void 0:t.verifyUrl),e.abrupt("return",o.fetchAttestation(r,s));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Hb((0,x.Z)(o),"fetchAttestation",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.logger.debug("resolving attestation: ".concat(t," from url: ").concat(n)),r=o.startAbortTimer(5*$.ONE_SECOND),e.next=4,fetch("".concat(n,"/attestation/").concat(t,"?v2Supported=true"),{signal:o.abortController.signal});case 4:if(i=e.sent,clearTimeout(r),200!==i.status){e.next=12;break}return e.next=9,i.json();case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=void 0;case 13:return e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Hb((0,x.Z)(o),"getVerifyUrl",(function(e){var t=e||Xv;return eg.includes(t)||(o.logger.info("verify url: ".concat(t,", not included in trusted list, assigning default: ").concat(Xv)),t=Xv),t})),Hb((0,x.Z)(o),"fetchPublicKey",(0,P.Z)((0,A.Z)().mark((function e(){var t,n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o.logger.debug("fetching public key from: ".concat(o.verifyUrlV3)),t=o.startAbortTimer($.FIVE_SECONDS),e.next=5,fetch("".concat(o.verifyUrlV3,"/public-key"),{signal:o.abortController.signal});case 5:return n=e.sent,clearTimeout(t),e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),o.logger.warn(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))),Hb((0,x.Z)(o),"persistPublicKey",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.logger.debug("persisting public key to local storage",t),e.next=3,o.store.setItem(o.storeKey,t);case 3:o.publicKey=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Hb((0,x.Z)(o),"removePublicKey",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.logger.debug("removing verify v2 public key from storage"),e.next=3,o.store.removeItem(o.storeKey);case 3:o.publicKey=void 0;case 4:case"end":return e.stop()}}),e)})))),Hb((0,x.Z)(o),"isValidJwtAttestation",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getPublicKey();case 2:if(n=e.sent,e.prev=3,!n){e.next=6;break}return e.abrupt("return",o.validateAttestation(t,n));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),o.logger.error(e.t0),o.logger.warn("error validating attestation");case 11:return e.next=13,o.fetchAndPersistPublicKey();case 13:if(r=e.sent,e.prev=14,!r){e.next=17;break}return e.abrupt("return",o.validateAttestation(t,r));case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(14),o.logger.error(e.t1),o.logger.warn("error validating attestation");case 22:case"end":return e.stop()}}),e,null,[[3,8],[14,19]])})));return function(t){return e.apply(this,arguments)}}()),Hb((0,x.Z)(o),"getPublicKey",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.publicKey){e.next=4;break}e.t0=o.publicKey,e.next=7;break;case 4:return e.next=6,o.fetchAndPersistPublicKey();case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})))),Hb((0,x.Z)(o),"fetchAndPersistPublicKey",(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.fetchPromise){e.next=4;break}return e.next=3,o.fetchPromise;case 3:return e.abrupt("return",o.publicKey);case 4:return o.fetchPromise=new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchPublicKey();case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=8;break}return e.next=7,o.persistPublicKey(n);case 7:t(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=7,o.fetchPromise;case 7:return t=e.sent,e.abrupt("return",(o.fetchPromise=void 0,t));case 9:case"end":return e.stop()}}),e)})))),Hb((0,x.Z)(o),"validateAttestation",(function(e,t){var n=rf(e,t.publicKey),r={hasExpired:(0,$.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw o.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}})),o.logger=ph(r,o.name),o.abortController=new AbortController,o.isDevEnv=js(),o.init(),o}return(0,_.Z)(n,[{key:"storeKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}},{key:"context",get:function(){return dh(this.logger)}},{key:"startAbortTimer",value:function(e){var t=this;return this.abortController=new AbortController,setTimeout((function(){return t.abortController.abort()}),(0,$.toMiliseconds)(e))}}]),n}(Ah),Fb=Object.defineProperty,Vb=function(e,t,n){return function(e,t,n){return t in e?Fb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},Kb=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r)).projectId=e,i.logger=r,Vb((0,x.Z)(i),"context","echo"),Vb((0,x.Z)(i),"registerDeviceToken",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,r=t.token,o=t.notificationType,a=t.enableEncrypted,s=void 0!==a&&a,c="".concat("https://echo.walletconnect.com","/").concat(i.projectId,"/clients"),e.next=3,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,type:o,token:r,always_raw:s})});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.logger=ph(r,i.context),i}return(0,_.Z)(n)}(Ph),Gb=Object.defineProperty,$b=Object.getOwnPropertySymbols,Yb=Object.prototype.hasOwnProperty,Jb=Object.prototype.propertyIsEnumerable,Xb=function(e,t,n){return t in e?Gb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Qb=function(e,t){for(var n in t||(t={}))Yb.call(t,n)&&Xb(e,n,t[n]);if($b){var r,i=(0,R.Z)($b(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Jb.call(t,n)&&Xb(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},ey=function(e,t,n){return Xb(e,"symbol"!=typeof t?t+"":t,n)},ty=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,O.Z)(this,n),(i=t.call(this,e,r,o)).core=e,i.logger=r,ey((0,x.Z)(i),"context",Fg),ey((0,x.Z)(i),"storagePrefix",lv),ey((0,x.Z)(i),"storageVersion",.1),ey((0,x.Z)(i),"events",new Map),ey((0,x.Z)(i),"shouldPersist",!1),ey((0,x.Z)(i),"init",(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(js()){e.next=19;break}return e.prev=1,e.t0=Ms(),e.t1=Date.now(),e.t2=i.getAppDomain(),e.next=7,i.core.crypto.getClientId();case 7:return e.t3=e.sent,e.t4=ms(i.core.relayer.protocol,i.core.relayer.version,Av),e.t5={client_id:e.t3,user_agent:e.t4},e.t6={event:"INIT",type:"",properties:e.t5},t={eventId:e.t0,timestamp:e.t1,domain:e.t2,props:e.t6},e.next=14,i.sendEvent([t]);case 14:e.next=19;break;case 16:e.prev=16,e.t7=e.catch(1),i.logger.warn(e.t7);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))),ey((0,x.Z)(i),"createEvent",(function(e){var t=e.event,n=void 0===t?"ERROR":t,r=e.type,o=void 0===r?"":r,a=e.properties,s=a.topic,c=a.trace,u=Ms(),l=i.core.projectId||"",d=Date.now(),f=Qb({eventId:u,timestamp:d,props:{event:n,type:o,properties:{topic:s,trace:c}},bundleId:l,domain:i.getAppDomain()},i.setMethods(u));return i.telemetryEnabled&&(i.events.set(u,f),i.shouldPersist=!0),f})),ey((0,x.Z)(i),"getEvent",(function(e){var t=e.eventId,n=e.topic;if(t)return i.events.get(t);var r=Array.from(i.events.values()).find((function(e){return e.props.properties.topic===n}));return r?Qb(Qb({},r),i.setMethods(r.eventId)):void 0})),ey((0,x.Z)(i),"deleteEvent",(function(e){var t=e.eventId;i.events.delete(t),i.shouldPersist=!0})),ey((0,x.Z)(i),"setEventListeners",(function(){i.core.heartbeat.on(tp,(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.shouldPersist,!e.t0){e.next=4;break}return e.next=4,i.persist();case 4:i.events.forEach((function(e){(0,$.fromMiliseconds)(Date.now())-(0,$.fromMiliseconds)(e.timestamp)>86400&&(i.events.delete(e.eventId),i.shouldPersist=!0)}));case 5:case"end":return e.stop()}}),e)}))))})),ey((0,x.Z)(i),"setMethods",(function(e){return{addTrace:function(t){return i.addTrace(e,t)},setError:function(t){return i.setError(e,t)}}})),ey((0,x.Z)(i),"addTrace",(function(e,t){var n=i.events.get(e);n&&(n.props.properties.trace.push(t),i.events.set(e,n),i.shouldPersist=!0)})),ey((0,x.Z)(i),"setError",(function(e,t){var n=i.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),i.events.set(e,n),i.shouldPersist=!0)})),ey((0,x.Z)(i),"persist",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.core.storage.setItem(i.storageKey,Array.from(i.events.values()));case 2:i.shouldPersist=!1;case 3:case"end":return e.stop()}}),e)})))),ey((0,x.Z)(i),"restore",(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.core.storage.getItem(i.storageKey);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:if((t=e.t0).length){e.next=9;break}return e.abrupt("return");case 9:t.forEach((function(e){i.events.set(e.eventId,Qb(Qb({},e),i.setMethods(e.eventId)))})),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),i.logger.warn(e.t1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))),ey((0,x.Z)(i),"submit",(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,o,a,s,c,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.telemetryEnabled&&0!==i.events.size){e.next=2;break}return e.abrupt("return");case 2:t=[],n=(0,R.Z)(i.events);try{for(n.s();!(r=n.n()).done;)o=(0,S.Z)(r.value,2),o[0],(a=o[1]).props.type&&t.push(a)}catch(l){n.e(l)}finally{n.f()}if(0===t.length){e.next=17;break}return e.prev=6,e.next=9,i.sendEvent(t);case 9:if(!e.sent.ok){e.next=12;break}s=(0,R.Z)(t);try{for(s.s();!(c=s.n()).done;)u=c.value,i.events.delete(u.eventId),i.shouldPersist=!0}catch(l){s.e(l)}finally{s.f()}case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),i.logger.warn(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))),ey((0,x.Z)(i),"sendEvent",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.getAppDomain()?"":"&sp=desktop",e.next=3,fetch("".concat(Vg,"?projectId=").concat(i.core.projectId,"&st=events_sdk&sv=js-").concat(Av).concat(n),{method:"POST",body:JSON.stringify(t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ey((0,x.Z)(i),"getAppDomain",(function(){return ws().url})),i.logger=ph(r,i.context),i.telemetryEnabled=o,o?i.restore().then((0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.submit();case 2:i.setEventListeners();case 3:case"end":return e.stop()}}),e)})))):i.persist(),i}return(0,_.Z)(n,[{key:"storageKey",get:function(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}]),n}(Oh),ny=Object.defineProperty,ry=Object.getOwnPropertySymbols,iy=Object.prototype.hasOwnProperty,oy=Object.prototype.propertyIsEnumerable,ay=function(e,t,n){return t in e?ny(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},sy=function(e,t){for(var n in t||(t={}))iy.call(t,n)&&ay(e,n,t[n]);if(ry){var r,i=(0,R.Z)(ry(t));try{for(i.s();!(r=i.n()).done;){n=r.value;oy.call(t,n)&&ay(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},cy=function(e,t,n){return ay(e,"symbol"!=typeof t?t+"":t,n)},uy=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i;(0,O.Z)(this,n),r=t.call(this,e),cy((0,x.Z)(r),"protocol","wc"),cy((0,x.Z)(r),"version",2),cy((0,x.Z)(r),"name",uv),cy((0,x.Z)(r),"relayUrl"),cy((0,x.Z)(r),"projectId"),cy((0,x.Z)(r),"customStoragePrefix"),cy((0,x.Z)(r),"events",new L.EventEmitter),cy((0,x.Z)(r),"logger"),cy((0,x.Z)(r),"heartbeat"),cy((0,x.Z)(r),"relayer"),cy((0,x.Z)(r),"crypto"),cy((0,x.Z)(r),"storage"),cy((0,x.Z)(r),"history"),cy((0,x.Z)(r),"expirer"),cy((0,x.Z)(r),"pairing"),cy((0,x.Z)(r),"verify"),cy((0,x.Z)(r),"echoClient"),cy((0,x.Z)(r),"linkModeSupportedApps"),cy((0,x.Z)(r),"eventClient"),cy((0,x.Z)(r),"initialized",!1),cy((0,x.Z)(r),"logChunkController"),cy((0,x.Z)(r),"on",(function(e,t){return r.events.on(e,t)})),cy((0,x.Z)(r),"once",(function(e,t){return r.events.once(e,t)})),cy((0,x.Z)(r),"off",(function(e,t){return r.events.off(e,t)})),cy((0,x.Z)(r),"removeListener",(function(e,t){return r.events.removeListener(e,t)})),cy((0,x.Z)(r),"dispatchEnvelope",(function(e){var t=e.topic,n=e.message,i=e.sessionExists;if(t&&n){var o={topic:t,message:n,publishedAt:Date.now(),transportType:Pv};r.relayer.onLinkMessageEvent(o,{sessionExists:i})}}));var o=r.getGlobalCore(null===e||void 0===e?void 0:e.customStoragePrefix);if(o)try{return(0,y.Z)(r,(r.customStoragePrefix=o.customStoragePrefix,r.logger=o.logger,r.heartbeat=o.heartbeat,r.crypto=o.crypto,r.history=o.history,r.expirer=o.expirer,r.storage=o.storage,r.relayer=o.relayer,r.pairing=o.pairing,r.verify=o.verify,r.echoClient=o.echoClient,r.linkModeSupportedApps=o.linkModeSupportedApps,r.eventClient=o.eventClient,r.initialized=o.initialized,r.logChunkController=o.logChunkController,o))}catch(u){console.warn("Failed to copy global core",u)}r.projectId=null===e||void 0===e?void 0:e.projectId,r.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||gv,r.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";var a=hh({opts:ch({level:"string"==typeof(null===e||void 0===e?void 0:e.logger)&&e.logger?e.logger:dv,name:uv}),maxSizeInBytes:null===e||void 0===e?void 0:e.maxLogBlobSizeInBytes,loggerOverride:null===e||void 0===e?void 0:e.logger}),s=a.logger,c=a.chunkLoggerController;return r.logChunkController=c,null!=(i=r.logChunkController)&&i.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=(0,P.Z)((0,A.Z)().mark((function e(){var t,n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null!=(t=r.logChunkController)&&t.downloadLogsBlobInBrowser,!e.t0){e.next=10;break}if(e.t1=null==(n=r.logChunkController),e.t1){e.next=10;break}return e.t2=n,e.next=7,r.crypto.getClientId();case 7:e.t3=e.sent,e.t4={clientId:e.t3},e.t2.downloadLogsBlobInBrowser.call(e.t2,e.t4);case 10:case"end":return e.stop()}}),e)})))),r.logger=ph(s,r.name),r.heartbeat=new np,r.crypto=new Em((0,x.Z)(r),r.logger,null===e||void 0===e?void 0:e.keychain),r.history=new Mb((0,x.Z)(r),r.logger),r.expirer=new zb((0,x.Z)(r),r.logger),r.storage=null!=e&&e.storage?e.storage:new qp(sy(sy({},fv),null===e||void 0===e?void 0:e.storageOptions)),r.relayer=new vb({core:(0,x.Z)(r),logger:r.logger,relayUrl:r.relayUrl,projectId:r.projectId}),r.pairing=new Lb((0,x.Z)(r),r.logger),r.verify=new Wb((0,x.Z)(r),r.logger,r.storage),r.echoClient=new Kb(r.projectId||"",r.logger),r.linkModeSupportedApps=[],r.eventClient=new ty((0,x.Z)(r),r.logger,null===e||void 0===e?void 0:e.telemetryEnabled),r.setGlobalCore((0,x.Z)(r)),r}return(0,_.Z)(n,[{key:"context",get:function(){return dh(this.logger)}},{key:"start",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.initialized,e.t0){e.next=4;break}return e.next=4,this.initialize();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLogsBlob",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.logChunkController)){e.next=4;break}e.t0=void 0,e.next=10;break;case 4:return e.t1=t,e.next=7,this.crypto.getClientId();case 7:e.t2=e.sent,e.t3={clientId:e.t2},e.t0=e.t1.logsToBlob.call(e.t1,e.t3);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addLinkModeSupportedApp",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.linkModeSupportedApps.includes(t),e.t0){e.next=5;break}return this.linkModeSupportedApps.push(t),e.next=5,this.storage.setItem(Tv,this.linkModeSupportedApps);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.crypto.init();case 4:return e.next=6,this.history.init();case 6:return e.next=8,this.expirer.init();case 8:return e.next=10,this.relayer.init();case 10:return e.next=12,this.heartbeat.init();case 12:return e.next=14,this.pairing.init();case 14:return e.next=16,this.storage.getItem(Tv);case 16:if(e.t0=e.sent,e.t0){e.next=19;break}e.t0=[];case 19:this.linkModeSupportedApps=e.t0,this.initialized=!0,this.logger.info("Core Initialization Success"),e.next=27;break;case 24:throw e.prev=24,e.t1=e.catch(1),this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),e.t1),this.logger.error(e.t1.message),e.t1;case 27:case"end":return e.stop()}}),e,this,[[1,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"getGlobalCore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if(this.isGlobalCoreDisabled())return;var t="_walletConnectCore_".concat(e),n="".concat(t,"_count");return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn("WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ".concat(globalThis[n]," times.")),globalThis[t]}catch(t){return void console.warn("Failed to get global WalletConnect core",t)}}},{key:"setGlobalCore",value:function(e){var t;try{if(this.isGlobalCoreDisabled())return;var n="_walletConnectCore_".concat((null==(t=e.opts)?void 0:t.customStoragePrefix)||"");globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}},{key:"isGlobalCoreDisabled",value:function(){try{return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/wallet-sign",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DISABLE_GLOBAL_CORE}catch(e){return!0}}}],[{key:"init",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var r,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new n(t),e.next=3,r.initialize();case 3:return e.next=5,r.crypto.getClientId();case 5:return i=e.sent,e.next=8,r.storage.setItem("WALLETCONNECT_CLIENT_ID",i);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(mh),ly=uy,dy=(Object.defineProperty,Object.defineProperty,Object.defineProperty,Object.defineProperty),fy=function(e,t,n){return function(e,t,n){return t in e?dy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},py=(B(),(0,_.Z)((function e(t){(0,O.Z)(this,e),this.opts=t,fy(this,"protocol","wc"),fy(this,"version",2)}))),hy=(L.EventEmitter,(0,_.Z)((function e(t){(0,O.Z)(this,e),this.client=t}))),vy="client",gy="".concat("wc","@").concat(2,":").concat(vy,":"),wy=vy,my="error",by="WALLETCONNECT_DEEPLINK_CHOICE",yy=($.THIRTY_DAYS,"Proposal expired"),xy=$.SEVEN_DAYS,ky={wc_sessionPropose:{req:{ttl:$.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:$.ONE_DAY,prompt:!1,tag:1104},res:{ttl:$.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:$.ONE_DAY,prompt:!1,tag:1106},res:{ttl:$.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:$.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:$.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:$.ONE_DAY,prompt:!1,tag:1112},res:{ttl:$.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:$.ONE_DAY,prompt:!1,tag:1114},res:{ttl:$.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:$.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:$.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:$.FIVE_MINUTES,prompt:!1,tag:1119}}},Zy={min:$.FIVE_MINUTES,max:$.SEVEN_DAYS},Cy="IDLE",Ey="ACTIVE",Iy={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Sy=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Ay="".concat("wc","@",1.5,":").concat("auth",":"),Py="".concat(Ay,":PUB_KEY"),Oy=Object.defineProperty,_y=Object.defineProperties,Ny=Object.getOwnPropertyDescriptors,Ty=Object.getOwnPropertySymbols,Ry=Object.prototype.hasOwnProperty,Ly=Object.prototype.propertyIsEnumerable,By=function(e,t,n){return t in e?Oy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Uy=function(e,t){for(var n in t||(t={}))Ry.call(t,n)&&By(e,n,t[n]);if(Ty){var r,i=(0,R.Z)(Ty(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Ly.call(t,n)&&By(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},My=function(e,t){return _y(e,Ny(t))},jy=function(e,t,n){return By(e,"symbol"!=typeof t?t+"":t,n)},Dy=function(e){(0,k.Z)(r,e);var t=(0,Z.Z)(r);function r(e){var i;return(0,O.Z)(this,r),i=t.call(this,e),jy((0,x.Z)(i),"name","engine"),jy((0,x.Z)(i),"events",new(B())),jy((0,x.Z)(i),"initialized",!1),jy((0,x.Z)(i),"requestQueue",{state:Cy,queue:[]}),jy((0,x.Z)(i),"sessionRequestQueue",{state:Cy,queue:[]}),jy((0,x.Z)(i),"requestQueueDelay",$.ONE_SECOND),jy((0,x.Z)(i),"expectedPairingMethodMap",new Map),jy((0,x.Z)(i),"recentlyDeletedMap",new Map),jy((0,x.Z)(i),"recentlyDeletedLimit",200),jy((0,x.Z)(i),"relayMessageCache",[]),jy((0,x.Z)(i),"pendingSessions",new Map),jy((0,x.Z)(i),"init",(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.initialized,e.t0){e.next=12;break}return e.next=4,i.cleanup();case 4:return i.registerRelayerEvents(),i.registerExpirerEvents(),i.registerPairingEvents(),e.next=9,i.registerLinkModeListeners();case 9:i.client.core.pairing.register({methods:Object.keys(ky)}),i.initialized=!0,setTimeout((0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.processPendingMessageEvents();case 2:i.sessionRequestQueue.queue=i.getPendingSessionRequests(),i.processSessionRequestQueue();case 4:case"end":return e.stop()}}),e)}))),(0,$.toMiliseconds)(i.requestQueueDelay));case 12:case"end":return e.stop()}}),e)})))),jy((0,x.Z)(i),"connect",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p,h,v,g,w,m,b,y,x,k,Z,C,E,I,S,P;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.confirmOnlineStateOrThrow();case 3:return n=My(Uy({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}}),e.next=6,i.isValidConnect(n);case 6:r=n.pairingTopic,o=n.requiredNamespaces,a=n.optionalNamespaces,s=n.sessionProperties,c=n.scopedProperties,u=n.relays,l=r,f=!1,e.prev=8,l&&(p=i.client.core.pairing.pairings.get(l),i.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=p.active),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(8),i.client.logger.error("connect() -> pairing.get(".concat(l,") failed")),e.t0;case 15:if(l&&f){e.next=22;break}return e.next=18,i.client.core.pairing.create();case 18:h=e.sent,v=h.topic,g=h.uri,l=v,d=g;case 22:if(l){e.next=25;break}throw w=mf("NO_MATCHING_KEY","connect() pairing topic: ".concat(l)),m=w.message,new Error(m);case 25:return e.next=27,i.client.core.crypto.generateKeyPair();case 27:return b=e.sent,y=ky.wc_sessionPropose.req.ttl||$.FIVE_MINUTES,x=Ss(y),k=My(Uy(Uy({requiredNamespaces:o,optionalNamespaces:a,relays:null!==u&&void 0!==u?u:[{protocol:"irn"}],proposer:{publicKey:b,metadata:i.client.metadata},expiryTimestamp:x,pairingTopic:l},s&&{sessionProperties:s}),c&&{scopedProperties:c}),{id:Dh()}),Z=Ps("session_connect",k.id),C=Zs(y,yy),E=C.reject,I=C.resolve,S=C.done,P=function e(t){t.id===k.id&&(i.client.events.off("proposal_expire",e),i.pendingSessions.delete(k.id),i.events.emit(Z,{error:{message:yy,code:0}}))},i.client.events.on("proposal_expire",P),i.events.once(Z,(function(e){var t=e.error,n=e.session;i.client.events.off("proposal_expire",P),t?E(t):n&&I(n)})),e.next=41,i.sendRequest({topic:l,method:"wc_sessionPropose",params:k,throwOnFailedPublish:!0,clientRpcId:k.id});case 41:return e.next=43,i.setProposal(k.id,k);case 43:return e.abrupt("return",{uri:d,approval:S});case 44:case"end":return e.stop()}}),e,null,[[8,12]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"pair",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.confirmOnlineStateOrThrow();case 3:return e.prev=3,e.next=6,i.client.core.pairing.pair(t);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(3),i.client.logger.error("pair() failed"),e.t0;case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"approve",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p,h,v,g,w,m,b,y,x,k,Z,C;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.client.core.eventClient.createEvent({properties:{topic:null==(n=null===t||void 0===t?void 0:t.id)?void 0:n.toString(),trace:[wg]}}),e.prev=1,i.isInitialized(),e.next=5,i.confirmOnlineStateOrThrow();case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),a.setError(Ig),e.t0;case 10:return e.prev=10,e.next=13,i.isValidProposalId(null===t||void 0===t?void 0:t.id);case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(10),i.client.logger.error("approve() -> proposal.get(".concat(null===t||void 0===t?void 0:t.id,") failed")),a.setError(Ng),e.t1;case 18:return e.prev=18,e.next=21,i.isValidApprove(t);case 21:e.next=26;break;case 23:throw e.prev=23,e.t2=e.catch(18),i.client.logger.error("approve() -> isValidApprove() failed"),a.setError(_g),e.t2;case 26:return s=t.id,c=t.relayProtocol,u=t.namespaces,l=t.sessionProperties,d=t.scopedProperties,f=t.sessionConfig,p=i.client.proposal.get(s),i.client.core.eventClient.deleteEvent({eventId:a.eventId}),h=p.pairingTopic,v=p.proposer,g=p.requiredNamespaces,w=p.optionalNamespaces,(m=null==(r=i.client.core.eventClient)?void 0:r.getEvent({topic:h}))||(m=null==(o=i.client.core.eventClient)?void 0:o.createEvent({type:wg,properties:{topic:h,trace:[wg,mg]}})),e.next=33,i.client.core.crypto.generateKeyPair();case 33:return b=e.sent,y=v.publicKey,e.next=37,i.client.core.crypto.generateSharedKey(b,y);case 37:return x=e.sent,k=Uy(Uy(Uy({relay:{protocol:null!==c&&void 0!==c?c:"irn"},namespaces:u,controller:{publicKey:b,metadata:i.client.metadata},expiry:Ss(xy)},l&&{sessionProperties:l}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),Z=Ov,m.addTrace(bg),e.prev=41,e.next=44,i.client.core.relayer.subscribe(x,{transportType:Z});case 44:e.next=49;break;case 46:throw e.prev=46,e.t3=e.catch(41),m.setError(Ag),e.t3;case 49:return m.addTrace(yg),C=My(Uy({},k),{topic:x,requiredNamespaces:g,optionalNamespaces:w,pairingTopic:h,acknowledged:!1,self:k.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:b,transportType:Ov}),e.next=53,i.client.session.set(x,C);case 53:return m.addTrace(Zg),e.prev=54,m.addTrace(Cg),e.next=58,i.sendRequest({topic:x,method:"wc_sessionSettle",params:k,throwOnFailedPublish:!0}).catch((function(e){var t;throw null!==(t=m)&&void 0!==t&&t.setError(Og),e}));case 58:return m.addTrace(Eg),m.addTrace(xg),e.next=62,i.sendResult({id:s,topic:h,result:{relay:{protocol:null!==c&&void 0!==c?c:"irn"},responderPublicKey:b},throwOnFailedPublish:!0}).catch((function(e){var t;throw null!==(t=m)&&void 0!==t&&t.setError(Pg),e}));case 62:m.addTrace(kg),e.next=72;break;case 65:return e.prev=65,e.t4=e.catch(54),i.client.logger.error(e.t4),i.client.session.delete(x,bf("USER_DISCONNECTED")),e.next=71,i.client.core.relayer.unsubscribe(x);case 71:throw e.t4;case 72:return i.client.core.eventClient.deleteEvent({eventId:m.eventId}),e.next=75,i.client.core.pairing.updateMetadata({topic:h,metadata:v.metadata});case 75:return e.next=77,i.client.proposal.delete(s,bf("USER_DISCONNECTED"));case 77:return e.next=79,i.client.core.pairing.activate({topic:h});case 79:return e.next=81,i.setExpiry(x,Ss(xy));case 81:return e.abrupt("return",{topic:x,acknowledged:function(){return Promise.resolve(i.client.session.get(x))}});case 82:case"end":return e.stop()}}),e,null,[[1,7],[10,15],[18,23],[41,46],[54,65]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"reject",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.confirmOnlineStateOrThrow();case 3:return e.prev=3,e.next=6,i.isValidReject(t);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),i.client.logger.error("reject() -> isValidReject() failed"),e.t0;case 11:n=t.id,r=t.reason,e.prev=12,o=i.client.proposal.get(n).pairingTopic,e.next=19;break;case 16:throw e.prev=16,e.t1=e.catch(12),i.client.logger.error("reject() -> proposal.get(".concat(n,") failed")),e.t1;case 19:if(e.t2=o,!e.t2){e.next=25;break}return e.next=23,i.sendError({id:n,topic:o,error:r,rpcOpts:ky.wc_sessionPropose.reject});case 23:return e.next=25,i.client.proposal.delete(n,bf("USER_DISCONNECTED"));case 25:case"end":return e.stop()}}),e,null,[[3,8],[12,16]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"update",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.confirmOnlineStateOrThrow();case 3:return e.prev=3,e.next=6,i.isValidUpdate(t);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),i.client.logger.error("update() -> isValidUpdate() failed"),e.t0;case 11:return n=t.topic,r=t.namespaces,o=Zs(),a=o.done,s=o.resolve,c=o.reject,u=Dh(),l=zh().toString(),d=i.client.session.get(n).namespaces,i.events.once(Ps("session_update",u),(function(e){var t=e.error;t?c(t):s()})),e.next=15,i.client.session.update(n,{namespaces:r});case 15:return e.next=17,i.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:l}).catch((function(e){i.client.logger.error(e),i.client.session.update(n,{namespaces:d}),c(e)}));case 17:return e.abrupt("return",{acknowledged:a});case 18:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"extend",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.confirmOnlineStateOrThrow();case 3:return e.prev=3,e.next=6,i.isValidExtend(t);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),i.client.logger.error("extend() -> isValidExtend() failed"),e.t0;case 11:return n=t.topic,r=Dh(),o=Zs(),a=o.done,s=o.resolve,c=o.reject,i.events.once(Ps("session_extend",r),(function(e){var t=e.error;t?c(t):s()})),e.next=15,i.setExpiry(n,Ss(xy));case 15:return i.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch((function(e){c(e)})),e.abrupt("return",{acknowledged:a});case 17:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"request",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p,h,v,g,w,m;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.prev=1,e.next=4,i.isValidRequest(t);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),i.client.logger.error("request() -> isValidRequest() failed"),e.t0;case 9:if(n=t.chainId,r=t.request,o=t.topic,a=t.expiry,s=void 0===a?ky.wc_sessionRequest.req.ttl:a,c=i.client.session.get(o),e.t1=(null===c||void 0===c?void 0:c.transportType)===Ov,!e.t1){e.next=14;break}return e.next=14,i.confirmOnlineStateOrThrow();case 14:if(u=Dh(),l=zh().toString(),d=Zs(s,"Request expired. Please try again."),f=d.done,p=d.resolve,h=d.reject,i.events.once(Ps("session_request",u),(function(e){var t=e.error,n=e.result;t?h(t):p(n)})),v="wc_sessionRequest",!(g=i.getAppLinkIfEnabled(c.peer.metadata,c.transportType))){e.next=24;break}return e.next=20,i.sendRequest({clientRpcId:u,relayRpcId:l,topic:o,method:v,params:{request:My(Uy({},r),{expiryTimestamp:Ss(s)}),chainId:n},expiry:s,throwOnFailedPublish:!0,appLink:g}).catch((function(e){return h(e)}));case 20:return i.client.events.emit("session_request_sent",{topic:o,request:r,chainId:n,id:u}),e.next=23,f();case 23:case 27:return e.abrupt("return",e.sent);case 24:return w={request:My(Uy({},r),{expiryTimestamp:Ss(s)}),chainId:n},m=i.shouldSetTVF(v,w),e.next=27,Promise.all([new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.sendRequest(Uy({clientRpcId:u,relayRpcId:l,topic:o,method:v,params:w,expiry:s,throwOnFailedPublish:!0},m&&{tvf:i.getTVFParams(u,w)})).catch((function(e){return h(e)}));case 2:i.client.events.emit("session_request_sent",{topic:o,request:r,chainId:n,id:u}),t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=c.sessionConfig)&&n.disableDeepLink){e.next=6;break}return e.next=3,Ls(i.client.core.storage,by);case 3:return r=e.sent,e.next=6,_s({id:u,topic:o,wcDeepLink:r});case 6:t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f()]).then((function(e){return e[2]}));case 28:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"respond",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.isValidRespond(t);case 3:if(n=t.topic,r=t.response,o=r.id,a=i.client.session.get(n),e.t0=a.transportType===Ov,!e.t0){e.next=8;break}return e.next=8,i.confirmOnlineStateOrThrow();case 8:if(s=i.getAppLinkIfEnabled(a.peer.metadata,a.transportType),!nv(r)){e.next=14;break}return e.next=12,i.sendResult({id:o,topic:n,result:r.result,throwOnFailedPublish:!0,appLink:s});case 12:e.next=18;break;case 14:if(e.t1=rv(r),!e.t1){e.next=18;break}return e.next=18,i.sendError({id:o,topic:n,error:r.error,appLink:s});case 18:i.cleanupAfterResponse(t);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"ping",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.confirmOnlineStateOrThrow();case 3:return e.prev=3,e.next=6,i.isValidPing(t);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),i.client.logger.error("ping() -> isValidPing() failed"),e.t0;case 11:if(n=t.topic,!i.client.session.keys.includes(n)){e.next=19;break}return r=Dh(),o=zh().toString(),a=Zs(),s=a.done,c=a.resolve,u=a.reject,i.events.once(Ps("session_ping",r),(function(e){var t=e.error;t?u(t):c()})),e.next=17,Promise.all([i.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:r,relayRpcId:o}),s()]);case 17:e.next=24;break;case 19:if(e.t1=i.client.core.pairing.pairings.keys.includes(n),!e.t1){e.next=24;break}return i.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),e.next=24,i.client.core.pairing.ping({topic:n});case 24:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"emit",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.confirmOnlineStateOrThrow();case 3:return e.next=5,i.isValidEmit(t);case 5:return n=t.topic,r=t.event,o=t.chainId,a=zh().toString(),s=Dh(),e.next=8,i.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:r,chainId:o},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"disconnect",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.confirmOnlineStateOrThrow();case 3:return e.next=5,i.isValidDisconnect(t);case 5:if(n=t.topic,!i.client.session.keys.includes(n)){e.next=13;break}return e.next=9,i.sendRequest({topic:n,method:"wc_sessionDelete",params:bf("USER_DISCONNECTED"),throwOnFailedPublish:!0});case 9:return e.next=11,i.deleteSession({topic:n,emitEvent:!1});case 11:case 16:e.next=20;break;case 13:if(!i.client.core.pairing.pairings.keys.includes(n)){e.next=18;break}return e.next=16,i.client.core.pairing.disconnect({topic:n});case 18:throw r=mf("MISMATCHED_TOPIC","Session or pairing topic not found: ".concat(n)),o=r.message,new Error(o);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"find",(function(e){return i.isInitialized(),i.client.session.getAll().filter((function(t){return function(e,t){var n=t.requiredNamespaces,r=Object.keys(e.namespaces),i=Object.keys(n),o=!0;return!!ys(i,r)&&(r.forEach((function(t){var r=e.namespaces[t],i=r.accounts,a=r.methods,s=r.events,c=ff(i),u=n[t];(!ys(Ja(t,u),c)||!ys(u.methods,a)||!ys(u.events,s))&&(o=!1)})),o)}(t,e)}))})),jy((0,x.Z)(i),"getPendingSessionRequests",(function(){return i.client.pendingRequest.getAll()})),jy((0,x.Z)(i),"authenticate",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o,a,s,c,u,l,d,f,p,h,v,g,w,m,b,y,x,k,Z,C,E,I,S,O,_,T,L,B,U,M,j,D,z,q,H,W,F,V,K;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),i.isValidAuthenticate(t),a=n&&i.client.core.linkModeSupportedApps.includes(n)&&(null==(o=i.client.metadata.redirect)?void 0:o.linkMode),s=a?Pv:Ov,e.t0=s===Ov,!e.t0){e.next=6;break}return e.next=6,i.confirmOnlineStateOrThrow();case 6:return c=t.chains,u=t.statement,l=void 0===u?"":u,d=t.uri,f=t.domain,p=t.nonce,h=t.type,v=t.exp,g=t.nbf,w=t.methods,m=void 0===w?[]:w,b=t.expiry,y=(0,N.Z)(t.resources||[]),e.next=21,i.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:s});case 21:return x=e.sent,k=x.topic,Z=x.uri,i.client.logger.info({message:"Generated new pairing",pairing:{topic:k,uri:Z}}),e.next=27,i.client.core.crypto.generateKeyPair();case 27:return C=e.sent,E=zd(C),e.next=31,Promise.all([i.client.auth.authKeys.set(Py,{responseTopic:E,publicKey:C}),i.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:k})]);case 31:return e.next=33,i.client.core.relayer.subscribe(E,{transportType:s});case 33:if(i.client.logger.info("sending request to new pairing topic: ".concat(k)),!(m.length>0)){e.next=38;break}I=$a(c[0]),S=I.namespace,O=su(S,"request",m),pu(y)&&(O=uu(O,y.pop())),y.push(O);case 38:if(_=b&&b>ky.wc_sessionAuthenticate.req.ttl?b:ky.wc_sessionAuthenticate.req.ttl,T={authPayload:{type:null!==h&&void 0!==h?h:"caip122",chains:c,statement:l,aud:d,domain:f,version:"1",nonce:p,iat:(new Date).toISOString(),exp:v,nbf:g,resources:y},requester:{publicKey:C,metadata:i.client.metadata},expiryTimestamp:Ss(_)},L={eip155:{chains:c,methods:(0,N.Z)(new Set(["personal_sign"].concat((0,N.Z)(m)))),events:["chainChanged","accountsChanged"]}},B={requiredNamespaces:{},optionalNamespaces:L,relays:[{protocol:"irn"}],pairingTopic:k,proposer:{publicKey:C,metadata:i.client.metadata},expiryTimestamp:Ss(ky.wc_sessionPropose.req.ttl),id:Dh()},U=Zs(_,"Request expired"),M=U.done,j=U.resolve,D=U.reject,z=Dh(),q=Ps("session_connect",B.id),H=Ps("session_request",z),W=function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.error,r=t.session,i.events.off(H,F),n?D(n):r&&j({session:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var r,o,a,c,u,l,d,f,p,h,v,g,w,m,b,y,x,Z,E,I,S,P;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.deletePendingAuthRequest(z,{message:"fulfilled",code:0});case 2:if(!t.error){e.next=5;break}return c=bf("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate"),e.abrupt("return",t.error.code===c.code?void 0:(i.events.off(q,W),D(t.error.message)));case 5:return e.next=7,i.deleteProposal(B.id);case 7:i.events.off(q,W),u=t.result,l=u.cacaos,d=u.responder,f=[],p=[],h=(0,R.Z)(l),e.prev=10,h.s();case 12:if((v=h.n()).done){e.next=24;break}return c=v.value,e.next=16,eu({cacao:c,projectId:i.client.core.projectId});case 16:if(e.t0=e.sent,e.t0){e.next=19;break}i.client.logger.error(c,"Signature verification failed"),D(bf("SESSION_SETTLEMENT_FAILED","Signature verification failed"));case 19:for(g=c.p,w=pu(g.resources),m=[Xc(g.iss)],b=Qc(g.iss),w&&(y=du(w),x=fu(w),f.push.apply(f,(0,N.Z)(y)),m.push.apply(m,(0,N.Z)(x))),Z=0,E=m;Z<E.length;Z++)I=E[Z],p.push("".concat(I,":").concat(b));case 22:e.next=12;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(10),h.e(e.t1);case 29:return e.prev=29,h.f(),e.finish(29);case 32:return e.next=34,i.client.core.crypto.generateSharedKey(C,d.publicKey);case 34:if(S=e.sent,e.t2=f.length>0,!e.t2){e.next=47;break}return P={topic:S,acknowledged:!0,self:{publicKey:C,metadata:i.client.metadata},peer:d,controller:d.publicKey,expiry:Ss(xy),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:k,namespaces:vf((0,N.Z)(new Set(f)),(0,N.Z)(new Set(p))),transportType:s},e.next=40,i.client.core.relayer.subscribe(S,{transportType:s});case 40:return e.next=42,i.client.session.set(S,P);case 42:if(e.t3=k,!e.t3){e.next=46;break}return e.next=46,i.client.core.pairing.updateMetadata({topic:k,metadata:d.metadata});case 46:P=i.client.session.get(S);case 47:null!=(r=i.client.metadata.redirect)&&r.linkMode&&null!=(o=d.metadata.redirect)&&o.linkMode&&null!=(a=d.metadata.redirect)&&a.universal&&n&&(i.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),i.client.session.update(S,{transportType:Pv})),j({auths:l,session:P});case 49:case"end":return e.stop()}}),e,null,[[10,26,29,32]])})));return function(t){return e.apply(this,arguments)}}(),i.events.once(q,W),i.events.once(H,F),e.prev=40,!a){e.next=50;break}return K=qh("wc_sessionAuthenticate",T,z),i.client.core.history.set(k,K),e.next=46,i.client.core.crypto.encode("",K,{type:2,encoding:Md});case 46:O=e.sent,V=df(n,k,O),e.next=52;break;case 50:return e.next=52,Promise.all([i.sendRequest({topic:k,method:"wc_sessionAuthenticate",params:T,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:z}),i.sendRequest({topic:k,method:"wc_sessionPropose",params:B,expiry:ky.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:B.id})]);case 52:e.next=57;break;case 54:throw e.prev=54,e.t1=e.catch(40),i.events.off(q,W),i.events.off(H,F),e.t1;case 57:return e.next=59,i.setProposal(B.id,B);case 59:return e.next=61,i.setAuthRequest(z,{request:My(Uy({},T),{verifyContext:{}}),pairingTopic:k,transportType:s});case 61:return e.abrupt("return",{uri:null!==(r=V)&&void 0!==r?r:Z,response:M});case 62:case"end":return e.stop()}}),e,null,[[40,54]])})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"approveSessionAuthenticate",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p,h,v,g,w,m,b,y,x,k,Z,C,E,I,S,P;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id,r=t.auths,o=i.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Tg]}}),e.prev=1,i.isInitialized(),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),o.setError(Dg),e.t0;case 8:if(a=i.getPendingAuthRequest(n)){e.next=11;break}throw o.setError(Wg),new Error("Could not find pending auth request with id ".concat(n));case 11:if(s=a.transportType||Ov,e.t1=s===Ov,!e.t1){e.next=16;break}return e.next=16,i.confirmOnlineStateOrThrow();case 16:return c=a.requester.publicKey,e.next=19,i.client.core.crypto.generateKeyPair();case 19:u=e.sent,l=zd(c),d={type:1,receiverPublicKey:c,senderPublicKey:u},f=[],p=[],h=(0,R.Z)(r),e.prev=25,h.s();case 27:if((v=h.n()).done){e.next=43;break}return g=v.value,e.next=31,eu({cacao:g,projectId:i.client.core.projectId});case 31:if(e.sent){e.next=37;break}return o.setError(zg),w=bf("SESSION_SETTLEMENT_FAILED","Signature verification failed"),e.next=36,i.sendError({id:n,topic:l,error:w,encodeOpts:d});case 36:throw new Error(w.message);case 37:for(o.addTrace(Lg),m=g.p,b=pu(m.resources),y=[Xc(m.iss)],x=Qc(m.iss),b&&(k=du(b),Z=fu(b),f.push.apply(f,(0,N.Z)(k)),y.push.apply(y,(0,N.Z)(Z))),C=0,E=y;C<E.length;C++)I=E[C],p.push("".concat(I,":").concat(x));case 41:e.next=27;break;case 43:e.next=48;break;case 45:e.prev=45,e.t2=e.catch(25),h.e(e.t2);case 48:return e.prev=48,h.f(),e.finish(48);case 51:return e.next=53,i.client.core.crypto.generateSharedKey(u,c);case 53:if(S=e.sent,o.addTrace(Rg),!((null===f||void 0===f?void 0:f.length)>0)){e.next=71;break}return P={topic:S,acknowledged:!0,self:{publicKey:u,metadata:i.client.metadata},peer:{publicKey:c,metadata:a.requester.metadata},controller:c,expiry:Ss(xy),authentication:r,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:vf((0,N.Z)(new Set(f)),(0,N.Z)(new Set(p))),transportType:s},o.addTrace(Ug),e.prev=57,e.next=60,i.client.core.relayer.subscribe(S,{transportType:s});case 60:e.next=65;break;case 62:throw e.prev=62,e.t3=e.catch(57),o.setError(qg),e.t3;case 65:return o.addTrace(Mg),e.next=68,i.client.session.set(S,P);case 68:return o.addTrace(Bg),e.next=71,i.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata});case 71:return o.addTrace(jg),e.prev=72,e.next=75,i.sendResult({topic:l,id:n,result:{cacaos:r,responder:{publicKey:u,metadata:i.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:i.getAppLinkIfEnabled(a.requester.metadata,s)});case 75:e.next=80;break;case 77:throw e.prev=77,e.t4=e.catch(72),o.setError(Hg),e.t4;case 80:return e.next=82,i.client.auth.requests.delete(n,{message:"fulfilled",code:0});case 82:return e.next=84,i.client.core.pairing.activate({topic:a.pairingTopic});case 84:return i.client.core.eventClient.deleteEvent({eventId:o.eventId}),e.abrupt("return",{session:P});case 86:case"end":return e.stop()}}),e,null,[[1,5],[25,45,48,51],[57,62],[72,77]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"rejectSessionAuthenticate",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),n=t.id,r=t.reason,o=i.getPendingAuthRequest(n)){e.next=4;break}throw new Error("Could not find pending auth request with id ".concat(n));case 4:if(e.t0=o.transportType===Ov,!e.t0){e.next=8;break}return e.next=8,i.confirmOnlineStateOrThrow();case 8:return a=o.requester.publicKey,e.next=11,i.client.core.crypto.generateKeyPair();case 11:return s=e.sent,c=zd(a),u={type:1,receiverPublicKey:a,senderPublicKey:s},e.next=16,i.sendError({id:n,topic:c,error:r,encodeOpts:u,rpcOpts:ky.wc_sessionAuthenticate.reject,appLink:i.getAppLinkIfEnabled(o.requester.metadata,o.transportType)});case 16:return e.next=18,i.client.auth.requests.delete(n,{message:"rejected",code:0});case 18:return e.next=20,i.client.proposal.delete(n,bf("USER_DISCONNECTED"));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"formatAuthMessage",(function(e){i.isInitialized();var t=e.request,n=e.iss;return nu(t,n)})),jy((0,x.Z)(i),"processRelayMessageCache",(function(){setTimeout((0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===i.relayMessageCache.length){e.next=15;break}case 1:if(!(i.relayMessageCache.length>0)){e.next=15;break}if(e.prev=2,t=i.relayMessageCache.shift(),e.t0=t,!e.t0){e.next=8;break}return e.next=8,i.onRelayMessage(t);case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(2),i.client.logger.error(e.t1);case 13:e.next=1;break;case 15:case"end":return e.stop()}}),e,null,[[2,10]])}))),50)})),jy((0,x.Z)(i),"cleanupDuplicatePairings",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.pairingTopic){e.next=14;break}if(e.prev=1,n=i.client.core.pairing.pairings.get(t.pairingTopic),r=i.client.core.pairing.pairings.getAll().filter((function(e){var r,i;return(null==(r=e.peerMetadata)?void 0:r.url)&&(null==(i=e.peerMetadata)?void 0:i.url)===t.peer.metadata.url&&e.topic&&e.topic!==n.topic})),0!==r.length){e.next=5;break}return e.abrupt("return");case 5:return i.client.logger.info("Cleaning up ".concat(r.length," duplicate pairing(s)")),e.next=8,Promise.all(r.map((function(e){return i.client.core.pairing.disconnect({topic:e.topic})})));case 8:i.client.logger.info("Duplicate pairings clean up finished"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i.client.logger.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"deleteSession",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,o=t.expirerHasDeleted,a=void 0!==o&&o,s=t.emitEvent,c=void 0===s||s,u=t.id,l=void 0===u?0:u,d=i.client.session.get(r),f=d.self,e.next=3,i.client.core.relayer.unsubscribe(r);case 3:return e.next=5,i.client.session.delete(r,bf("USER_DISCONNECTED"));case 5:if(i.addToRecentlyDeleted(r,"session"),e.t0=i.client.core.crypto.keychain.has(f.publicKey),!e.t0){e.next=10;break}return e.next=10,i.client.core.crypto.deleteKeyPair(f.publicKey);case 10:if(e.t1=i.client.core.crypto.keychain.has(r),!e.t1){e.next=14;break}return e.next=14,i.client.core.crypto.deleteSymKey(r);case 14:a||i.client.core.expirer.del(r),i.client.core.storage.removeItem(by).catch((function(e){return i.client.logger.warn(e)})),i.getPendingSessionRequests().forEach((function(e){e.topic===r&&i.deletePendingSessionRequest(e.id,bf("USER_DISCONNECTED"))})),r===(null==(n=i.sessionRequestQueue.queue[0])?void 0:n.topic)&&(i.sessionRequestQueue.state=Cy),c&&i.client.events.emit("session_delete",{id:l,topic:r});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"deleteProposal",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n)try{r=i.client.proposal.get(t),null===(o=i.client.core.eventClient.getEvent({topic:r.pairingTopic}))||void 0===o||o.setError(Sg)}catch(a){}return e.next=3,Promise.all([i.client.proposal.delete(t,bf("USER_DISCONNECTED")),n?Promise.resolve():i.client.core.expirer.del(t)]);case 3:i.addToRecentlyDeleted(t,"proposal");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"deletePendingSessionRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.next=3,Promise.all([i.client.pendingRequest.delete(t,n),r?Promise.resolve():i.client.core.expirer.del(t)]);case 3:i.addToRecentlyDeleted(t,"request"),i.sessionRequestQueue.queue=i.sessionRequestQueue.queue.filter((function(e){return e.id!==t})),r&&(i.sessionRequestQueue.state=Cy,i.client.events.emit("session_request_expire",{id:t}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"deletePendingAuthRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.next=3,Promise.all([i.client.auth.requests.delete(t,n),r?Promise.resolve():i.client.core.expirer.del(t)]);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"setExpiry",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.client.session.keys.includes(t),!e.t0){e.next=5;break}return i.client.core.expirer.set(t,n),e.next=5,i.client.session.update(t,{expiry:n});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"setProposal",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.client.core.expirer.set(t,Ss(ky.wc_sessionPropose.req.ttl)),e.next=3,i.client.proposal.set(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"setAuthRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.request,o=n.pairingTopic,a=n.transportType,s=void 0===a?Ov:a,i.client.core.expirer.set(t,r.expiryTimestamp),e.next=4,i.client.auth.requests.set(t,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:t,pairingTopic:o,verifyContext:r.verifyContext,transportType:s});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"setPendingSessionRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.topic,o=t.params,a=t.verifyContext,s=o.request.expiryTimestamp||Ss(ky.wc_sessionRequest.req.ttl),i.client.core.expirer.set(n,s),e.next=4,i.client.pendingRequest.set(n,{id:n,topic:r,params:o,verifyContext:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"sendRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var r,o,a,s,c,u,l,d,f,p,h,v,g,w,m,b,y,x,k;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,o=t.method,a=t.params,s=t.expiry,c=t.relayRpcId,u=t.clientRpcId,l=t.throwOnFailedPublish,d=t.appLink,f=t.tvf,p=qh(o,a,u),v=!!d,e.prev=2,g=v?Md:Ud,e.next=6,i.client.core.crypto.encode(r,p,{encoding:g});case 6:h=e.sent,e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(2),e.next=13,i.cleanup();case 13:throw i.client.logger.error("sendRequest() -> core.crypto.encode() for topic ".concat(r," failed")),e.t0;case 15:if(!Sy.includes(o)){e.next=20;break}return m=qd(JSON.stringify(p)),b=qd(h),e.next=19,i.client.core.verify.register({id:b,decryptedId:m});case 19:w=e.sent;case 20:if((y=ky[o].req).attestation=w,s&&(y.ttl=s),c&&(y.id=c),i.client.core.history.set(r,p),!v){e.next=27;break}return x=df(d,r,h),e.next=25,n.g.Linking.openURL(x,i.client.name);case 25:e.next=38;break;case 27:if(k=ky[o].req,s&&(k.ttl=s),c&&(k.id=c),k.tvf=My(Uy({},f),{correlationId:p.id}),!l){e.next=37;break}return k.internal=My(Uy({},k.internal),{throwOnFailedPublish:!0}),e.next=35,i.client.core.relayer.publish(r,h,k);case 35:e.next=38;break;case 37:i.client.core.relayer.publish(r,h,k).catch((function(e){return i.client.logger.error(e)}));case 38:return e.abrupt("return",p.id);case 39:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"sendResult",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var r,o,a,s,c,u,l,d,f,p,h,v,g,w,m,b;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,o=t.topic,a=t.result,s=t.throwOnFailedPublish,c=t.encodeOpts,u=t.appLink,l=Hh(r,a),f=u&&typeof(null==n.g?void 0:n.g.Linking)<"u",e.prev=2,p=f?Md:Ud,e.next=6,i.client.core.crypto.encode(o,l,My(Uy({},c||{}),{encoding:p}));case 6:d=e.sent,e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(2),e.next=13,i.cleanup();case 13:throw i.client.logger.error("sendResult() -> core.crypto.encode() for topic ".concat(o," failed")),e.t0;case 15:return e.prev=15,e.next=18,i.client.core.history.get(o,r);case 18:h=e.sent,g=h.request;try{i.shouldSetTVF(g.method,g.params)&&(v=i.getTVFParams(r,g.params,a))}catch(b){i.client.logger.warn("sendResult() -> getTVFParams() failed",b)}e.next=26;break;case 23:throw e.prev=23,e.t1=e.catch(15),i.client.logger.error("sendResult() -> history.get(".concat(o,", ").concat(r,") failed")),e.t1;case 26:if(!f){e.next=32;break}return w=df(u,o,d),e.next=30,n.g.Linking.openURL(w,i.client.name);case 30:e.next=41;break;case 32:if(m=h.request.method,(b=ky[m].res).tvf=My(Uy({},v),{correlationId:r}),!s){e.next=40;break}return b.internal=My(Uy({},b.internal),{throwOnFailedPublish:!0}),e.next=38,i.client.core.relayer.publish(o,d,b);case 38:e.next=41;break;case 40:i.client.core.relayer.publish(o,d,b).catch((function(e){return i.client.logger.error(e)}));case 41:return e.next=43,i.client.core.history.resolve(l);case 43:case"end":return e.stop()}}),e,null,[[2,9],[15,23]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"sendError",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var r,o,a,s,c,u,l,d,f,p,h,v,g,w;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,o=t.topic,a=t.error,s=t.encodeOpts,c=t.rpcOpts,u=t.appLink,l=Wh(r,a),f=u&&typeof(null==n.g?void 0:n.g.Linking)<"u",e.prev=2,p=f?Md:Ud,e.next=6,i.client.core.crypto.encode(o,l,My(Uy({},s||{}),{encoding:p}));case 6:d=e.sent,e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(2),e.next=13,i.cleanup();case 13:throw i.client.logger.error("sendError() -> core.crypto.encode() for topic ".concat(o," failed")),e.t0;case 15:return e.prev=15,e.next=18,i.client.core.history.get(o,r);case 18:h=e.sent,e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(15),i.client.logger.error("sendError() -> history.get(".concat(o,", ").concat(r,") failed")),e.t1;case 24:if(!f){e.next=30;break}return v=df(u,o,d),e.next=28,n.g.Linking.openURL(v,i.client.name);case 28:e.next=32;break;case 30:g=h.request.method,w=c||ky[g].res,i.client.core.relayer.publish(o,d,w);case 32:return e.next=34,i.client.core.history.resolve(l);case 34:case"end":return e.stop()}}),e,null,[[2,9],[15,21]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"cleanup",(0,P.Z)((0,A.Z)().mark((function e(){var t,n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],i.client.session.getAll().forEach((function(e){var n=!1;As(e.expiry)&&(n=!0),i.client.core.crypto.keychain.has(e.topic)||(n=!0),n&&t.push(e.topic)})),i.client.proposal.getAll().forEach((function(e){As(e.expiryTimestamp)&&n.push(e.id)})),e.next=5,Promise.all([].concat((0,N.Z)(t.map((function(e){return i.deleteSession({topic:e})}))),(0,N.Z)(n.map((function(e){return i.deleteProposal(e)})))));case 5:case"end":return e.stop()}}),e)})))),jy((0,x.Z)(i),"onProviderMessageEvent",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.initialized&&!(i.relayMessageCache.length>0)){e.next=4;break}i.relayMessageCache.push(t),e.next=6;break;case 4:return e.next=6,i.onRelayMessage(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onRelayEventRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.requestQueue.queue.push(t),e.next=3,i.processRequestsQueue();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"processRequestsQueue",(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.requestQueue.state!==Ey){e.next=3;break}return i.client.logger.info("Request queue already active, skipping..."),e.abrupt("return");case 3:i.client.logger.info("Request queue starting with ".concat(i.requestQueue.queue.length," requests"));case 4:if(!(i.requestQueue.queue.length>0)){e.next=18;break}if(i.requestQueue.state=Ey,!(t=i.requestQueue.queue.shift())){e.next=16;break}return e.prev=8,e.next=11,i.processRequest(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),i.client.logger.warn(e.t0);case 16:e.next=4;break;case 18:i.requestQueue.state=Cy;case 19:case"end":return e.stop()}}),e,null,[[8,13]])})))),jy((0,x.Z)(i),"processRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.topic,r=t.payload,o=t.attestation,a=t.transportType,s=t.encryptedId,c=r.method,i.shouldIgnorePairingRequest({topic:n,requestMethod:c})){e.next=33;break}e.t0=c,e.next="wc_sessionPropose"===e.t0?5:"wc_sessionSettle"===e.t0?8:"wc_sessionUpdate"===e.t0?11:"wc_sessionExtend"===e.t0?14:"wc_sessionPing"===e.t0?17:"wc_sessionDelete"===e.t0?20:"wc_sessionRequest"===e.t0?23:"wc_sessionEvent"===e.t0?26:"wc_sessionAuthenticate"===e.t0?29:32;break;case 5:return e.next=7,i.onSessionProposeRequest({topic:n,payload:r,attestation:o,encryptedId:s});case 7:case 10:case 13:case 16:case 19:case 22:case 25:case 28:case 31:return e.abrupt("return",e.sent);case 8:return e.next=10,i.onSessionSettleRequest(n,r);case 11:return e.next=13,i.onSessionUpdateRequest(n,r);case 14:return e.next=16,i.onSessionExtendRequest(n,r);case 17:return e.next=19,i.onSessionPingRequest(n,r);case 20:return e.next=22,i.onSessionDeleteRequest(n,r);case 23:return e.next=25,i.onSessionRequest({topic:n,payload:r,attestation:o,encryptedId:s,transportType:a});case 26:return e.next=28,i.onSessionEventRequest(n,r);case 29:return e.next=31,i.onSessionAuthenticateRequest({topic:n,payload:r,attestation:o,encryptedId:s,transportType:a});case 32:return e.abrupt("return",i.client.logger.info("Unsupported request method ".concat(c)));case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onRelayEventResponse",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topic,r=t.payload,o=t.transportType,e.next=5,i.client.core.history.get(n,r.id);case 5:a=e.sent.request.method,e.t0=a,e.next="wc_sessionPropose"===e.t0?9:"wc_sessionSettle"===e.t0?10:"wc_sessionUpdate"===e.t0?11:"wc_sessionExtend"===e.t0?12:"wc_sessionPing"===e.t0?13:"wc_sessionRequest"===e.t0?14:"wc_sessionAuthenticate"===e.t0?15:16;break;case 9:return e.abrupt("return",i.onSessionProposeResponse(n,r,o));case 10:return e.abrupt("return",i.onSessionSettleResponse(n,r));case 11:return e.abrupt("return",i.onSessionUpdateResponse(n,r));case 12:return e.abrupt("return",i.onSessionExtendResponse(n,r));case 13:return e.abrupt("return",i.onSessionPingResponse(n,r));case 14:return e.abrupt("return",i.onSessionRequestResponse(n,r));case 15:return e.abrupt("return",i.onSessionAuthenticateResponse(n,r));case 16:return e.abrupt("return",i.client.logger.info("Unsupported response method ".concat(a)));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onRelayEventUnknownPayload",(function(e){var t=e.topic,n=mf("MISSING_OR_INVALID","Decoded payload on topic ".concat(t," is not identifiable as a JSON-RPC request or a response.")).message;throw new Error(n)})),jy((0,x.Z)(i),"shouldIgnorePairingRequest",(function(e){var t=e.topic,n=e.requestMethod,r=i.expectedPairingMethodMap.get(t);return!(!r||r.includes(n))&&!!(r.includes("wc_sessionAuthenticate")&&i.client.events.listenerCount("session_authenticate")>0)})),jy((0,x.Z)(i),"onSessionProposeRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topic,r=t.payload,o=t.attestation,a=t.encryptedId,s=r.params,c=r.id,e.prev=1,u=i.client.core.eventClient.getEvent({topic:n}),0===i.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),null!==u&&void 0!==u&&u.setError(gg)),i.isValidConnect(Uy({},r.params)),l=s.expiryTimestamp||Ss(ky.wc_sessionPropose.req.ttl),d=Uy({id:c,pairingTopic:n,expiryTimestamp:l},s),e.next=7,i.setProposal(c,d);case 7:return e.next=9,i.getVerifyContext({attestationId:o,hash:qd(JSON.stringify(r)),encryptedId:a,metadata:d.proposer.metadata});case 9:f=e.sent,null!==u&&void 0!==u&&u.addTrace(lg),i.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f}),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,i.sendError({id:c,topic:n,error:e.t0,rpcOpts:ky.wc_sessionPropose.autoReject});case 17:i.client.logger.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onSessionProposeResponse",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var o,a,s,c,u,l,d,f;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.id,!nv(n)){e.next=22;break}return a=n.result,i.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a}),s=i.client.proposal.get(o),i.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s}),c=s.proposer.publicKey,i.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c}),u=a.responderPublicKey,i.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u}),e.next=12,i.client.core.crypto.generateSharedKey(c,u);case 12:return l=e.sent,i.pendingSessions.set(o,{sessionTopic:l,pairingTopic:t,proposalId:o,publicKey:c}),e.next=16,i.client.core.relayer.subscribe(l,{transportType:r});case 16:return d=e.sent,i.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),e.next=20,i.client.core.pairing.activate({topic:t});case 20:e.next=29;break;case 22:if(!rv(n)){e.next=29;break}return e.next=25,i.client.proposal.delete(o,bf("USER_DISCONNECTED"));case 25:if(f=Ps("session_connect",o),0!==i.events.listenerCount(f)){e.next=28;break}throw new Error("emitting ".concat(f," without any listeners, 954"));case 28:i.events.emit(f,{error:n.error});case 29:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onSessionSettleRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o,a,s,c,u,l,d,f,p,h,v,g;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,o=n.params,e.prev=1,i.isValidSessionSettleRequest(o),a=n.params,s=a.relay,c=a.controller,u=a.expiry,l=a.namespaces,d=a.sessionProperties,f=a.scopedProperties,p=a.sessionConfig,h=(0,N.Z)(i.pendingSessions.values()).find((function(e){return e.sessionTopic===t})),h){e.next=6;break}return e.abrupt("return",i.client.logger.error("Pending session not found for topic ".concat(t)));case 6:return v=i.client.proposal.get(h.proposalId),g=My(Uy(Uy(Uy({topic:t,relay:s,expiry:u,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:v.requiredNamespaces,optionalNamespaces:v.optionalNamespaces,controller:c.publicKey,self:{publicKey:h.publicKey,metadata:i.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},d&&{sessionProperties:d}),f&&{scopedProperties:f}),p&&{sessionConfig:p}),{transportType:Ov}),e.next=9,i.client.session.set(g.topic,g);case 9:return e.next=11,i.setExpiry(g.topic,g.expiry);case 11:return e.next=13,i.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata});case 13:return i.client.events.emit("session_connect",{session:g}),i.events.emit(Ps("session_connect",h.proposalId),{session:g}),i.pendingSessions.delete(h.proposalId),i.deleteProposal(h.proposalId,!1),i.cleanupDuplicatePairings(g),e.next=20,i.sendResult({id:n.id,topic:t,result:!0,throwOnFailedPublish:!0});case 20:e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(1),e.next=26,i.sendError({id:r,topic:t,error:e.t0});case 26:i.client.logger.error(e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onSessionSettleResponse",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,!nv(n)){e.next=7;break}return e.next=4,i.client.session.update(t,{acknowledged:!0});case 4:i.events.emit(Ps("session_approve",r),{}),e.next=12;break;case 7:if(e.t0=rv(n),!e.t0){e.next=12;break}return e.next=11,i.client.session.delete(t,bf("USER_DISCONNECTED"));case 11:i.events.emit(Ps("session_approve",r),{error:n.error});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onSessionUpdateRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.params,o=n.id,e.prev=1,a="".concat(t,"_session_update"),!(s=Jf.get(a))||!i.isRequestOutOfSync(s,o)){e.next=6;break}return i.client.logger.warn("Discarding out of sync request - ".concat(o)),i.sendError({id:o,topic:t,error:bf("INVALID_UPDATE_REQUEST")}),e.abrupt("return");case 6:return i.isValidUpdate(Uy({topic:t},r)),e.prev=7,Jf.set(a,o),e.next=11,i.client.session.update(t,{namespaces:r.namespaces});case 11:return e.next=13,i.sendResult({id:o,topic:t,result:!0,throwOnFailedPublish:!0});case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(7),Jf.delete(a),e.t0;case 18:i.client.events.emit("session_update",{id:o,topic:t,params:r}),e.next=26;break;case 21:return e.prev=21,e.t1=e.catch(1),e.next=25,i.sendError({id:o,topic:t,error:e.t1});case 25:i.client.logger.error(e.t1);case 26:case"end":return e.stop()}}),e,null,[[1,21],[7,15]])})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isRequestOutOfSync",(function(e,t){return t.toString().slice(0,-3)<e.toString().slice(0,-3)})),jy((0,x.Z)(i),"onSessionUpdateResponse",(function(e,t){var n=t.id,r=Ps("session_update",n);if(0===i.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));nv(t)?i.events.emit(Ps("session_update",n),{}):rv(t)&&i.events.emit(Ps("session_update",n),{error:t.error})})),jy((0,x.Z)(i),"onSessionExtendRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,e.prev=1,i.isValidExtend({topic:t}),e.next=5,i.setExpiry(t,Ss(xy));case 5:return e.next=7,i.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0});case 7:i.client.events.emit("session_extend",{id:r,topic:t}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,i.sendError({id:r,topic:t,error:e.t0});case 14:i.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onSessionExtendResponse",(function(e,t){var n=t.id,r=Ps("session_extend",n);if(0===i.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));nv(t)?i.events.emit(Ps("session_extend",n),{}):rv(t)&&i.events.emit(Ps("session_extend",n),{error:t.error})})),jy((0,x.Z)(i),"onSessionPingRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,e.prev=1,i.isValidPing({topic:t}),e.next=5,i.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0});case 5:i.client.events.emit("session_ping",{id:r,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,i.sendError({id:r,topic:t,error:e.t0});case 12:i.client.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onSessionPingResponse",(function(e,t){var n=t.id,r=Ps("session_ping",n);setTimeout((function(){if(0===i.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners 2176"));nv(t)?i.events.emit(Ps("session_ping",n),{}):rv(t)&&i.events.emit(Ps("session_ping",n),{error:t.error})}),500)})),jy((0,x.Z)(i),"onSessionDeleteRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.id;try{i.isValidDisconnect({topic:t,reason:n.params}),Promise.all([new Promise((function(e){i.client.core.relayer.once(Zv,(0,P.Z)((0,A.Z)().mark((function n(){return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,i.deleteSession({topic:t,id:r});case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))))})),i.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),i.cleanupPendingSentRequestsForTopic({topic:t,error:bf("USER_DISCONNECTED")})]).catch((function(e){return i.client.logger.error(e)}))}catch(Cc){i.client.logger.error(Cc)}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onSessionRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p,h,v;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.topic,s=t.payload,c=t.attestation,u=t.encryptedId,l=t.transportType,d=s.id,f=s.params,e.prev=1,e.next=4,i.isValidRequest(Uy({topic:a},f));case 4:return p=i.client.session.get(a),e.next=7,i.getVerifyContext({attestationId:c,hash:qd(JSON.stringify(qh("wc_sessionRequest",f,d))),encryptedId:u,metadata:p.peer.metadata,transportType:l});case 7:return h=e.sent,v={id:d,topic:a,params:f,verifyContext:h},e.next=11,i.setPendingSessionRequest(v);case 11:l===Pv&&null!=(n=p.peer.metadata.redirect)&&n.universal&&i.client.core.addLinkModeSupportedApp(null==(r=p.peer.metadata.redirect)?void 0:r.universal),null!=(o=i.client.signConfig)&&o.disableRequestQueue?i.emitSessionRequest(v):(i.addSessionRequestToSessionRequestQueue(v),i.processSessionRequestQueue()),e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(1),e.next=19,i.sendError({id:d,topic:a,error:e.t0});case 19:i.client.logger.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onSessionRequestResponse",(function(e,t){var n=t.id,r=Ps("session_request",n);if(0===i.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));nv(t)?i.events.emit(Ps("session_request",n),{result:t.result}):rv(t)&&i.events.emit(Ps("session_request",n),{error:t.error})})),jy((0,x.Z)(i),"onSessionEventRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,o=n.params,e.prev=1,a="".concat(t,"_session_event_").concat(o.event.name),!(s=Jf.get(a))||!i.isRequestOutOfSync(s,r)){e.next=6;break}return i.client.logger.info("Discarding out of sync request - ".concat(r)),e.abrupt("return");case 6:i.isValidEmit(Uy({topic:t},o)),i.client.events.emit("session_event",{id:r,topic:t,params:o}),Jf.set(a,r),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,i.sendError({id:r,topic:t,error:e.t0});case 13:i.client.logger.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"onSessionAuthenticateResponse",(function(e,t){var n=t.id;i.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),nv(t)?i.events.emit(Ps("session_request",n),{result:t.result}):rv(t)&&i.events.emit(Ps("session_request",n),{error:t.error})})),jy((0,x.Z)(i),"onSessionAuthenticateRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p,h,v,g,w,m;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,o=t.payload,a=t.attestation,s=t.encryptedId,c=t.transportType,e.prev=1,u=o.params,l=u.requester,d=u.authPayload,f=u.expiryTimestamp,e.next=8,i.getVerifyContext({attestationId:a,hash:qd(JSON.stringify(o)),encryptedId:s,metadata:l.metadata,transportType:c});case 8:return p=e.sent,h={requester:l,pairingTopic:r,id:o.id,authPayload:d,verifyContext:p,expiryTimestamp:f},e.next=12,i.setAuthRequest(o.id,{request:h,pairingTopic:r,transportType:c});case 12:c===Pv&&null!=(n=l.metadata.redirect)&&n.universal&&i.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),i.client.events.emit("session_authenticate",{topic:r,params:o.params,id:o.id,verifyContext:p}),e.next=27;break;case 16:return e.prev=16,e.t0=e.catch(1),i.client.logger.error(e.t0),v=o.params.requester.publicKey,e.next=22,i.client.core.crypto.generateKeyPair();case 22:return g=e.sent,w=i.getAppLinkIfEnabled(o.params.requester.metadata,c),m={type:1,receiverPublicKey:v,senderPublicKey:g},e.next=27,i.sendError({id:o.id,topic:r,error:e.t0,encodeOpts:m,rpcOpts:ky.wc_sessionAuthenticate.autoReject,appLink:w});case 27:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"addSessionRequestToSessionRequestQueue",(function(e){i.sessionRequestQueue.queue.push(e)})),jy((0,x.Z)(i),"cleanupAfterResponse",(function(e){i.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((function(){i.sessionRequestQueue.state=Cy,i.processSessionRequestQueue()}),(0,$.toMiliseconds)(i.requestQueueDelay))})),jy((0,x.Z)(i),"cleanupPendingSentRequestsForTopic",(function(e){var t=e.topic,n=e.error,r=i.client.core.history.pending;r.length>0&&r.filter((function(e){return e.topic===t&&"wc_sessionRequest"===e.request.method})).forEach((function(e){var t=Ps("session_request",e.request.id);if(0===i.events.listenerCount(t))throw new Error("emitting ".concat(t," without any listeners"));i.events.emit(Ps("session_request",e.request.id),{error:n})}))})),jy((0,x.Z)(i),"processSessionRequestQueue",(function(){if(i.sessionRequestQueue.state!==Ey){var e=i.sessionRequestQueue.queue[0];if(e)try{i.sessionRequestQueue.state=Ey,i.emitSessionRequest(e)}catch(nt){i.client.logger.error(nt)}else i.client.logger.info("session request queue is empty.")}else i.client.logger.info("session request queue is already active.")})),jy((0,x.Z)(i),"emitSessionRequest",(function(e){i.client.events.emit("session_request",e)})),jy((0,x.Z)(i),"onPairingCreated",(function(e){if(e.methods&&i.expectedPairingMethodMap.set(e.topic,e.methods),!e.active){var t=i.client.proposal.getAll().find((function(t){return t.pairingTopic===e.topic}));t&&i.onSessionProposeRequest({topic:e.topic,payload:qh("wc_sessionPropose",My(Uy({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)})}})),jy((0,x.Z)(i),"isValidConnect",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(t))),r=n.message,new Error(r);case 3:if(o=t.pairingTopic,a=t.requiredNamespaces,s=t.optionalNamespaces,c=t.sessionProperties,u=t.scopedProperties,l=t.relays,e.t0=kf(o),e.t0){e.next=8;break}return e.next=8,i.isValidPairingTopic(o);case 8:if(Rf(l,!0)){e.next=11;break}throw d=mf("MISSING_OR_INVALID","connect() relays: ".concat(l)),f=d.message,new Error(f);case 11:if(!kf(a)&&0!==xf(a)&&i.validateNamespaces(a,"requiredNamespaces"),!kf(s)&&0!==xf(s)&&i.validateNamespaces(s,"optionalNamespaces"),kf(c)||i.validateSessionProps(c,"sessionProperties"),kf(u)){e.next=16;break}if(i.validateSessionProps(u,"scopedProperties"),p=Object.keys(a||{}).concat(Object.keys(s||{})),Object.keys(u).every((function(e){return p.includes(e)}))){e.next=16;break}throw new Error("Scoped properties must be a subset of required/optional namespaces, received: ".concat(JSON.stringify(u),", required/optional namespaces: ").concat(JSON.stringify(p)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"validateNamespaces",(function(e,t){var n=function(e,t,n){var r=null;if(e&&xf(e)){var i=_f(e,t);i&&(r=i);var o=Pf(e,t,n);o&&(r=o)}else r=mf("MISSING_OR_INVALID","".concat(t,", ").concat(n," should be an object with data"));return r}(e,"connect()",t);if(n)throw new Error(n.message)})),jy((0,x.Z)(i),"isValidApprove",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=2;break}throw new Error(mf("MISSING_OR_INVALID","approve() params: ".concat(t)).message);case 2:return n=t.id,r=t.namespaces,o=t.relayProtocol,a=t.sessionProperties,s=t.scopedProperties,i.checkRecentlyDeleted(n),e.next=6,i.isValidProposalId(n);case 6:if(c=i.client.proposal.get(n),!(u=Nf(r,"approve()"))){e.next=9;break}throw new Error(u.message);case 9:if(!(l=Wf(c.requiredNamespaces,r,"approve()"))){e.next=12;break}throw new Error(l.message);case 12:if(Zf(o,!0)){e.next=15;break}throw d=mf("MISSING_OR_INVALID","approve() relayProtocol: ".concat(o)),f=d.message,new Error(f);case 15:if(kf(a)||i.validateSessionProps(a,"sessionProperties"),kf(s)){e.next=20;break}if(i.validateSessionProps(s,"scopedProperties"),p=new Set(Object.keys(r)),Object.keys(s).every((function(e){return p.has(e)}))){e.next=20;break}throw new Error("Scoped properties must be a subset of approved namespaces, received: ".concat(JSON.stringify(s),", approved namespaces: ").concat(Array.from(p).join(", ")));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isValidReject",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","reject() params: ".concat(t)),r=n.message,new Error(r);case 3:return o=t.id,a=t.reason,i.checkRecentlyDeleted(o),e.next=7,i.isValidProposalId(o);case 7:if(Uf(a)){e.next=10;break}throw s=mf("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(a))),c=s.message,new Error(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isValidSessionSettleRequest",(function(e){if(!Bf(e)){var t=mf("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e)).message;throw new Error(t)}var n=e.relay,r=e.controller,i=e.namespaces,o=e.expiry;if(!Tf(n)){var a=mf("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string").message;throw new Error(a)}var s=function(e,t){var n=null;return Zf(null===e||void 0===e?void 0:e.publicKey,!1)||(n=mf("MISSING_OR_INVALID","".concat(t," controller public key should be a string"))),n}(r,"onSessionSettleRequest()");if(s)throw new Error(s.message);var c=Nf(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(As(o)){var u=mf("EXPIRED","onSessionSettleRequest()").message;throw new Error(u)}})),jy((0,x.Z)(i),"isValidUpdate",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","update() params: ".concat(t)),r=n.message,new Error(r);case 3:return o=t.topic,a=t.namespaces,i.checkRecentlyDeleted(o),e.next=7,i.isValidSessionTopic(o);case 7:if(s=i.client.session.get(o),!(c=Nf(a,"update()"))){e.next=10;break}throw new Error(c.message);case 10:if(!(u=Wf(s.requiredNamespaces,a,"update()"))){e.next=13;break}throw new Error(u.message);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isValidExtend",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","extend() params: ".concat(t)),r=n.message,new Error(r);case 3:return o=t.topic,i.checkRecentlyDeleted(o),e.next=7,i.isValidSessionTopic(o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isValidRequest",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p,h,v,g,w,m;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","request() params: ".concat(t)),r=n.message,new Error(r);case 3:return o=t.topic,a=t.request,s=t.chainId,c=t.expiry,i.checkRecentlyDeleted(o),e.next=7,i.isValidSessionTopic(o);case 7:if(u=i.client.session.get(o),zf(l=u.namespaces,s)){e.next=11;break}throw d=mf("MISSING_OR_INVALID","request() chainId: ".concat(s)),f=d.message,new Error(f);case 11:if(Mf(a)){e.next=14;break}throw p=mf("MISSING_OR_INVALID","request() ".concat(JSON.stringify(a))),h=p.message,new Error(h);case 14:if(qf(l,s,a.method)){e.next=17;break}throw v=mf("MISSING_OR_INVALID","request() method: ".concat(a.method)),g=v.message,new Error(g);case 17:if(!c||Vf(c,Zy)){e.next=20;break}throw w=mf("MISSING_OR_INVALID","request() expiry: ".concat(c,". Expiry must be a number (in seconds) between ").concat(Zy.min," and ").concat(Zy.max)),m=w.message,new Error(m);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isValidRespond",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw r=mf("MISSING_OR_INVALID","respond() params: ".concat(t)),o=r.message,new Error(o);case 3:return a=t.topic,s=t.response,e.prev=4,e.next=7,i.isValidSessionTopic(a);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),null!=(n=null===t||void 0===t?void 0:t.response)&&n.id&&i.cleanupAfterResponse(t),e.t0;case 12:if(jf(s)){e.next=15;break}throw c=mf("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(s))),u=c.message,new Error(u);case 15:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isValidPing",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","ping() params: ".concat(t)),r=n.message,new Error(r);case 3:return o=t.topic,e.next=6,i.isValidSessionOrPairingTopic(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isValidEmit",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,p,h,v;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","emit() params: ".concat(t)),r=n.message,new Error(r);case 3:return o=t.topic,a=t.event,s=t.chainId,e.next=6,i.isValidSessionTopic(o);case 6:if(c=i.client.session.get(o),zf(u=c.namespaces,s)){e.next=10;break}throw l=mf("MISSING_OR_INVALID","emit() chainId: ".concat(s)),d=l.message,new Error(d);case 10:if(Df(a)){e.next=13;break}throw f=mf("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(a))),p=f.message,new Error(p);case 13:if(Hf(u,s,a.name)){e.next=16;break}throw h=mf("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(a))),v=h.message,new Error(v);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isValidDisconnect",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","disconnect() params: ".concat(t)),r=n.message,new Error(r);case 3:return o=t.topic,e.next=6,i.isValidSessionOrPairingTopic(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"isValidAuthenticate",(function(e){var t=e.chains,n=e.uri,r=e.domain,i=e.nonce;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!Zf(n,!1))throw new Error("uri is required parameter");if(!Zf(r,!1))throw new Error("domain is required parameter");if(!Zf(i,!1))throw new Error("nonce is required parameter");if((0,N.Z)(new Set(t.map((function(e){return $a(e).namespace})))).length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");if("eip155"!==$a(t[0]).namespace)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")})),jy((0,x.Z)(i),"getVerifyContext",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,o,a,s,c,u,l;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.attestationId,r=t.hash,o=t.encryptedId,a=t.metadata,s=t.transportType,c={verified:{verifyUrl:a.verifyUrl||Xv,validation:"UNKNOWN",origin:a.url||""}},e.prev=1,s!==Pv){e.next=5;break}return u=i.getAppLinkIfEnabled(a,s),e.abrupt("return",(c.verified.validation=u&&new URL(u).origin===new URL(a.url).origin?"VALID":"INVALID",c));case 5:return e.next=7,i.client.core.verify.resolve({attestationId:n,hash:r,encryptedId:o,verifyUrl:a.verifyUrl});case 7:(l=e.sent)&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(a.url).origin?"VALID":"INVALID"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i.client.logger.warn(e.t0);case 14:return e.abrupt("return",(i.client.logger.debug("Verify context: ".concat(JSON.stringify(c))),c));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),jy((0,x.Z)(i),"validateSessionProps",(function(e,t){Object.values(e).forEach((function(n,r){if(null==n){var i=mf("MISSING_OR_INVALID","".concat(t," must contain an existing value for each key. Received: ").concat(n," for key ").concat(Object.keys(e)[r])).message;throw new Error(i)}}))})),jy((0,x.Z)(i),"getPendingAuthRequest",(function(e){var t=i.client.auth.requests.get(e);return"object"==typeof t?t:void 0})),jy((0,x.Z)(i),"addToRecentlyDeleted",(function(e,t){if(i.recentlyDeletedMap.set(e,t),i.recentlyDeletedMap.size>=i.recentlyDeletedLimit){var n,r=0,o=i.recentlyDeletedLimit/2,a=(0,R.Z)(i.recentlyDeletedMap.keys());try{for(a.s();!(n=a.n()).done;){var s=n.value;if(r++>=o)break;i.recentlyDeletedMap.delete(s)}}catch(c){a.e(c)}finally{a.f()}}})),jy((0,x.Z)(i),"checkRecentlyDeleted",(function(e){var t=i.recentlyDeletedMap.get(e);if(t){var n=mf("MISSING_OR_INVALID","Record was recently deleted - ".concat(t,": ").concat(e)).message;throw new Error(n)}})),jy((0,x.Z)(i),"isLinkModeEnabled",(function(e,t){var r,o,a,s,c,u,l,d,f;return!(!e||t!==Pv)&&(!0===(null==(o=null==(r=i.client.metadata)?void 0:r.redirect)?void 0:o.linkMode)&&void 0!==(null==(s=null==(a=i.client.metadata)?void 0:a.redirect)?void 0:s.universal)&&""!==(null==(u=null==(c=i.client.metadata)?void 0:c.redirect)?void 0:u.universal)&&void 0!==(null==(l=null===e||void 0===e?void 0:e.redirect)?void 0:l.universal)&&""!==(null==(d=null===e||void 0===e?void 0:e.redirect)?void 0:d.universal)&&!0===(null==(f=null===e||void 0===e?void 0:e.redirect)?void 0:f.linkMode)&&i.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==n.g?void 0:n.g.Linking)<"u")})),jy((0,x.Z)(i),"getAppLinkIfEnabled",(function(e,t){var n;return i.isLinkModeEnabled(e,t)?null==(n=null===e||void 0===e?void 0:e.redirect)?void 0:n.universal:void 0})),jy((0,x.Z)(i),"handleLinkModeMessage",(function(e){var t=e.url;if(t&&t.includes("wc_ev")&&t.includes("topic")){var n=Us(t,"topic")||"",r=decodeURIComponent(Us(t,"wc_ev")||""),o=i.client.session.keys.includes(n);o&&i.client.session.update(n,{transportType:Pv}),i.client.core.dispatchEnvelope({topic:n,message:r,sessionExists:o})}})),jy((0,x.Z)(i),"registerLinkModeListeners",(0,P.Z)((0,A.Z)().mark((function e(){var t,r,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(js()||fs()&&null!=(t=i.client.metadata.redirect)&&t.linkMode)){e.next=8;break}if(!(typeof(r=null==n.g?void 0:n.g.Linking)<"u")){e.next=8;break}return r.addEventListener("url",i.handleLinkModeMessage,i.client.name),e.next=6,r.getInitialURL();case 6:(o=e.sent)&&setTimeout((function(){i.handleLinkModeMessage({url:o})}),50);case 8:case"end":return e.stop()}}),e)})))),jy((0,x.Z)(i),"shouldSetTVF",(function(e,t){if(!t||"wc_sessionRequest"!==e)return!1;var n=t.request;return Object.keys(Iy).includes(n.method)})),jy((0,x.Z)(i),"getTVFParams",(function(e,t,n){var r,o;try{var a=t.request.method,s=i.extractTxHashesFromResult(a,n);return My(Uy({correlationId:e,rpcMethods:[a],chainId:t.chainId},i.isValidContractData(t.request.params)&&{contractAddresses:[null==(o=null==(r=t.request.params)?void 0:r[0])?void 0:o.to]}),{txHashes:s})}catch(a){i.client.logger.warn("Error getting TVF params",a)}return{}})),jy((0,x.Z)(i),"isValidContractData",(function(e){var t;if(!e)return!1;try{var n=(null===e||void 0===e?void 0:e.data)||(null==(t=null===e||void 0===e?void 0:e[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;var r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0}catch(i){}return!1})),jy((0,x.Z)(i),"extractTxHashesFromResult",(function(e,t){try{var n;if("string"==typeof t)return[t];var r=t[Iy[e].key];if(yf(r))return"solana_signAllTransactions"===e?r.map((function(e){return function(e){for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);var i=n[0];if(0===i)throw new Error("No signatures found");var o=1+64*i;if(n.length<o)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");var a=Buffer.from(e,"base64").slice(1,65);return Zt.encode(a)}(e)})):r;if("string"==typeof r)return[r]}catch(n){i.client.logger.warn("Error extracting tx hashes from result",n)}return[]})),i}return(0,_.Z)(r,[{key:"processPendingMessageEvents",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i,o,a,s,c,u,l;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t),r=0,i=Object.entries(n);case 3:if(!(r<i.length)){e.next=31;break}o=(0,S.Z)(i[r],2),a=o[0],s=o[1],c=(0,R.Z)(s),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=20;break}return l=u.value,e.prev=10,e.next=13,this.onProviderMessageEvent({topic:a,message:l,publishedAt:Date.now()});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),this.client.logger.warn("Error processing pending message event for topic: ".concat(a,", message: ").concat(l));case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(6),c.e(e.t1);case 25:return e.prev=25,c.f(),e.finish(25);case 28:r++,e.next=3;break;case 31:e.next=36;break;case 33:e.prev=33,e.t2=e.catch(0),this.client.logger.warn("processPendingMessageEvents failed",e.t2);case 36:case"end":return e.stop()}}),e,this,[[0,33],[6,22,25,28],[10,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"isInitialized",value:function(){if(!this.initialized){var e=mf("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"confirmOnlineStateOrThrow",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.core.relayer.confirmOnlineStateOrThrow();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"registerRelayerEvents",value:function(){var e=this;this.client.core.relayer.on(wv,(function(t){e.onProviderMessageEvent(t)}))}},{key:"onRelayMessage",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topic,r=t.message,i=t.attestation,o=t.transportType,a=this.client.auth.authKeys.keys.includes(Py)?this.client.auth.authKeys.get(Py):{responseTopic:void 0,publicKey:void 0},s=a.publicKey,e.prev=1,e.next=4,this.client.core.crypto.decode(n,r,{receiverPublicKey:s,encoding:o===Pv?Md:Ud});case 4:if(!ev(c=e.sent)){e.next=11;break}return this.client.core.history.set(n,c),e.next=9,this.onRelayEventRequest({topic:n,payload:c,attestation:i,transportType:o,encryptedId:qd(r)});case 9:e.next=21;break;case 11:if(!tv(c)){e.next=19;break}return e.next=14,this.client.core.history.resolve(c);case 14:return e.next=16,this.onRelayEventResponse({topic:n,payload:c,transportType:o});case 16:this.client.core.history.delete(n,c.id),e.next=21;break;case 19:return e.next=21,this.onRelayEventUnknownPayload({topic:n,payload:c,transportType:o});case 21:return e.next=23,this.client.core.relayer.messages.ack(n,r);case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),this.client.logger.error(e.t0);case 28:case"end":return e.stop()}}),e,this,[[1,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerExpirerEvents",value:function(){var e=this;this.client.core.expirer.on($v,function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Is(n.target),i=r.topic,!(o=r.id)||!e.client.pendingRequest.keys.includes(o)){t.next=5;break}return t.next=4,e.deletePendingSessionRequest(o,mf("EXPIRED"),!0);case 4:return t.abrupt("return",t.sent);case 5:if(!o||!e.client.auth.requests.keys.includes(o)){t.next=9;break}return t.next=8,e.deletePendingAuthRequest(o,mf("EXPIRED"),!0);case 8:return t.abrupt("return",t.sent);case 9:if(!i){t.next=17;break}if(t.t0=e.client.session.keys.includes(i),!t.t0){t.next=15;break}return t.next=14,e.deleteSession({topic:i,expirerHasDeleted:!0});case 14:e.client.events.emit("session_expire",{topic:i});case 15:t.next=22;break;case 17:if(t.t1=o,!t.t1){t.next=22;break}return t.next=21,e.deleteProposal(o,!0);case 21:e.client.events.emit("proposal_expire",{id:o});case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerPairingEvents",value:function(){var e=this;this.client.core.pairing.events.on(jv,(function(t){return e.onPairingCreated(t)})),this.client.core.pairing.events.on(zv,(function(t){e.addToRecentlyDeleted(t.topic,"pairing")}))}},{key:"isValidPairingTopic",value:function(e){if(!Zf(e,!1)){var t=mf("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e)).message;throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){var n=mf("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e)).message;throw new Error(n)}if(As(this.client.core.pairing.pairings.get(e).expiry)){var r=mf("EXPIRED","pairing topic: ".concat(e)).message;throw new Error(r)}}},{key:"isValidSessionTopic",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zf(t,!1)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","session topic should be a string: ".concat(t)),r=n.message,new Error(r);case 3:if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t)){e.next=6;break}throw i=mf("NO_MATCHING_KEY","session topic doesn't exist: ".concat(t)),o=i.message,new Error(o);case 6:if(!As(this.client.session.get(t).expiry)){e.next=11;break}return e.next=9,this.deleteSession({topic:t});case 9:throw a=mf("EXPIRED","session topic: ".concat(t)),s=a.message,new Error(s);case 11:if(this.client.core.crypto.keychain.has(t)){e.next=16;break}return c=mf("MISSING_OR_INVALID","session topic does not exist in keychain: ".concat(t)),u=c.message,e.next=15,this.deleteSession({topic:t});case 15:throw new Error(u);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isValidSessionOrPairingTopic",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){e.next=5;break}return e.next=3,this.isValidSessionTopic(t);case 3:e.next=16;break;case 5:if(!this.client.core.pairing.pairings.keys.includes(t)){e.next=9;break}this.isValidPairingTopic(t),e.next=16;break;case 9:if(!Zf(t,!1)){e.next=14;break}throw n=mf("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(t)),r=n.message,new Error(r);case 14:throw i=mf("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(t)),o=i.message,new Error(o);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isValidProposalId",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lf(t)){e.next=3;break}throw n=mf("MISSING_OR_INVALID","proposal id should be a number: ".concat(t)),r=n.message,new Error(r);case 3:if(this.client.proposal.keys.includes(t)){e.next=6;break}throw i=mf("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(t)),o=i.message,new Error(o);case 6:if(!As(this.client.proposal.get(t).expiryTimestamp)){e.next=11;break}return e.next=9,this.deleteProposal(t);case 9:throw a=mf("EXPIRED","proposal id: ".concat(t)),s=a.message,new Error(s);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(hy),zy=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r,"proposal",gy)).core=e,i.logger=r,i}return(0,_.Z)(n)}(Nb),qy=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r,"session",gy)).core=e,i.logger=r,i}return(0,_.Z)(n)}(Nb),Hy=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),i=t.call(this,e,r,"request",gy,(function(e){return e.id})),i.core=e,i.logger=r,i}return(0,_.Z)(n)}(Nb),Wy=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r,"authKeys",Ay,(function(){return Py}))).core=e,i.logger=r,i}return(0,_.Z)(n)}(Nb),Fy=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),(i=t.call(this,e,r,"pairingTopics",Ay)).core=e,i.logger=r,i}return(0,_.Z)(n)}(Nb),Vy=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),i=t.call(this,e,r,"requests",Ay,(function(e){return e.id})),i.core=e,i.logger=r,i}return(0,_.Z)(n)}(Nb),Ky=Object.defineProperty,Gy=function(e,t,n){return function(e,t,n){return t in e?Ky(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},$y=function(){function e(t,n){(0,O.Z)(this,e),this.core=t,this.logger=n,Gy(this,"authKeys"),Gy(this,"pairingTopics"),Gy(this,"requests"),this.authKeys=new Wy(this.core,this.logger),this.pairingTopics=new Fy(this.core,this.logger),this.requests=new Vy(this.core,this.logger)}return(0,_.Z)(e,[{key:"init",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authKeys.init();case 2:return e.next=4,this.pairingTopics.init();case 4:return e.next=6,this.requests.init();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Yy=Object.defineProperty,Jy=function(e,t,n){return function(e,t,n){return t in e?Yy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},Xy=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;(0,O.Z)(this,n),r=t.call(this,e),Jy((0,x.Z)(r),"protocol","wc"),Jy((0,x.Z)(r),"version",2),Jy((0,x.Z)(r),"name",wy),Jy((0,x.Z)(r),"metadata"),Jy((0,x.Z)(r),"core"),Jy((0,x.Z)(r),"logger"),Jy((0,x.Z)(r),"events",new L.EventEmitter),Jy((0,x.Z)(r),"engine"),Jy((0,x.Z)(r),"session"),Jy((0,x.Z)(r),"proposal"),Jy((0,x.Z)(r),"pendingRequest"),Jy((0,x.Z)(r),"auth"),Jy((0,x.Z)(r),"signConfig"),Jy((0,x.Z)(r),"on",(function(e,t){return r.events.on(e,t)})),Jy((0,x.Z)(r),"once",(function(e,t){return r.events.once(e,t)})),Jy((0,x.Z)(r),"off",(function(e,t){return r.events.off(e,t)})),Jy((0,x.Z)(r),"removeListener",(function(e,t){return r.events.removeListener(e,t)})),Jy((0,x.Z)(r),"removeAllListeners",(function(e){return r.events.removeAllListeners(e)})),Jy((0,x.Z)(r),"connect",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.connect(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"pair",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.pair(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"approve",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.approve(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"reject",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.reject(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"update",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.update(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"extend",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.extend(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"request",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.request(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"respond",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.respond(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"ping",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.ping(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"emit",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.emit(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"disconnect",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.disconnect(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"find",(function(e){try{return r.engine.find(e)}catch(ep){throw r.logger.error(ep.message),ep}})),Jy((0,x.Z)(r),"getPendingSessionRequests",(function(){try{return r.engine.getPendingSessionRequests()}catch(nt){throw r.logger.error(nt.message),nt}})),Jy((0,x.Z)(r),"authenticate",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.authenticate(t,n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"formatAuthMessage",(function(e){try{return r.engine.formatAuthMessage(e)}catch(ep){throw r.logger.error(ep.message),ep}})),Jy((0,x.Z)(r),"approveSessionAuthenticate",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.approveSessionAuthenticate(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Jy((0,x.Z)(r),"rejectSessionAuthenticate",function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.rejectSessionAuthenticate(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),r.name=(null===e||void 0===e?void 0:e.name)||wy,r.metadata=gs(null===e||void 0===e?void 0:e.metadata),r.signConfig=null===e||void 0===e?void 0:e.signConfig;var i=typeof(null===e||void 0===e?void 0:e.logger)<"u"&&"string"!=typeof(null===e||void 0===e?void 0:e.logger)?e.logger:Wp()(ch({level:(null===e||void 0===e?void 0:e.logger)||my}));return r.core=(null===e||void 0===e?void 0:e.core)||new ly(e),r.logger=ph(i,r.name),r.session=new qy(r.core,r.logger),r.proposal=new zy(r.core,r.logger),r.pendingRequest=new Hy(r.core,r.logger),r.engine=new Dy((0,x.Z)(r)),r.auth=new $y(r.core,r.logger),r}return(0,_.Z)(n,[{key:"context",get:function(){return dh(this.logger)}},{key:"pairing",get:function(){return this.core.pairing.pairings}},{key:"initialize",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.core.start();case 4:return e.next=6,this.session.init();case 6:return e.next=8,this.proposal.init();case 8:return e.next=10,this.pendingRequest.init();case 10:return e.next=12,this.auth.init();case 12:return e.next=14,this.engine.init();case 14:this.logger.info("SignClient Initialization Success"),setTimeout((function(){t.engine.processRelayMessageCache()}),(0,$.toMiliseconds)($.ONE_SECOND)),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(1),this.logger.info("SignClient Initialization Failure"),this.logger.error(e.t0.message),e.t0;case 21:case"end":return e.stop()}}),e,this,[[1,18]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"init",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new n(t),e.next=3,r.initialize();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(py),Qy=n(68524),ex=n.n(Qy),tx=Object.defineProperty,nx=Object.defineProperties,rx=Object.getOwnPropertyDescriptors,ix=Object.getOwnPropertySymbols,ox=Object.prototype.hasOwnProperty,ax=Object.prototype.propertyIsEnumerable,sx=function(e,t,n){return t in e?tx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},cx=function(e,t){for(var n in t||(t={}))ox.call(t,n)&&sx(e,n,t[n]);if(ix){var r,i=(0,R.Z)(ix(t));try{for(i.s();!(r=i.n()).done;){n=r.value;ax.call(t,n)&&sx(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},ux=function(e,t){return nx(e,rx(t))},lx={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},dx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,O.Z)(this,e),this.url=t,this.disableProviderPing=n,this.events=new L.EventEmitter,this.isAvailable=!1,this.registering=!1,!Yh(t))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(t));this.url=t,this.disableProviderPing=n}return(0,_.Z)(e,[{key:"connected",get:function(){return this.isAvailable}},{key:"connecting",get:function(){return this.registering}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAvailable){e.next=2;break}throw new Error("Connection already closed");case 2:this.onClose();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.isAvailable,e.t0){e.next=4;break}return e.next=4,this.register();case 4:return e.prev=4,n=Et(t),e.next=8,ex()(this.url,ux(cx({},lx),{body:n}));case 8:return e.next=10,e.sent.json();case 10:r=e.sent,this.onPayload({data:r}),e.next=17;break;case 14:e.prev=14,e.t1=e.catch(4),this.onError(t.id,e.t1);case 17:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i,o=this,a=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yh(t=a.length>0&&void 0!==a[0]?a[0]:this.url)){e.next=3;break}throw new Error("Provided URL is not compatible with HTTP connection: ".concat(t));case 3:if(!this.registering){e.next=6;break}return n=this.events.getMaxListeners(),e.abrupt("return",((this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((function(e,t){o.events.once("register_error",(function(e){o.resetMaxListeners(),t(e)})),o.events.once("open",(function(){if(o.resetMaxListeners(),typeof o.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()}))}))));case 6:if(this.url=t,this.registering=!0,e.prev=7,this.disableProviderPing){e.next=12;break}return r=Et({id:1,jsonrpc:"2.0",method:"test",params:[]}),e.next=12,ex()(t,ux(cx({},lx),{body:r}));case 12:this.onOpen(),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(7),i=this.parseError(e.t0),this.events.emit("register_error",i),this.onClose(),i;case 19:case"end":return e.stop()}}),e,this,[[7,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"onOpen",value:function(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}},{key:"onPayload",value:function(e){if(!(typeof e.data>"u")){var t="string"==typeof e.data?Ct(e.data):e.data;this.events.emit("payload",t)}}},{key:"onError",value:function(e,t){var n=this.parseError(t),r=Wh(e,n.message||n.toString());this.events.emit("payload",r)}},{key:"parseError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return Mh(e,t,"HTTP")}},{key:"resetMaxListeners",value:function(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}]),e}(),fx="error",px="".concat("wc","@2:").concat("universal_provider",":"),hx="https://rpc.walletconnect.org/v1/",vx="generic",gx="".concat(hx,"bundler"),wx="default_chain_changed";function mx(){}function bx(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function yx(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xx(e){return"object"==typeof e&&null!==e}function kx(e){return Object.getOwnPropertySymbols(e).filter((function(t){return Object.prototype.propertyIsEnumerable.call(e,t)}))}function Zx(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Cx="[object String]",Ex="[object Number]",Ix="[object Boolean]",Sx="[object Arguments]";function Ax(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=null===i||void 0===i?void 0:i(e,t,n,r);if(null!=o)return o;if(bx(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){var a=new Array(e.length);r.set(e,a);for(var s=0;s<e.length;s++)a[s]=Ax(e[s],s,n,r,i);return Object.hasOwn(e,"index")&&(a.index=e.index),Object.hasOwn(e,"input")&&(a.input=e.input),a}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var c=new RegExp(e.source,e.flags);return c.lastIndex=e.lastIndex,c}if(e instanceof Map){var u=new Map;r.set(e,u);var l,d=(0,R.Z)(e);try{for(d.s();!(l=d.n()).done;){var f=(0,S.Z)(l.value,2),p=f[0],h=f[1];u.set(p,Ax(h,p,n,r,i))}}catch(I){d.e(I)}finally{d.f()}return u}if(e instanceof Set){var v=new Set;r.set(e,v);var g,w=(0,R.Z)(e);try{for(w.s();!(g=w.n()).done;){var m=g.value;v.add(Ax(m,void 0,n,r,i))}}catch(I){w.e(I)}finally{w.f()}return v}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(yx(e)){var b=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,b);for(var y=0;y<e.length;y++)b[y]=Ax(e[y],y,n,r,i);return b}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){var x=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,x),Px(x,e,n,r,i),x}if(typeof File<"u"&&e instanceof File){var k=new File([e],e.name,{type:e.type});return r.set(e,k),Px(k,e,n,r,i),k}if(e instanceof Blob){var Z=new Blob([e],{type:e.type});return r.set(e,Z),Px(Z,e,n,r,i),Z}if(e instanceof Error){var C=new e.constructor;return r.set(e,C),C.message=e.message,C.name=e.name,C.stack=e.stack,C.cause=e.cause,Px(C,e,n,r,i),C}if("object"==typeof e&&Ox(e)){var E=Object.create(Object.getPrototypeOf(e));return r.set(e,E),Px(E,e,n,r,i),E}return e}function Px(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=[].concat((0,N.Z)(Object.keys(t)),(0,N.Z)(kx(t))),a=0;a<o.length;a++){var s=o[a],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=Ax(t[s],s,n,r,i))}}function Ox(e){switch(Zx(e)){case Sx:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case Ix:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case Ex:case"[object Object]":case"[object RegExp]":case"[object Set]":case Cx:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}function _x(e,t){return function(e,t){return Ax(e,void 0,e,new Map,t)}(e,(function(n,r,i,o){var a=null===t||void 0===t?void 0:t(n,r,i,o);if(null!=a)return a;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case Ex:case Cx:case Ix:var s=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return Px(s,e),s;case Sx:var c={};return Px(c,e),c.length=e.length,c[Symbol.iterator]=e[Symbol.iterator],c;default:return}}))}function Nx(e){return _x(e)}function Tx(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===Zx(e)}function Rx(e){return yx(e)}function Lx(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t,n=e[Symbol.toStringTag];return!(null==n||null===(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))||void 0===t||!t.writable)&&e.toString()==="[object ".concat(n,"]")}for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function Bx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=n.slice(0,-1),o=n[n.length-1],a=e,s=0;s<i.length;s++){var c=i[s];a=Ux(a,c,o,new Map)}return a}function Ux(e,t,n,r){if(bx(e)&&(e=Object(e)),null==t||"object"!=typeof t)return e;if(r.has(t))return function(e){if(bx(e))return e;if(Array.isArray(e)||yx(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);var t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){var r=new n(e);return r.lastIndex=e.lastIndex,r}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){var i=new n(e.message);return i.stack=e.stack,i.name=e.name,i.cause=e.cause,i}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if("object"==typeof e){var o=Object.create(t);return Object.assign(o,e)}return e}(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(var i=0;i<t.length;i++){var o;t[i]=null!==(o=t[i])&&void 0!==o?o:void 0}}for(var a=[].concat((0,N.Z)(Object.keys(t)),(0,N.Z)(kx(t))),s=0;s<a.length;s++){var c=a[s],u=t[c],l=e[c];if(Tx(u)&&(u=(0,I.Z)({},u)),Tx(l)&&(l=(0,I.Z)({},l)),typeof Buffer<"u"&&Buffer.isBuffer(u)&&(u=Nx(u)),Array.isArray(u))if("object"==typeof l&&null!=l){for(var d=[],f=Reflect.ownKeys(l),p=0;p<f.length;p++){var h=f[p];d[h]=l[h]}l=d}else l=[];var v=n(l,u,c,e,t,r);null!=v?e[c]=v:Array.isArray(u)||xx(l)&&xx(u)?e[c]=Ux(l,u,n,r):null==l&&Lx(u)?e[c]=Ux({},u,n,r):null==l&&Rx(u)?e[c]=Nx(u):(void 0===l||void 0!==u)&&(e[c]=u)}return e}function Mx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Bx.apply(void 0,[e].concat(n,[mx]))}var jx=Object.defineProperty,Dx=Object.defineProperties,zx=Object.getOwnPropertyDescriptors,qx=Object.getOwnPropertySymbols,Hx=Object.prototype.hasOwnProperty,Wx=Object.prototype.propertyIsEnumerable,Fx=function(e,t,n){return t in e?jx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Vx=function(e,t){for(var n in t||(t={}))Hx.call(t,n)&&Fx(e,n,t[n]);if(qx){var r,i=(0,R.Z)(qx(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Wx.call(t,n)&&Fx(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},Kx=function(e,t){return Dx(e,zx(t))};function Gx(e,t,n){var r,i=$a(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||"".concat(hx,"?chainId=").concat(i.namespace,":").concat(i.reference,"&projectId=").concat(n)}function $x(e){return e.includes(":")?e.split(":")[1]:e}function Yx(e){return e.map((function(e){return"".concat(e.split(":")[0],":").concat(e.split(":")[1])}))}function Jx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Xx(e),r=Xx(t);return Mx(n,r)}function Xx(e){var t,n,r,i,o={};if(!xf(e))return o;for(var a=0,s=Object.entries(e);a<s.length;a++){var c=(0,S.Z)(s[a],2),u=c[0],l=c[1],d=pf(u)?[u]:l.chains,f=l.methods||[],p=l.events||[],h=l.rpcMap||{},v=hf(u);o[v]=Kx(Vx(Vx({},o[v]),l),{chains:Os(d,null==(t=o[v])?void 0:t.chains),methods:Os(f,null==(n=o[v])?void 0:n.methods),events:Os(p,null==(r=o[v])?void 0:r.events),rpcMap:Vx(Vx({},h),null==(i=o[v])?void 0:i.rpcMap)})}return o}function Qx(e){return e.includes(":")?e.split(":")[2]:e}function ek(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=(0,S.Z)(r[n],2),o=i[0],a=i[1],s=a.methods||[],c=a.events||[],u=a.accounts||[],l=pf(o)?[o]:a.chains?a.chains:Yx(a.accounts);t[o]={chains:l,methods:s,events:c,accounts:u}}return t}function tk(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}var nk,rk,ik,ok,ak,sk,ck,uk,lk,dk,fk,pk,hk,vk,gk,wk,mk,bk,yk,xk,kk,Zk,Ck,Ek,Ik,Sk,Ak,Pk,Ok,_k,Nk,Tk,Rk,Lk,Bk,Uk,Mk,jk,Dk,zk,qk,Hk,Wk,Fk,Vk,Kk,Gk,$k,Yk,Jk,Xk,Qk,eZ,tZ,nZ,rZ,iZ,oZ,aZ,sZ,cZ,uZ,lZ,dZ,fZ,pZ,hZ,vZ,gZ,wZ,mZ,bZ,yZ,xZ,kZ,ZZ,CZ,EZ,IZ,SZ,AZ,PZ,OZ,_Z,NZ,TZ,RZ,LZ,BZ,UZ,MZ,jZ,DZ,zZ,qZ,HZ,WZ,FZ,VZ,KZ,GZ,$Z,YZ,JZ,XZ,QZ,eC,tC,nC,rC,iC,oC,aC,sC,cC,uC,lC,dC,fC,pC,hC,vC,gC,wC,mC,bC,yC,xC,kC,ZC,CC,EC,IC,SC,AC,PC,OC,_C,NC,TC,RC,LC,BC,UC,MC,jC,DC,zC,qC,HC,WC,FC,VC,KC,GC,$C,YC,JC,XC,QC,eE,tE,nE,rE,iE,oE,aE,sE,cE,uE,lE,dE,fE,pE,hE,vE,gE,wE,mE,bE,yE,xE,kE,ZE,CE,EE,IE,SE,AE,PE,OE,_E,NE,TE,RE,LE,BE,UE,ME,jE,DE,zE,qE,HE,WE,FE,VE,KE,GE,$E,YE,JE,XE,QE,eI,tI,nI,rI,iI,oI,aI,sI,cI,uI,lI,dI,fI,pI,hI,vI,gI,wI,mI,bI,yI,xI,kI,ZI,CI,EI,II,SI,AI,PI,OI,_I,NI,TI,RI,LI,BI,UI,MI,jI,DI,zI,qI,HI,WI,FI,VI,KI,GI,$I,YI,JI,XI,QI,eS,tS,nS,rS,iS,oS,aS,sS,cS,uS,lS,dS,fS,pS,hS,vS,gS,wS,mS,bS,yS,xS,kS,ZS,CS,ES,IS,SS,AS,PS,OS,_S,NS,TS,RS,LS,BS,US,MS,jS,DS,zS,qS,HS,WS,FS,VS,KS,GS,$S,YS,JS,XS,QS,eA,tA,nA,rA,iA,oA,aA,sA,cA,uA,lA,dA,fA,pA,hA,vA,gA,wA,mA,bA,yA,xA,kA,ZA,CA,EA,IA,SA,AA={},PA=function(e){return AA[e]},OA=function(e,t){AA[e]=t},_A=Object.defineProperty,NA=function(e,t,n){return function(e,t,n){return t in e?_A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},TA=function(){function e(t){(0,O.Z)(this,e),NA(this,"name","polkadot"),NA(this,"client"),NA(this,"httpProviders"),NA(this,"events"),NA(this,"namespace"),NA(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(wx,"".concat(this.name,":").concat(e))}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t&&t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]}))||[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){var r,i=$x(n);t[i]=e.createHttpProvider(i,null==(r=e.namespace.rpcMap)?void 0:r[n])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new iv(new dx(n,PA("disableProviderPing")))}}]),e}(),RA=Object.defineProperty,LA=Object.defineProperties,BA=Object.getOwnPropertyDescriptors,UA=Object.getOwnPropertySymbols,MA=Object.prototype.hasOwnProperty,jA=Object.prototype.propertyIsEnumerable,DA=function(e,t,n){return t in e?RA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},zA=function(e,t){for(var n in t||(t={}))MA.call(t,n)&&DA(e,n,t[n]);if(UA){var r,i=(0,R.Z)(UA(t));try{for(i.s();!(r=i.n()).done;){n=r.value;jA.call(t,n)&&DA(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},qA=function(e,t){return LA(e,BA(t))},HA=function(e,t,n){return DA(e,"symbol"!=typeof t?t+"":t,n)},WA=function(){function e(t){(0,O.Z)(this,e),HA(this,"name","eip155"),HA(this,"client"),HA(this,"chainId"),HA(this,"namespace"),HA(this,"httpProviders"),HA(this,"events"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}return(0,_.Z)(e,[{key:"request",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.request.method,e.next="eth_requestAccounts"===e.t0?3:"eth_accounts"===e.t0?4:"wallet_switchEthereumChain"===e.t0?5:"eth_chainId"===e.t0?8:"wallet_getCapabilities"===e.t0?9:"wallet_getCallsStatus"===e.t0?12:15;break;case 3:case 4:return e.abrupt("return",this.getAccounts());case 5:return e.next=7,this.handleSwitchChain(t);case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",parseInt(this.getDefaultChain()));case 9:return e.next=11,this.getCapabilities(t);case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,this.getCallStatus(t);case 14:return e.abrupt("return",e.sent);case 15:if(!this.namespace.methods.includes(t.request.method)){e.next=21;break}return e.next=18,this.client.request(t);case 18:e.t1=e.sent,e.next=22;break;case 21:e.t1=this.getHttpProvider().request(t.request);case 22:return e.abrupt("return",e.t1);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(wx,"".concat(this.name,":").concat(e))}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new iv(new dx(n,PA("disableProviderPing")))}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){var r,i=parseInt($x(n));t[i]=e.createHttpProvider(i,null==(r=e.namespace.rpcMap)?void 0:r[n])})),t}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?(0,N.Z)(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"getHttpProvider",value:function(){var e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"handleSwitchChain",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(i=t.request.params?null==(n=t.request.params[0])?void 0:n.chainId:"0x0").startsWith("0x")?i:"0x".concat(i),o=parseInt(i,16),!this.isChainApproved(o)){e.next=7;break}this.setDefaultChain("".concat(o)),e.next=14;break;case 7:if(!this.namespace.methods.includes("wallet_switchEthereumChain")){e.next=13;break}return e.next=10,this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:i}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]});case 10:this.setDefaultChain("".concat(o)),e.next=14;break;case 13:throw new Error("Failed to switch to chain 'eip155:".concat(o,"'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method."));case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isChainApproved",value:function(e){return this.namespace.chains.includes("".concat(this.name,":").concat(e))}},{key:"getCapabilities",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null==(r=null==(n=t.request)?void 0:n.params)?void 0:r[0]){e.next=3;break}throw new Error("Missing address parameter in `wallet_getCapabilities` request");case 3:if(a=this.client.session.get(t.topic),null==(s=(null==(i=null===a||void 0===a?void 0:a.sessionProperties)?void 0:i.capabilities)||{})||!s[o]){e.next=6;break}return e.abrupt("return",null===s||void 0===s?void 0:s[o]);case 6:return e.next=8,this.client.request(t);case 8:return c=e.sent,e.prev=9,e.next=12,this.client.session.update(t.topic,{sessionProperties:qA(zA({},a.sessionProperties||{}),{capabilities:qA(zA({},s||{}),(0,T.Z)({},o,c))})});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.warn("Failed to update session with capabilities",e.t0);case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e,this,[[9,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCallStatus",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.client.session.get(t.topic),!(o=null==(n=i.sessionProperties)?void 0:n.bundler_name)){e.next=12;break}return a=this.getBundlerUrl(t.chainId,o),e.prev=3,e.next=6,this.getUserOperationReceipt(a,t);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn("Failed to fetch call status from bundler",e.t0,a);case 12:if(!(s=null==(r=i.sessionProperties)?void 0:r.bundler_url)){e.next=23;break}return e.prev=14,e.next=17,this.getUserOperationReceipt(s,t);case 17:return e.abrupt("return",e.sent);case 20:e.prev=20,e.t1=e.catch(14),console.warn("Failed to fetch call status from custom bundler",e.t1,s);case 23:if(!this.namespace.methods.includes(t.request.method)){e.next=27;break}return e.next=26,this.client.request(t);case 26:return e.abrupt("return",e.sent);case 27:throw new Error("Fetching call status not approved by the wallet.");case 28:case"end":return e.stop()}}),e,this,[[3,9],[14,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserOperationReceipt",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new URL(t),e.next=3,fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qh("eth_getUserOperationReceipt",[null==(r=n.request.params)?void 0:r[0]]))});case 3:if((o=e.sent).ok){e.next=6;break}throw new Error("Failed to fetch user operation receipt - ".concat(o.status));case 6:return e.next=8,o.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBundlerUrl",value:function(e,t){return"".concat(gx,"?projectId=").concat(this.client.core.projectId,"&chainId=").concat(e,"&bundler=").concat(t)}}]),e}(),FA=Object.defineProperty,VA=function(e,t,n){return function(e,t,n){return t in e?FA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},KA=function(){function e(t){(0,O.Z)(this,e),VA(this,"name","solana"),VA(this,"client"),VA(this,"httpProviders"),VA(this,"events"),VA(this,"namespace"),VA(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(wx,"".concat(this.name,":").concat(e))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?(0,N.Z)(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){var r,i=$x(n);t[i]=e.createHttpProvider(i,null==(r=e.namespace.rpcMap)?void 0:r[n])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new iv(new dx(n,PA("disableProviderPing")))}}]),e}(),GA=Object.defineProperty,$A=function(e,t,n){return function(e,t,n){return t in e?GA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},YA=function(){function e(t){(0,O.Z)(this,e),$A(this,"name","cosmos"),$A(this,"client"),$A(this,"httpProviders"),$A(this,"events"),$A(this,"namespace"),$A(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(wx,"".concat(this.name,":").concat(this.chainId))}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?(0,N.Z)(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){var r,i=$x(n);t[i]=e.createHttpProvider(i,null==(r=e.namespace.rpcMap)?void 0:r[n])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new iv(new dx(n,PA("disableProviderPing")))}}]),e}(),JA=Object.defineProperty,XA=function(e,t,n){return function(e,t,n){return t in e?JA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},QA=function(){function e(t){(0,O.Z)(this,e),XA(this,"name","algorand"),XA(this,"client"),XA(this,"httpProviders"),XA(this,"events"),XA(this,"namespace"),XA(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){if(!this.httpProviders[e]){var n=t||Gx("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(wx,"".concat(this.name,":").concat(this.chainId))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?(0,N.Z)(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){var r;t[n]=e.createHttpProvider(n,null==(r=e.namespace.rpcMap)?void 0:r[n])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new iv(new dx(n,PA("disableProviderPing")))}}]),e}(),eP=Object.defineProperty,tP=function(e,t,n){return function(e,t,n){return t in e?eP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},nP=function(){function e(t){(0,O.Z)(this,e),tP(this,"name","cip34"),tP(this,"client"),tP(this,"httpProviders"),tP(this,"events"),tP(this,"namespace"),tP(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(wx,"".concat(this.name,":").concat(this.chainId))}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?(0,N.Z)(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){var r=e.getCardanoRPCUrl(n),i=$x(n);t[i]=e.createHttpProvider(i,r)})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"getCardanoRPCUrl",value:function(e){var t=this.namespace.rpcMap;if(t)return t[e]}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||this.getCardanoRPCUrl(e);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new iv(new dx(n,PA("disableProviderPing")))}}]),e}(),rP=Object.defineProperty,iP=function(e,t,n){return function(e,t,n){return t in e?rP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},oP=function(){function e(t){(0,O.Z)(this,e),iP(this,"name","elrond"),iP(this,"client"),iP(this,"httpProviders"),iP(this,"events"),iP(this,"namespace"),iP(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(wx,"".concat(this.name,":").concat(e))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?(0,N.Z)(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){var r,i=$x(n);t[i]=e.createHttpProvider(i,null==(r=e.namespace.rpcMap)?void 0:r[n])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new iv(new dx(n,PA("disableProviderPing")))}}]),e}(),aP=Object.defineProperty,sP=function(e,t,n){return function(e,t,n){return t in e?aP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},cP=function(){function e(t){(0,O.Z)(this,e),sP(this,"name","multiversx"),sP(this,"client"),sP(this,"httpProviders"),sP(this,"events"),sP(this,"namespace"),sP(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(wx,"".concat(this.name,":").concat(e))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?(0,N.Z)(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){var r,i=$x(n);t[i]=e.createHttpProvider(i,null==(r=e.namespace.rpcMap)?void 0:r[n])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new iv(new dx(n,PA("disableProviderPing")))}}]),e}(),uP=Object.defineProperty,lP=function(e,t,n){return function(e,t,n){return t in e?uP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},dP=function(){function e(t){(0,O.Z)(this,e),lP(this,"name","near"),lP(this,"client"),lP(this,"httpProviders"),lP(this,"events"),lP(this,"namespace"),lP(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){if(this.chainId=e,!this.httpProviders[e]){var n=t||Gx("".concat(this.name,":").concat(e),this.namespace);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));this.setHttpProvider(e,n)}this.events.emit(wx,"".concat(this.name,":").concat(this.chainId))}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t&&t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]}))||[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){var r;t[n]=e.createHttpProvider(n,null==(r=e.namespace.rpcMap)?void 0:r[n])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx(e,this.namespace);return typeof n>"u"?void 0:new iv(new dx(n,PA("disableProviderPing")))}}]),e}(),fP=Object.defineProperty,pP=function(e,t,n){return function(e,t,n){return t in e?fP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},hP=function(){function e(t){(0,O.Z)(this,e),pP(this,"name","tezos"),pP(this,"client"),pP(this,"httpProviders"),pP(this,"events"),pP(this,"namespace"),pP(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){if(this.chainId=e,!this.httpProviders[e]){var n=t||Gx("".concat(this.name,":").concat(e),this.namespace);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));this.setHttpProvider(e,n)}this.events.emit(wx,"".concat(this.name,":").concat(this.chainId))}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t&&t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]}))||[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(n){t[n]=e.createHttpProvider(n)})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx(e,this.namespace);return typeof n>"u"?void 0:new iv(new dx(n))}}]),e}(),vP=Object.defineProperty,gP=function(e,t,n){return function(e,t,n){return t in e?vP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},wP=function(){function e(t){(0,O.Z)(this,e),gP(this,"name",vx),gP(this,"client"),gP(this,"httpProviders"),gP(this,"events"),gP(this,"namespace"),gP(this,"chainId"),this.namespace=t.namespace,this.events=PA("events"),this.client=PA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return(0,_.Z)(e,[{key:"updateNamespace",value:function(e){this.namespace.chains=(0,N.Z)(new Set((this.namespace.chains||[]).concat(e.chains||[]))),this.namespace.accounts=(0,N.Z)(new Set((this.namespace.accounts||[]).concat(e.accounts||[]))),this.namespace.methods=(0,N.Z)(new Set((this.namespace.methods||[]).concat(e.methods||[]))),this.namespace.events=(0,N.Z)(new Set((this.namespace.events||[]).concat(e.events||[]))),this.httpProviders=this.createHttpProviders()}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(wx,"".concat(this.name,":").concat(e))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?(0,N.Z)(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e,t,n=this,r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach((function(e){var t=$a(e);r["".concat(t.namespace,":").concat(t.reference)]=n.createHttpProvider(e)})),r}},{key:"getHttpProvider",value:function(e){var t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}},{key:"createHttpProvider",value:function(e,t){var n=t||Gx(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new iv(new dx(n,PA("disableProviderPing")))}}]),e}(),mP=Object.defineProperty,bP=Object.defineProperties,yP=Object.getOwnPropertyDescriptors,xP=Object.getOwnPropertySymbols,kP=Object.prototype.hasOwnProperty,ZP=Object.prototype.propertyIsEnumerable,CP=function(e,t,n){return t in e?mP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},EP=function(e,t){for(var n in t||(t={}))kP.call(t,n)&&CP(e,n,t[n]);if(xP){var r,i=(0,R.Z)(xP(t));try{for(i.s();!(r=i.n()).done;){n=r.value;ZP.call(t,n)&&CP(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},IP=function(e,t){return bP(e,yP(t))},SP=function(e,t,n){return CP(e,"symbol"!=typeof t?t+"":t,n)},AP=function(){function e(t){(0,O.Z)(this,e),SP(this,"client"),SP(this,"namespaces"),SP(this,"optionalNamespaces"),SP(this,"sessionProperties"),SP(this,"scopedProperties"),SP(this,"events",new(B())),SP(this,"rpcProviders",{}),SP(this,"session"),SP(this,"providerOpts"),SP(this,"logger"),SP(this,"uri"),SP(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof(null===t||void 0===t?void 0:t.logger)<"u"&&"string"!=typeof(null===t||void 0===t?void 0:t.logger)?t.logger:Wp()(ch({level:(null===t||void 0===t?void 0:t.logger)||fx})),this.disableProviderPing=(null===t||void 0===t?void 0:t.disableProviderPing)||!1}return(0,_.Z)(e,[{key:"request",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var i,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.validateChain(n),o=(0,S.Z)(i,2),a=o[0],s=o[1],this.session){e.next=3;break}throw new Error("Please call connect() before request()");case 3:return e.next=5,this.getProvider(a).request({request:EP({},t),chainId:"".concat(a,":").concat(s),topic:this.session.topic,expiry:r});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"sendAsync",value:function(e,t,n,r){var i=(new Date).getTime();this.request(e,n,r).then((function(e){return t(null,Hh(i,e))})).catch((function(e){return t(e,void 0)}))}},{key:"enable",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}throw new Error("Sign Client not initialized");case 2:if(e.t0=this.session,e.t0){e.next=6;break}return e.next=6,this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});case 6:return e.next=8,this.requestAccounts();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.session){e.next=2;break}throw new Error("Please call connect() before enable()");case 2:return e.next=4,this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:bf("USER_DISCONNECTED")});case 4:return e.next=6,this.cleanup();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}throw new Error("Sign Client not initialized");case 2:return this.setNamespaces(t),e.next=5,this.cleanupPendingPairings();case 5:if(t.skipPairing){e.next=9;break}return e.next=8,this.pair(t.pairingTopic);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}throw new Error("Sign Client not initialized");case 2:return this.setNamespaces(t),e.next=5,this.cleanupPendingPairings();case 5:return e.next=7,this.client.authenticate(t,n);case 7:return r=e.sent,i=r.uri,o=r.response,i&&(this.uri=i,this.events.emit("display_uri",i)),e.next=13,o();case 13:if(a=e.sent,this.session=a.session,!this.session){e.next=20;break}return s=ek(this.session.namespaces),this.namespaces=Jx(this.namespaces,s),e.next=19,this.persist("namespaces",this.namespaces);case 19:this.onConnect();case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"isWalletConnect",get:function(){return!0}},{key:"pair",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});case 2:return n=e.sent,r=n.uri,i=n.approval,r&&(this.uri=r,this.events.emit("display_uri",r)),e.next=8,i();case 8:return o=e.sent,this.session=o,a=ek(o.namespaces),this.namespaces=Jx(this.namespaces,a),e.next=14,this.persist("namespaces",this.namespaces);case 14:return e.next=16,this.persist("optionalNamespaces",this.optionalNamespaces);case 16:return this.onConnect(),e.abrupt("return",this.session);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultChain",value:function(e,t){try{if(!this.session)return;var n=this.validateChain(e),r=(0,S.Z)(n,2),i=r[0],o=r[1],a=this.getProvider(i);a.name===vx?a.setDefaultChain("".concat(i,":").concat(o),t):a.setDefaultChain(o,t)}catch(i){if(!/Please call connect/.test(i.message))throw i}}},{key:"cleanupPendingPairings",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i,o,a=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},this.logger.info("Cleaning up inactive pairings..."),!yf(n=this.client.pairing.getAll())){e.next=26;break}r=(0,R.Z)(n),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=17;break}if(o=i.value,!t.deletePairings){e.next=13;break}this.client.core.expirer.set(o.topic,0),e.next=15;break;case 13:return e.next=15,this.client.core.relayer.subscriber.unsubscribe(o.topic);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),r.e(e.t0);case 22:return e.prev=22,r.f(),e.finish(22);case 25:this.logger.info("Inactive pairings cleared: ".concat(n.length));case 26:case"end":return e.stop()}}),e,this,[[5,19,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"abortPairingAttempt",value:function(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}},{key:"checkStorage",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFromStore("namespaces");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return this.namespaces=e.t0,e.next=8,this.getFromStore("optionalNamespaces");case 8:if(e.t1=e.sent,e.t1){e.next=11;break}e.t1={};case 11:this.optionalNamespaces=e.t1,this.session&&this.createProviders();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.next=3,this.createClient();case 3:return e.next=5,this.checkStorage();case 5:this.registerEventListeners();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createClient",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.providerOpts.client,e.t0){e.next=5;break}return e.next=4,Xy.init({core:this.providerOpts.core,logger:this.providerOpts.logger||fx,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled});case 4:e.t0=e.sent;case 5:if(this.client=e.t0,!this.providerOpts.session){e.next=16;break}e.prev=7,this.session=this.client.session.get(this.providerOpts.session.topic),e.next=14;break;case 11:throw e.prev=11,e.t1=e.catch(7),this.logger.error("Failed to get session",e.t1),new Error("The provided session: ".concat(null==(n=null==(t=this.providerOpts)?void 0:t.session)?void 0:n.topic," doesn't exist in the Sign client"));case 14:e.next=18;break;case 16:r=this.client.session.getAll(),this.session=r[0];case 18:this.logger.trace("SignClient Initialized");case 19:case"end":return e.stop()}}),e,this,[[7,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"createProviders",value:function(){var e=this;if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");var t=(0,N.Z)(new Set(Object.keys(this.session.namespaces).map((function(e){return hf(e)}))));OA("client",this.client),OA("events",this.events),OA("disableProviderPing",this.disableProviderPing),t.forEach((function(t){if(e.session){var n=function(e,t){var n=Object.keys(t.namespaces).filter((function(t){return t.includes(e)}));if(!n.length)return[];var r=[];return n.forEach((function(e){var n=t.namespaces[e].accounts;r.push.apply(r,(0,N.Z)(n))})),r}(t,e.session),r=Yx(n),i=Jx(e.namespaces,e.optionalNamespaces),o=IP(EP({},i[t]),{accounts:n,chains:r});switch(t){case"eip155":e.rpcProviders[t]=new WA({namespace:o});break;case"algorand":e.rpcProviders[t]=new QA({namespace:o});break;case"solana":e.rpcProviders[t]=new KA({namespace:o});break;case"cosmos":e.rpcProviders[t]=new YA({namespace:o});break;case"polkadot":e.rpcProviders[t]=new TA({namespace:o});break;case"cip34":e.rpcProviders[t]=new nP({namespace:o});break;case"elrond":e.rpcProviders[t]=new oP({namespace:o});break;case"multiversx":e.rpcProviders[t]=new cP({namespace:o});break;case"near":e.rpcProviders[t]=new dP({namespace:o});break;case"tezos":e.rpcProviders[t]=new hP({namespace:o});break;default:e.rpcProviders.generic?e.rpcProviders.generic.updateNamespace(o):e.rpcProviders.generic=new wP({namespace:o})}}}))}},{key:"registerEventListeners",value:function(){var e=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(function(t){var n;t.topic===(null==(n=e.session)?void 0:n.topic)&&e.events.emit("session_ping",t)})),this.client.on("session_event",(function(t){var n,r=t.params;if(t.topic===(null==(n=e.session)?void 0:n.topic)){var i=r.event;if("accountsChanged"===i.name){var o=i.data;o&&yf(o)&&e.events.emit("accountsChanged",o.map(Qx))}else if("chainChanged"===i.name){var a=r.chainId,s=r.event.data,c=hf(a),u=tk(a)!==tk(s)?"".concat(c,":").concat(tk(s)):a;e.onChainChanged(u)}else e.events.emit(i.name,i.data);e.events.emit("session_event",t)}})),this.client.on("session_update",(function(t){var n,r,i=t.topic,o=t.params;if(i===(null==(n=e.session)?void 0:n.topic)){var a=o.namespaces,s=null==(r=e.client)?void 0:r.session.get(i);e.session=IP(EP({},s),{namespaces:a}),e.onSessionUpdate(),e.events.emit("session_update",{topic:i,params:o})}})),this.client.on("session_delete",function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n.topic===(null==(r=e.session)?void 0:r.topic),!t.t0){t.next=6;break}return t.next=4,e.cleanup();case 4:e.events.emit("session_delete",n),e.events.emit("disconnect",IP(EP({},bf("USER_DISCONNECTED")),{data:n.topic}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.on(wx,(function(t){e.onChainChanged(t,!0)}))}},{key:"getProvider",value:function(e){return this.rpcProviders[e]||this.rpcProviders.generic}},{key:"onSessionUpdate",value:function(){var e=this;Object.keys(this.rpcProviders).forEach((function(t){var n;e.getProvider(t).updateNamespace(null==(n=e.session)?void 0:n.namespaces[t])}))}},{key:"setNamespaces",value:function(e){var t=e.namespaces,n=e.optionalNamespaces,r=e.sessionProperties,i=e.scopedProperties;t&&Object.keys(t).length&&(this.namespaces=t),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=r,this.scopedProperties=i}},{key:"validateChain",value:function(e){var t=(null===e||void 0===e?void 0:e.split(":"))||["",""],n=(0,S.Z)(t,2),r=n[0],i=n[1];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,i];if(r&&!Object.keys(this.namespaces||{}).map((function(e){return hf(e)})).includes(r))throw new Error("Namespace '".concat(r,"' is not configured. Please call connect() first with namespace config."));if(r&&i)return[r,i];var o=hf(Object.keys(this.namespaces)[0]);return[o,this.rpcProviders[o].getDefaultChain()]}},{key:"requestAccounts",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.validateChain(),n=(0,S.Z)(t,1),r=n[0],e.next=3,this.getProvider(r).requestAccounts();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChainChanged",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]&&c[1],this.namespaces){e.next=3;break}return e.abrupt("return");case 3:if(r=this.validateChain(t),i=(0,S.Z)(r,2),o=i[0],a=i[1]){e.next=6;break}return e.abrupt("return");case 6:return this.updateNamespaceChain(o,a),this.events.emit("chainChanged",a),s=this.getProvider(o).getDefaultChain(),n||this.getProvider(o).setDefaultChain(a),this.emitAccountsChangedOnChainChange({namespace:o,previousChainId:s,newChainId:t}),e.next=12,this.persist("namespaces",this.namespaces);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"emitAccountsChangedOnChainChange",value:function(e){var t,n,r=e.namespace,i=e.previousChainId,o=e.newChainId;try{if(i===o)return;var a=null==(n=null==(t=this.session)?void 0:t.namespaces[r])?void 0:n.accounts;if(!a)return;var s=a.filter((function(e){return e.includes("".concat(o,":"))})).map(Qx);if(!yf(s))return;this.events.emit("accountsChanged",s)}catch(a){this.logger.warn("Failed to emit accountsChanged on chain change",a)}}},{key:"updateNamespaceChain",value:function(e,t){if(this.namespaces){var n=this.namespaces[e]?e:"".concat(e,":").concat(t),r={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=t):this.namespaces[n]=r}}},{key:"onConnect",value:function(){this.createProviders(),this.events.emit("connect",{session:this.session})}},{key:"cleanup",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,e.next=5,this.deleteFromStore("namespaces");case 5:return e.next=7,this.deleteFromStore("optionalNamespaces");case 7:return e.next=9,this.deleteFromStore("sessionProperties");case 9:return this.session=void 0,e.next=12,this.cleanupPendingPairings({deletePairings:!0});case 12:return e.next=14,this.cleanupStorage();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"persist",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null==(r=this.session)?void 0:r.topic)||"",e.next=3,this.client.core.storage.setItem("".concat(px,"/").concat(t).concat(i),n);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFromStore",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null==(n=this.session)?void 0:n.topic)||"",e.next=3,this.client.core.storage.getItem("".concat(px,"/").concat(t).concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteFromStore",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null==(n=this.session)?void 0:n.topic)||"",e.next=3,this.client.core.storage.removeItem("".concat(px,"/").concat(t).concat(r));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cleanupStorage",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((null==(t=this.client)?void 0:t.session.length)>0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.client.core.storage.getKeys();case 5:n=e.sent,r=(0,R.Z)(n),e.prev=7,r.s();case 9:if((i=r.n()).done){e.next=17;break}if(o=i.value,e.t0=o.startsWith(px),!e.t0){e.next=15;break}return e.next=15,this.client.core.storage.removeItem(o);case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(7),r.e(e.t1);case 22:return e.prev=22,r.f(),e.finish(22);case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(0),this.logger.warn("Failed to cleanup storage",e.t2);case 30:case"end":return e.stop()}}),e,this,[[0,27],[7,19,22,25]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"init",value:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new e(n),t.next=3,r.initialize();case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),PP=AP,OP=["headers","signal","cache"],_P=["headers","signal"],NP=["body","headers","signal"],TP=["body","headers","signal"],RP=["body","headers","signal"],LP=["chain","pollingInterval","timeout"],BP=["chainId","nonce"],UP="".concat("wc","@2:").concat("ethereum_provider",":"),MP=["eth_sendTransaction","personal_sign"],jP=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],DP=["chainChanged","accountsChanged"],zP=["chainChanged","accountsChanged","message","disconnect","connect"],qP=Object.defineProperty,HP=Object.defineProperties,WP=Object.getOwnPropertyDescriptors,FP=Object.getOwnPropertySymbols,VP=Object.prototype.hasOwnProperty,KP=Object.prototype.propertyIsEnumerable,GP=function(e,t,n){return t in e?qP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},$P=function(e,t){for(var n in t||(t={}))VP.call(t,n)&&GP(e,n,t[n]);if(FP){var r,i=(0,R.Z)(FP(t));try{for(i.s();!(r=i.n()).done;){n=r.value;KP.call(t,n)&&GP(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},YP=function(e,t){return HP(e,WP(t))},JP=function(e,t,n){return GP(e,"symbol"!=typeof t?t+"":t,n)};function XP(e){return Number(e[0].split(":")[1])}function QP(e){return"0x".concat(e.toString(16))}function eO(e){var t=e.chains,n=e.optionalChains,r=e.methods,i=e.optionalMethods,o=e.events,a=e.optionalEvents,s=e.rpcMap;if(!yf(t))throw new Error("Invalid chains");var c={chains:t,methods:r||MP,events:o||DP,rpcMap:$P({},t.length?(0,T.Z)({},XP(t),s[XP(t)]):{})},u=null===o||void 0===o?void 0:o.filter((function(e){return!DP.includes(e)})),l=null===r||void 0===r?void 0:r.filter((function(e){return!MP.includes(e)}));if(!n&&!a&&!i&&(null==u||!u.length)&&(null==l||!l.length))return{required:t.length?c:void 0};var d=(null===u||void 0===u?void 0:u.length)&&(null===l||void 0===l?void 0:l.length)||!n,f={chains:(0,N.Z)(new Set(d?c.chains.concat(n||[]):n)),methods:(0,N.Z)(new Set(c.methods.concat(null!=i&&i.length?i:jP))),events:(0,N.Z)(new Set(c.events.concat(null!=a&&a.length?a:zP))),rpcMap:s};return{required:t.length?c:void 0,optional:n.length?f:void 0}}var tO=function(){function e(){var t=this;(0,O.Z)(this,e),JP(this,"events",new L.EventEmitter),JP(this,"namespace","eip155"),JP(this,"accounts",[]),JP(this,"signer"),JP(this,"chainId",1),JP(this,"modal"),JP(this,"rpc"),JP(this,"STORAGE_KEY",UP),JP(this,"on",(function(e,n){return t.events.on(e,n),t})),JP(this,"once",(function(e,n){return t.events.once(e,n),t})),JP(this,"removeListener",(function(e,n){return t.events.removeListener(e,n),t})),JP(this,"off",(function(e,n){return t.events.off(e,n),t})),JP(this,"parseAccount",(function(e){return t.isCompatibleChainId(e)?t.parseAccountId(e).address:e})),this.signer={},this.rpc={}}return(0,_.Z)(e,[{key:"request",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signer.request(t,this.formatChainId(this.chainId),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendAsync",value:function(e,t,n){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),n)}},{key:"connected",get:function(){return!!this.signer.client&&this.signer.client.core.relayer.connected}},{key:"connecting",get:function(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}},{key:"enable",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.session,e.t0){e.next=4;break}return e.next=4,this.connect();case 4:return e.next=6,this.request({method:"eth_requestAccounts"});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.signer.client){e.next=2;break}throw new Error("Provider not initialized. Call init() first");case 2:return this.loadConnectOpts(t),r=eO(this.rpc),i=r.required,o=r.optional,e.prev=4,e.next=7,new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(n,r){var a,s,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.rpc.showQrModal&&(null==(a=c.modal)||a.open(),null==(s=c.modal)||s.subscribeState((function(e){!e.open&&!c.signer.session&&(c.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))}))),u=null!=t&&t.scopedProperties?(0,T.Z)({},c.namespace,t.scopedProperties):void 0,e.next=4,c.signer.connect(YP($P({namespaces:$P({},i&&(0,T.Z)({},c.namespace,i))},o&&{optionalNamespaces:(0,T.Z)({},c.namespace,o)}),{pairingTopic:null===t||void 0===t?void 0:t.pairingTopic,scopedProperties:u})).then((function(e){n(e)})).catch((function(e){var t;null==(t=c.modal)||t.showErrorMessage("Unable to connect"),r(new Error(e.message))}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return");case 10:s=Ya(a.namespaces,[this.namespace]),this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:QP(this.chainId)}),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(4),this.signer.logger.error(e.t0),e.t0;case 17:return e.prev=17,null==(n=this.modal)||n.close(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i,o,a,s=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.signer.client){e.next=2;break}throw new Error("Provider not initialized. Call init() first");case 2:return this.loadConnectOpts({chains:null===t||void 0===t?void 0:t.chains}),e.prev=3,e.next=6,new Promise(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(r,i){var o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.rpc.showQrModal&&(null==(o=s.modal)||o.open(),null==(a=s.modal)||a.subscribeState((function(e){!e.open&&!s.signer.session&&(s.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}))),e.next=3,s.signer.authenticate(YP($P({},t),{chains:s.rpc.chains}),n).then((function(e){r(e)})).catch((function(e){var t;null==(t=s.modal)||t.showErrorMessage("Unable to connect"),i(new Error(e.message))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:return i=e.sent,(o=i.session)&&(a=Ya(o.namespaces,[this.namespace]),this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:QP(this.chainId)})),e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(3),this.signer.logger.error(e.t0),e.t0;case 15:return e.prev=15,null==(r=this.modal)||r.close(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.session,!e.t0){e.next=4;break}return e.next=4,this.signer.disconnect();case 4:this.reset();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isWalletConnect",get:function(){return!0}},{key:"session",get:function(){return this.signer.session}},{key:"registerEventListeners",value:function(){var e=this;this.signer.on("session_event",(function(t){var n=t.params.event;"accountsChanged"===n.name?(e.accounts=e.parseAccounts(n.data),e.events.emit("accountsChanged",e.accounts)):"chainChanged"===n.name?e.setChainId(e.formatChainId(n.data)):e.events.emit(n.name,n.data),e.events.emit("session_event",t)})),this.signer.on("accountsChanged",(function(t){e.accounts=e.parseAccounts(t),e.events.emit("accountsChanged",e.accounts)})),this.signer.on("chainChanged",(function(t){var n=parseInt(t);e.chainId=n,e.events.emit("chainChanged",QP(e.chainId)),e.persist()})),this.signer.on("session_update",(function(t){e.events.emit("session_update",t)})),this.signer.on("session_delete",(function(t){e.reset(),e.events.emit("session_delete",t),e.events.emit("disconnect",YP($P({},bf("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(function(t){e.events.emit("display_uri",t)}))}},{key:"switchEthereumChain",value:function(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}},{key:"isCompatibleChainId",value:function(e){return"string"==typeof e&&e.startsWith("".concat(this.namespace,":"))}},{key:"formatChainId",value:function(e){return"".concat(this.namespace,":").concat(e)}},{key:"parseChainId",value:function(e){return Number(e.split(":")[1])}},{key:"setChainIds",value:function(e){var t=this,n=e.filter((function(e){return t.isCompatibleChainId(e)})).map((function(e){return t.parseChainId(e)}));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",QP(this.chainId)),this.persist())}},{key:"setChainId",value:function(e){if(this.isCompatibleChainId(e)){var t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}},{key:"parseAccountId",value:function(e){var t=e.split(":"),n=(0,S.Z)(t,3),r=n[0],i=n[1],o=n[2];return{chainId:"".concat(r,":").concat(i),address:o}}},{key:"setAccounts",value:function(e){var t=this;this.accounts=e.filter((function(e){return t.parseChainId(t.parseAccountId(e).chainId)===t.chainId})).map((function(e){return t.parseAccountId(e).address})),this.events.emit("accountsChanged",this.accounts)}},{key:"getRpcConfig",value:function(e){var t,n,r=this,i=null!=(t=null===e||void 0===e?void 0:e.chains)?t:[],o=null!=(n=null===e||void 0===e?void 0:e.optionalChains)?n:[],a=i.concat(o);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");var s=i.length?(null===e||void 0===e?void 0:e.methods)||MP:[],c=i.length?(null===e||void 0===e?void 0:e.events)||DP:[],u=(null===e||void 0===e?void 0:e.optionalMethods)||[],l=(null===e||void 0===e?void 0:e.optionalEvents)||[],d=(null===e||void 0===e?void 0:e.rpcMap)||this.buildRpcMap(a,e.projectId),f=(null===e||void 0===e?void 0:e.qrModalOptions)||void 0;return{chains:null===i||void 0===i?void 0:i.map((function(e){return r.formatChainId(e)})),optionalChains:o.map((function(e){return r.formatChainId(e)})),methods:s,events:c,optionalMethods:u,optionalEvents:l,rpcMap:d,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:f,projectId:e.projectId,metadata:e.metadata}}},{key:"buildRpcMap",value:function(e,t){var n=this,r={};return e.forEach((function(e){r[e]=n.getRpcUrl(e,t)})),r}},{key:"initialize",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?XP(this.rpc.chains):XP(this.rpc.optionalChains),e.next=4,PP.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storage:t.storage,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled,logger:t.logger});case 4:return this.signer=e.sent,this.registerEventListeners(),e.next=8,this.loadPersistedSession();case 8:if(!this.rpc.showQrModal){e.next=35;break}return e.prev=9,e.next=12,Promise.resolve().then((function(){return Xz}));case 12:return r=e.sent,i=r.createAppKit,e.next=16,Promise.resolve().then((function(){return lq}));case 16:if(o=e.sent,a=o.convertWCMToAppKitOptions,(s=a(YP($P({},this.rpc.qrModalOptions),{chains:(0,N.Z)(new Set([].concat((0,N.Z)(this.rpc.chains),(0,N.Z)(this.rpc.optionalChains)))),metadata:this.rpc.metadata,projectId:this.rpc.projectId}))).networks.length){e.next=21;break}throw new Error("No networks found for WalletConnect\xb7");case 21:n=i(YP($P({},s),{universalProvider:this.signer,manualWCControl:!0})),e.next=27;break;case 24:throw e.prev=24,e.t0=e.catch(9),new Error("To use QR modal, please install @reown/appkit package");case 27:if(!n){e.next=35;break}e.prev=28,this.modal=n,e.next=35;break;case 32:throw e.prev=32,e.t1=e.catch(28),this.signer.logger.error(e.t1),new Error("Could not generate WalletConnectModal Instance");case 35:case"end":return e.stop()}}),e,this,[[9,24],[28,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadConnectOpts",value:function(e){var t=this;if(e){var n=e.chains,r=e.optionalChains,i=e.rpcMap;n&&yf(n)&&(this.rpc.chains=n.map((function(e){return t.formatChainId(e)})),n.forEach((function(e){t.rpc.rpcMap[e]=(null===i||void 0===i?void 0:i[e])||t.getRpcUrl(e)}))),r&&yf(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=null===r||void 0===r?void 0:r.map((function(e){return t.formatChainId(e)})),r.forEach((function(e){t.rpc.rpcMap[e]=(null===i||void 0===i?void 0:i[e])||t.getRpcUrl(e)})))}}},{key:"getRpcUrl",value:function(e,t){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[e])||"".concat("https://rpc.walletconnect.org/v1/","?chainId=eip155:").concat(e,"&projectId=").concat(t||this.rpc.projectId)}},{key:"loadPersistedSession",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.session){e.next=15;break}return e.prev=1,e.next=4,this.signer.client.core.storage.getItem("".concat(this.STORAGE_KEY,"/chainId"));case 4:t=e.sent,n=this.session.namespaces["".concat(this.namespace,":").concat(t)]?this.session.namespaces["".concat(this.namespace,":").concat(t)]:this.session.namespaces[this.namespace],this.setChainIds(t?[this.formatChainId(t)]:null===n||void 0===n?void 0:n.accounts),this.setAccounts(null===n||void 0===n?void 0:n.accounts),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(1),this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e.t0),e.next=15,this.disconnect().catch((function(e){return r.signer.logger.warn(e)}));case 15:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.chainId=1,this.accounts=[]}},{key:"persist",value:function(){this.session&&this.signer.client.core.storage.setItem("".concat(this.STORAGE_KEY,"/chainId"),this.chainId)}},{key:"parseAccounts",value:function(e){var t=this;return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map((function(e){return t.parseAccount(e)}))}}],[{key:"init",value:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new e,t.next=3,r.initialize(n);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),nO=tO,rO=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"&&self,{exports:{}});!function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",c="week",u="month",l="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},w=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},m={s:w,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+w(r,2,"0")+":"+w(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,u),o=n-i<0,a=t.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:c,d:s,D:f,h:a,m:o,s:i,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",y={};y[b]=g;var x="$isDayjsObject",k=function(e){return e instanceof I||!(!e||!e[x])},Z=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();y[o]&&(i=o),n&&(y[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;y[s]=t,i=s}return!r&&i&&(b=i),i||!r&&b},C=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new I(n)},E=m;E.l=Z,E.i=k,E.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var I=function(){function g(e){this.$L=Z(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var w=g.prototype;return w.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},w.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},w.$utils=function(){return E},w.isValid=function(){return this.$d.toString()!==p},w.isSame=function(e,t){var n=C(e);return this.startOf(t)<=n&&n<=this.endOf(t)},w.isAfter=function(e,t){return C(e)<this.startOf(t)},w.isBefore=function(e,t){return this.endOf(t)<C(e)},w.$g=function(e,t,n){return E.u(e)?this[t]:this.set(n,e)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(e,t){var n=this,r=!!E.u(t)||t,l=E.p(e),p=function(e,t){var i=E.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},h=function(e,t){return E.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,g=this.$M,w=this.$D,m="set"+(this.$u?"UTC":"");switch(l){case d:return r?p(1,0):p(31,11);case u:return r?p(1,g):p(0,g+1);case c:var b=this.$locale().weekStart||0,y=(v<b?v+7:v)-b;return p(r?w-y:w+(6-y),g);case s:case f:return h(m+"Hours",0);case a:return h(m+"Minutes",1);case o:return h(m+"Seconds",2);case i:return h(m+"Milliseconds",3);default:return this.clone()}},w.endOf=function(e){return this.startOf(e,!1)},w.$set=function(e,t){var n,c=E.p(e),l="set"+(this.$u?"UTC":""),p=(n={},n[s]=l+"Date",n[f]=l+"Date",n[u]=l+"Month",n[d]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[c],h=c===s?this.$D+(t-this.$W):t;if(c===u||c===d){var v=this.clone().set(f,1);v.$d[p](h),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},w.set=function(e,t){return this.clone().$set(e,t)},w.get=function(e){return this[E.p(e)]()},w.add=function(r,l){var f,p=this;r=Number(r);var h=E.p(l),v=function(e){var t=C(p);return E.w(t.date(t.date()+Math.round(e*r)),p)};if(h===u)return this.set(u,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===s)return v(1);if(h===c)return v(7);var g=(f={},f[o]=t,f[a]=n,f[i]=e,f)[h]||1,w=this.$d.getTime()+r*g;return E.w(w,this)},w.subtract=function(e,t){return this.add(-1*e,t)},w.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),o=this.$H,a=this.$m,s=this.$M,c=n.weekdays,u=n.months,l=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},f=function(e){return E.s(o%12||12,e,"0")},h=l||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(v,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return E.s(t.$y,4,"0");case"M":return s+1;case"MM":return E.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,u,3);case"MMMM":return d(u,s);case"D":return t.$D;case"DD":return E.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return E.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return h(o,a,!0);case"A":return h(o,a,!1);case"m":return String(a);case"mm":return E.s(a,2,"0");case"s":return String(t.$s);case"ss":return E.s(t.$s,2,"0");case"SSS":return E.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(r,f,p){var h,v=this,g=E.p(f),w=C(r),m=(w.utcOffset()-this.utcOffset())*t,b=this-w,y=function(){return E.m(v,w)};switch(g){case d:h=y()/12;break;case u:h=y();break;case l:h=y()/3;break;case c:h=(b-m)/6048e5;break;case s:h=(b-m)/864e5;break;case a:h=b/n;break;case o:h=b/t;break;case i:h=b/e;break;default:h=b}return p?h:E.a(h)},w.daysInMonth=function(){return this.endOf(u).$D},w.$locale=function(){return y[this.$L]},w.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=Z(e,t,!0);return r&&(n.$L=r),n},w.clone=function(){return E.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},g}(),S=I.prototype;return C.prototype=S,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",u],["$y",d],["$D",f]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),C.extend=function(e,t){return e.$i||(e(t,I,C),e.$i=!0),C},C.locale=Z,C.isDayjs=k,C.unix=function(e){return C(1e3*e)},C.en=y[b],C.Ls=y,C.p={},C}()}(rO);var iO=rO.exports,oO={exports:{}};!function(e,t){e.exports={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}}}(oO);var aO=oO.exports,sO={exports:{}};!function(e,t){e.exports=function(e,t,n){e=e||{};var r=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,n,i){return r.fromToBase(e,t,n,i)}n.en.relativeTime=i,r.fromToBase=function(t,r,o,a,s){for(var c,u,l,d=o.$locale().relativeTime||i,f=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=f.length,h=0;h<p;h+=1){var v=f[h];v.d&&(c=a?n(t).diff(o,v.d,!0):o.diff(t,v.d,!0));var g=(e.rounding||Math.round)(Math.abs(c));if(l=c>0,g<=v.r||!v.r){g<=1&&h>0&&(v=f[h-1]);var w=d[v.l];s&&(g=s(""+g)),u="string"==typeof w?w.replace("%d",g):w(g,r,v.l,l);break}}if(r)return u;var m=l?d.future:d.past;return"function"==typeof m?m(u):m.replace("%s",u)},r.to=function(e,t){return o(e,t,this,!0)},r.from=function(e,t){return o(e,t,this)};var a=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}}(sO);var cO=sO.exports,uO={exports:{}};!function(e,t){e.exports=function(e,t,n){n.updateLocale=function(e,t){var r=n.Ls[e];if(r)return(t?Object.keys(t):[]).forEach((function(e){r[e]=t[e]})),r}}}(uO);var lO=uO.exports;iO.extend(cO),iO.extend(lO);var dO=(0,I.Z)((0,I.Z)({},aO),{},{name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}});iO.locale("en-web3-modal",dO);var fO=function(e){return e?Number(e.split(":")[1]):void 0},pO=function(e,t){return(null===e||void 0===e?void 0:e.filter((function(e){return e.chainNamespace===t})))||[]},hO=1e6,vO=1e6,gO="[big.js] Invalid decimal places",wO="[big.js] Division by zero",mO={},bO=void 0,yO=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function xO(e,t,n,r){var i=e.c;if(n===bO&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error("[big.js] Invalid rounding mode");if(t<1)r=3===n&&(r||!!i[0])||0===t&&(1===n&&i[0]>=5||2===n&&(i[0]>5||5===i[0]&&(r||i[1]!==bO))),i.length=1,r?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(r=1===n&&i[t]>=5||2===n&&(i[t]>5||5===i[t]&&(r||i[t+1]!==bO||1&i[t-1]))||3===n&&(r||!!i[0]),i.length=t,r)for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}for(t=i.length;!i[--t];)i.pop()}return e}function kO(e,t,n){var r=e.e,i=e.c.join(""),o=i.length;if(t)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>o)for(r-=o;r--;)i+="0";else r<o&&(i=i.slice(0,r)+"."+i.slice(r));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}mO.abs=function(){var e=new this.constructor(this);return e.s=1,e},mO.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,o=n.s,a=e.s,s=n.e,c=e.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-a:0;if(o!=a)return o;if(t=o<0,s!=c)return s>c^t?1:-1;for(a=(s=r.length)<(c=i.length)?s:c,o=-1;++o<a;)if(r[o]!=i[o])return r[o]>i[o]^t?1:-1;return s==c?0:s>c^t?1:-1},mO.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,o=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>hO)throw Error(gO);if(!i[0])throw Error(wO);if(!r[0])return e.s=o,e.c=[e.e=0],e;var s,c,u,l,d,f=i.slice(),p=s=i.length,h=r.length,v=r.slice(0,s),g=v.length,w=e,m=w.c=[],b=0,y=a+(w.e=t.e-e.e)+1;for(w.s=o,o=y<0?0:y,f.unshift(0);g++<s;)v.push(0);do{for(u=0;u<10;u++){if(s!=(g=v.length))l=s>g?1:-1;else for(d=-1,l=0;++d<s;)if(i[d]!=v[d]){l=i[d]>v[d]?1:-1;break}if(!(l<0))break;for(c=g==s?i:f;g;){if(v[--g]<c[g]){for(d=g;d&&!v[--d];)v[d]=9;--v[d],v[g]+=10}v[g]-=c[g]}for(;!v[0];)v.shift()}m[b++]=l?u:++u,v[0]&&l?v[g]=r[p]||0:v=[r[p]]}while((p++<h||v[0]!==bO)&&o--);return!m[0]&&1!=b&&(m.shift(),w.e--,y--),b>y&&xO(w,y,n.RM,v[0]!==bO),w},mO.eq=function(e){return 0===this.cmp(e)},mO.gt=function(e){return this.cmp(e)>0},mO.gte=function(e){return this.cmp(e)>-1},mO.lt=function(e){return this.cmp(e)<0},mO.lte=function(e){return this.cmp(e)<1},mO.minus=mO.sub=function(e){var t,n,r,i,o=this,a=o.constructor,s=o.s,c=(e=new a(e)).s;if(s!=c)return e.s=-c,o.plus(e);var u=o.c.slice(),l=o.e,d=e.c,f=e.e;if(!u[0]||!d[0])return d[0]?e.s=-c:u[0]?e=new a(o):e.s=1,e;if(s=l-f){for((i=s<0)?(s=-s,r=u):(f=l,r=d),r.reverse(),c=s;c--;)r.push(0);r.reverse()}else for(n=((i=u.length<d.length)?u:d).length,s=c=0;c<n;c++)if(u[c]!=d[c]){i=u[c]<d[c];break}if(i&&(r=u,u=d,d=r,e.s=-e.s),(c=(n=d.length)-(t=u.length))>0)for(;c--;)u[t++]=0;for(c=t;n>s;){if(u[--n]<d[n]){for(t=n;t&&!u[--t];)u[t]=9;--u[t],u[n]+=10}u[n]-=d[n]}for(;0===u[--c];)u.pop();for(;0===u[0];)u.shift(),--f;return u[0]||(e.s=1,u=[f=0]),e.c=u,e.e=f,e},mO.mod=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(!e.c[0])throw Error(wO);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=o,t?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=o,this.minus(n.times(e)))},mO.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},mO.plus=mO.add=function(e){var t,n,r,i=this,o=i.constructor;if(e=new o(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var a=i.e,s=i.c,c=e.e,u=e.c;if(!s[0]||!u[0])return u[0]||(s[0]?e=new o(i):e.s=i.s),e;if(s=s.slice(),t=a-c){for(t>0?(c=a,r=u):(t=-t,r=s),r.reverse();t--;)r.push(0);r.reverse()}for(s.length-u.length<0&&(r=u,u=s,s=r),t=u.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+u[t]+n)/10|0;for(n&&(s.unshift(n),++c),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=c,e},mO.pow=function(e){var t=this,n=new t.constructor("1"),r=n,i=e<0;if(e!==~~e||e<-vO||e>vO)throw Error("[big.js] Invalid exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?n.div(r):r},mO.prec=function(e,t){if(e!==~~e||e<1||e>hO)throw Error("[big.js] Invalid precision");return xO(new this.constructor(this),e,t)},mO.round=function(e,t){if(e===bO)e=0;else if(e!==~~e||e<-1e6||e>hO)throw Error(gO);return xO(new this.constructor(this),e+this.e+1,t)},mO.sqrt=function(){var e,t,n,r=this,i=r.constructor,o=r.s,a=r.e,s=new i("0.5");if(!r.c[0])return new i(r);if(o<0)throw Error("[big.js] No square root");0===(o=Math.sqrt(+kO(r,!0,!0)))||o===1/0?((t=r.c.join("")).length+a&1||(t+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new i(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):e=new i(o+""),a=e.e+(i.DP+=4);do{n=e,e=s.times(n.plus(r.div(n)))}while(n.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return xO(e,(i.DP-=4)+e.e+1,i.RM)},mO.times=mO.mul=function(e){var t,n=this,r=n.constructor,i=n.c,o=(e=new r(e)).c,a=i.length,s=o.length,c=n.e,u=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!o[0])return e.c=[e.e=0],e;for(e.e=c+u,a<s&&(t=i,i=o,o=t,u=a,a=s,s=u),t=new Array(u=a+s);u--;)t[u]=0;for(c=s;c--;){for(s=0,u=a+c;u>c;)s=t[u]+o[c]*i[u-c-1]+s,t[u--]=s%10,s=s/10|0;t[u]=s}for(s?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},mO.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==bO){if(e!==~~e||e<0||e>hO)throw Error(gO);for(n=xO(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return kO(n,!0,!!r)},mO.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==bO){if(e!==~~e||e<0||e>hO)throw Error(gO);for(e=e+(n=xO(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return kO(n,!1,!!r)},mO[Symbol.for("nodejs.util.inspect.custom")]=mO.toJSON=mO.toString=function(){var e=this,t=e.constructor;return kO(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},mO.toNumber=function(){var e=+kO(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error("[big.js] Imprecise conversion");return e},mO.toPrecision=function(e,t){var n=this,r=n.constructor,i=n.c[0];if(e!==bO){if(e!==~~e||e<1||e>hO)throw Error("[big.js] Invalid precision");for(n=xO(new r(n),e,t);n.c.length<e;)n.c.push(0)}return kO(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},mO.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error("[big.js] valueOf disallowed");return kO(e,e.e<=t.NE||e.e>=t.PE,!0)};(function e(){function t(n){var r=this;if(!(r instanceof t))return n===bO?e():new t(n);if(n instanceof t)r.s=n.s,r.e=n.e,r.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError("[big.js] Invalid value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,r,i;if(!yO.test(t))throw Error("[big.js] Invalid number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n)}r.constructor=t}return t.prototype=mO,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t})();var ZO={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},CO=function(e){var t;if(3!==(null===(t=e.split(":"))||void 0===t?void 0:t.length))throw new Error("Invalid CAIP Address");return e},EO=function(e){var t=e.split(":");if(3!==t.length)throw new Error("Invalid CAIP-10 address: ".concat(e));var n=(0,S.Z)(t,3),r=n[0],i=n[1],o=n[2];if(!r||!i||!o)throw new Error("Invalid CAIP-10 address: ".concat(e));return{chainNamespace:r,chainId:i,address:o}},IO=function(e){var t=e.split(":");if(2!==t.length)throw new Error("Invalid CAIP-2 network id: ".concat(e));var n=(0,S.Z)(t,2),r=n[0],i=n[1];if(!r||!i)throw new Error("Invalid CAIP-2 network id: ".concat(e));return{chainNamespace:r,chainId:i}},SO="@appkit/active_caip_network_id",AO="@appkit/connected_social",PO="@appkit-wallet/SOCIAL_USERNAME",OO="@appkit/recent_wallets",_O="WALLETCONNECT_DEEPLINK_CHOICE",NO="@appkit/active_namespace",TO="@appkit/connected_namespaces",RO="@appkit/connection_status",LO="@appkit/social_provider",BO="@appkit/native_balance_cache",UO="@appkit/portfolio_cache",MO="@appkit/ens_cache",jO="@appkit/identity_cache",DO="@appkit/preferred_account_types";function zO(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return"@appkit/".concat(e,":connected_connector_id")}var qO=function(e,t){FO()&&void 0!==t&&localStorage.setItem(e,t)},HO=function(e){if(FO())return localStorage.getItem(e)||void 0},WO=function(e){FO()&&localStorage.removeItem(e)};function FO(){return typeof window<"u"&&typeof localStorage<"u"}function VO(e,t){return"light"===t?{"--w3m-accent":(null===e||void 0===e?void 0:e["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(null===e||void 0===e?void 0:e["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var KO=Symbol(),GO=Object.getPrototypeOf,$O=new WeakMap,YO=function(e){return function(e){return e&&($O.has(e)?$O.get(e):GO(e)===Object.prototype||GO(e)===Array.prototype)}(e)&&e[KO]||null},JO=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];$O.set(e,t)},XO=function(e){return"object"==typeof e&&null!==e},QO=new WeakMap,e_=new WeakSet,t_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return new Proxy(e,t)},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return XO(e)&&!e_.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new WeakMap,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,a=i.get(e);if((null===a||void 0===a?void 0:a[0])===t)return a[1];var s=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return JO(s,!0),i.set(e,[t,s]),Reflect.ownKeys(e).forEach((function(t){if(!Object.getOwnPropertyDescriptor(s,t)){var r=Reflect.get(e,t),i=Reflect.getOwnPropertyDescriptor(e,t).enumerable,a={value:r,enumerable:i,configurable:!0};if(e_.has(r))JO(r,!1);else if(r instanceof Promise)delete a.value,a.get=function(){return n(r)};else if(QO.has(r)){var c=QO.get(r),u=(0,S.Z)(c,2),l=u[0],d=u[1];a.value=o(l,d(),n)}Object.defineProperty(s,t,a)}})),Object.preventExtensions(s)},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new WeakMap,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[1,1],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:function(r){if(!XO(r))throw new Error("object required");var i=a.get(r);if(i)return i;var u=s[0],l=new Set,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:++s[0];u!==t&&(u=t,l.forEach((function(n){return n(e,t)})))},f=s[1],p=function(e){return function(t,n){var r=(0,N.Z)(t);r[1]=[e].concat((0,N.Z)(r[1])),d(r,n)}},h=new Map,v=function(e){var t,n=h.get(e);n&&(h.delete(e),null==(t=n[1])||t.call(n))},g=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r)),w=t(g,{deleteProperty:function(e,t){var n=Reflect.get(e,t);v(t);var r=Reflect.deleteProperty(e,t);return r&&d(["delete",[t],n]),r},set:function(t,r,i,o){var s=Reflect.has(t,r),u=Reflect.get(t,r,o);if(s&&(e(u,i)||a.has(i)&&e(u,a.get(i))))return!0;v(r),XO(i)&&(i=YO(i)||i);var f=i;if(i instanceof Promise)i.then((function(e){i.status="fulfilled",i.value=e,d(["resolve",[r],e])})).catch((function(e){i.status="rejected",i.reason=e,d(["reject",[r],e])}));else{!QO.has(i)&&n(i)&&(f=c(i));var g=!e_.has(f)&&QO.get(f);g&&function(e,t){if(h.has(e))throw new Error("prop listener already exists");if(l.size){var n=t[3](p(e));h.set(e,[t,n])}else h.set(e,[t])}(r,g)}return Reflect.set(t,r,f,o),d(["set",[r],i,u]),!0}});a.set(r,w);var m=[g,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:++s[1];return f!==e&&!l.size&&(f=e,h.forEach((function(t){var n=(0,S.Z)(t,1)[0][1](e);n>u&&(u=n)}))),u},o,function(e){return l.add(e),1===l.size&&h.forEach((function(e,t){var n=(0,S.Z)(e,2),r=n[0];if(n[1])throw new Error("remove already exists");var i=r[3](p(t));h.set(t,[r,i])})),function(){l.delete(e),0===l.size&&h.forEach((function(e,t){var n=(0,S.Z)(e,2),r=n[0],i=n[1];i&&(i(),h.set(t,[r]))}))}}];return QO.set(w,m),Reflect.ownKeys(r).forEach((function(e){var t=Object.getOwnPropertyDescriptor(r,e);"value"in t&&(w[e]=r[e],delete t.value,delete t.writable),Object.defineProperty(g,e,t)})),w};return[c,QO,e_,e,t,n,r,i,o,a,s]}(),n_=(0,S.Z)(t_,1)[0];function r_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n_(e)}function i_(e,t,n){var r,i=QO.get(e);!i&&console.warn("Please use proxy object");var o=[],a=i[3],s=!1,c=a((function(e){o.push(e),n?t(o.splice(0)):r||(r=Promise.resolve().then((function(){r=void 0,s&&t(o.splice(0))})))}));return s=!0,function(){s=!1,c()}}function o_(e,t){var n=QO.get(e);!n&&console.warn("Please use proxy object");var r=(0,S.Z)(n,3),i=r[0],o=r[1];return(0,r[2])(i,o(),t)}function a_(e){return e_.add(e),e}function s_(e,t,n,r){var i=e[t];return i_(e,(function(){var r=e[t];Object.is(i,r)||n(i=r)}),r)}var c_=(typeof process<"u"?{NODE_ENV:"production",PUBLIC_URL:"/wallet-sign",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",u_={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:c_,SECURE_SITE_DASHBOARD:"".concat(c_,"/dashboard"),SECURE_SITE_FAVICON:"".concat(c_,"/images/favicon.png"),RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},l_={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired:function(e,t){return Date.now()-e>t},getActiveNetworkProps:function(){var e=l_.getActiveNamespace(),t=l_.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0;return{namespace:e,caipNetworkId:t,chainId:n?isNaN(Number(n))?n:Number(n):void 0}},setWalletConnectDeepLink:function(e){var t=e.name,n=e.href;try{qO(_O,JSON.stringify({href:n,name:t}))}catch(r){console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink:function(){try{var e=HO(_O);if(e)return JSON.parse(e)}catch(t){console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink:function(){try{WO(_O)}catch(e){console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace:function(e){try{qO(NO,e)}catch(t){console.info("Unable to set active namespace")}},setActiveCaipNetworkId:function(e){try{qO(SO,e),l_.setActiveNamespace(e.split(":")[0])}catch(t){console.info("Unable to set active caip network id")}},getActiveCaipNetworkId:function(){try{return HO(SO)}catch(e){return void console.info("Unable to get active caip network id")}},deleteActiveCaipNetworkId:function(){try{WO(SO)}catch(e){console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId:function(e){try{var t=zO(e);WO(t)}catch(n){console.info("Unable to delete connected connector id")}},setAppKitRecent:function(e){try{var t=l_.getRecentWallets();t.find((function(t){return t.id===e.id}))||(t.unshift(e),t.length>2&&t.pop(),qO(OO,JSON.stringify(t)))}catch(n){console.info("Unable to set AppKit recent")}},getRecentWallets:function(){try{var e=HO(OO);return e?JSON.parse(e):[]}catch(t){console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId:function(e,t){try{var n=zO(e);qO(n,t)}catch(r){console.info("Unable to set Connected Connector Id")}},getActiveNamespace:function(){try{return HO(NO)}catch(e){console.info("Unable to get active namespace")}},getConnectedConnectorId:function(e){if(e)try{var t=zO(e);return HO(t)}catch(n){console.info("Unable to get connected connector id in namespace ",e)}},setConnectedSocialProvider:function(e){try{qO(AO,e)}catch(t){console.info("Unable to set connected social provider")}},getConnectedSocialProvider:function(){try{return HO(AO)}catch(e){console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider:function(){try{WO(AO)}catch(e){console.info("Unable to delete connected social provider")}},getConnectedSocialUsername:function(){try{return HO(PO)}catch(e){console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId:function(){var e,t;return null===(e=HO(SO))||void 0===e||null===(t=e.split(":"))||void 0===t?void 0:t[1]},setConnectionStatus:function(e){try{qO(RO,e)}catch(t){console.info("Unable to set connection status")}},getConnectionStatus:function(){try{return HO(RO)}catch(e){return}},getConnectedNamespaces:function(){try{var e=HO(TO);return null!==e&&void 0!==e&&e.length?e.split(","):[]}catch(t){return[]}},setConnectedNamespaces:function(e){try{var t=Array.from(new Set(e));qO(TO,t.join(","))}catch(n){console.info("Unable to set namespaces in storage")}},addConnectedNamespace:function(e){try{var t=l_.getConnectedNamespaces();t.includes(e)||(t.push(e),l_.setConnectedNamespaces(t))}catch(n){console.info("Unable to add connected namespace")}},removeConnectedNamespace:function(e){try{var t=l_.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),l_.setConnectedNamespaces(t))}catch(r){console.info("Unable to remove connected namespace")}},getTelegramSocialProvider:function(){try{return HO(LO)}catch(e){return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider:function(e){try{qO(LO,e)}catch(t){console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider:function(){try{WO(LO)}catch(e){console.info("Unable to remove telegram social provider")}},getBalanceCache:function(){var e={};try{var t=HO(UO);e=t?JSON.parse(t):{}}catch(n){console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache:function(e){try{var t=l_.getBalanceCache();qO(UO,JSON.stringify((0,I.Z)((0,I.Z)({},t),{},(0,T.Z)({},e,void 0))))}catch(n){console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress:function(e){try{var t=l_.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;l_.removeAddressFromBalanceCache(e)}catch(n){console.info("Unable to get balance cache for address",e)}},updateBalanceCache:function(e){try{var t=l_.getBalanceCache();t[e.caipAddress]=e,qO(UO,JSON.stringify(t))}catch(n){console.info("Unable to update balance cache",e)}},getNativeBalanceCache:function(){var e={};try{var t=HO(BO);e=t?JSON.parse(t):{}}catch(n){console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache:function(e){try{var t=l_.getBalanceCache();qO(BO,JSON.stringify((0,I.Z)((0,I.Z)({},t),{},(0,T.Z)({},e,void 0))))}catch(n){console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress:function(e){try{var t=l_.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),l_.removeAddressFromBalanceCache(e)}catch(n){console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache:function(e){try{var t=l_.getNativeBalanceCache();t[e.caipAddress]=e,qO(BO,JSON.stringify(t))}catch(n){console.info("Unable to update balance cache",e)}},getEnsCache:function(){var e={};try{var t=HO(MO);e=t?JSON.parse(t):{}}catch(n){console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress:function(e){try{var t=l_.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;l_.removeEnsFromCache(e)}catch(n){console.info("Unable to get ens name from cache",e)}},updateEnsCache:function(e){try{var t=l_.getEnsCache();t[e.address]=e,qO(MO,JSON.stringify(t))}catch(n){console.info("Unable to update ens name cache",e)}},removeEnsFromCache:function(e){try{var t=l_.getEnsCache();qO(MO,JSON.stringify((0,I.Z)((0,I.Z)({},t),{},(0,T.Z)({},e,void 0))))}catch(n){console.info("Unable to remove ens name from cache",e)}},getIdentityCache:function(){var e={};try{var t=HO(jO);e=t?JSON.parse(t):{}}catch(n){console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress:function(e){try{var t=l_.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;l_.removeIdentityFromCache(e)}catch(n){console.info("Unable to get identity from cache",e)}},updateIdentityCache:function(e){try{var t=l_.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},qO(jO,JSON.stringify(t))}catch(n){console.info("Unable to update identity cache",e)}},removeIdentityFromCache:function(e){try{var t=l_.getIdentityCache();qO(jO,JSON.stringify((0,I.Z)((0,I.Z)({},t),{},(0,T.Z)({},e,void 0))))}catch(n){console.info("Unable to remove identity from cache",e)}},clearAddressCache:function(){try{WO(UO),WO(BO),WO(MO),WO(jO)}catch(e){console.info("Unable to clear address cache")}},setPreferredAccountTypes:function(e){try{qO(DO,JSON.stringify(e))}catch(t){console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes:function(){try{var e=HO(DO);return JSON.parse(e)}catch(t){console.info("Unable to get preferred account types")}}},d_={isMobile:function(){var e,t;return!!this.isClient()&&!!(null!==(e=window)&&void 0!==e&&null!==(t=e.matchMedia("(pointer:coarse)"))&&void 0!==t&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/.test(navigator.userAgent))},checkCaipNetwork:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null===e||void 0===e?void 0:e.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid:function(){var e;if(!this.isMobile())return!1;var t=null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase();return d_.isMobile()&&t.includes("android")},isIos:function(){var e;if(!this.isMobile())return!1;var t=null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari:function(){var e;return!!this.isClient()&&(null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase()).includes("safari")},isClient:function(){return typeof window<"u"},isPairingExpired:function(e){return!e||e-Date.now()<=u_.TEN_SEC_MS},isAllowedRetry:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u_.ONE_SEC_MS;return Date.now()-e>=t},copyToClopboard:function(e){navigator.clipboard.writeText(e)},isIframe:function(){try{var e,t;return(null===(e=window)||void 0===e?void 0:e.self)!==(null===(t=window)||void 0===t?void 0:t.top)}catch(n){return!1}},getPairingExpiry:function(){return Date.now()+u_.FOUR_MINUTES_MS},getNetworkId:function(e){return null===e||void 0===e?void 0:e.split(":")[1]},getPlainAddress:function(e){return null===e||void 0===e?void 0:e.split(":")[2]},wait:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))()},debounce:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];function a(){e.apply(void 0,i)}t&&clearTimeout(t),t=setTimeout(a,n)}},isHttpUrl:function(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl:function(e,t){if(d_.isHttpUrl(e))return this.formatUniversalUrl(e,t);var n=e;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n="".concat(n,"://")),n.endsWith("/")||(n="".concat(n,"/")),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));var r=encodeURIComponent(t);return{redirect:"".concat(n,"wc?uri=").concat(r),href:n}},formatUniversalUrl:function(e,t){if(!d_.isHttpUrl(e))return this.formatNativeUrl(e,t);var n=e;n.endsWith("/")||(n="".concat(n,"/"));var r=encodeURIComponent(t);return{redirect:"".concat(n,"wc?uri=").concat(r),href:n}},getOpenTargetForPlatform:function(e){return"popupWindow"===e?e:this.isTelegram()?l_.getTelegramSocialProvider()?"_top":"_blank":e},openHref:function(e,t,n){var r;null===(r=window)||void 0===r||r.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref:function(e,t,n){var r;return null===(r=window)||void 0===r?void 0:r.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram:function(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},preloadImage:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Promise((function(t,n){var r=new Image;r.onload=t,r.onerror=n,r.crossOrigin="anonymous",r.src=e})),t.abrupt("return",Promise.race([n,d_.wait(2e3)]));case 2:case"end":return t.stop()}}),t)})))()},formatBalance:function(e,t){var n="0.000";if("string"==typeof e){var r=Number(e);if(r){var i=Math.floor(1e3*r)/1e3;i&&(n=i.toString())}}return"".concat(n).concat(t?" ".concat(t):"")},formatBalance2:function(e,t){var n,r;if("0"===e)r="0";else if("string"==typeof e){var i,o=Number(e);o&&(r=null===(i=o.toString().match(/^\x2D?[0-9]+(?:\.[0-9]{0,3})?/))||void 0===i?void 0:i[0])}return{value:null!==(n=r)&&void 0!==n?n:"0",rest:"0"===r?"000":"",symbol:t}},getApiUrl:function(){return ZO.W3M_API_URL},getBlockchainApiUrl:function(){return ZO.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl:function(){return ZO.PULSE_API_URL},getUUID:function(){var e;return null!==(e=crypto)&&void 0!==e&&e.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},parseError:function(e){var t,n;return"string"==typeof e?e:"string"==typeof(null===e||void 0===e||null===(t=e.issues)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.message)?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return t&&e&&(e.forEach((function(e,t){n[e]=t})),t.sort((function(e,t){var r=n[e.id],i=n[t.id];return void 0!==r&&void 0!==i?r-i:void 0!==r?-1:void 0!==i?1:0}))),t},calculateBalance:function(e){var t,n=0,r=(0,R.Z)(e);try{for(r.s();!(t=r.n()).done;){var i;n+=null!==(i=t.value.value)&&void 0!==i?i:0}}catch(o){r.e(o)}finally{r.f()}return n},formatTokenBalance:function(e){var t=e.toFixed(2).split("."),n=(0,S.Z)(t,2);return{dollars:n[0],pennies:n[1]}},isAddress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"eip155";switch(t){case"eip155":return!!/^(?:0x)?[0-9a-f]{40}$/i.test(e)&&!(!/^(?:0x)?[0-9a-f]{40}$/i.test(e)&&!/^(?:0x)?[0-9A-F]{40}$/i.test(e));case"solana":return/[1-9A-HJ-NP-Za-km-z\u017F\u212A]{32,44}$/i.test(e);default:return!1}},uniqueBy:function(e,t){var n=new Set;return e.filter((function(e){var r=e[t];return!n.has(r)&&(n.add(r),!0)}))},generateSdkVersion:function(e,t,n){var r=0===e.length?u_.ADAPTER_TYPES.UNIVERSAL:e.map((function(e){return e.adapterType})).join(",");return"".concat(t,"-").concat(r,"-").concat(n)},createAccount:function(e,t,n,r,i){return{namespace:e,address:t,type:n,publicKey:r,path:i}},isCaipAddress:function(e){if("string"!=typeof e)return!1;var t=e.split(":"),n=t[0];return 3===t.filter(Boolean).length&&n in ZO.CHAIN_NAME_MAP},isMac:function(){var e,t=null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl:function(e){var t,n="--".concat(encodeURIComponent(null===(t=window)||void 0===t?void 0:t.location.href)),r="state=";if("auth.magic.link"===new URL(e).host){var i="provider_authorization_url=",o=e.substring(e.indexOf(i)+i.length),a=this.injectIntoUrl(decodeURIComponent(o),r,n);return e.replace(o,encodeURIComponent(a))}return this.injectIntoUrl(e,r,n)},injectIntoUrl:function(e,t,n){var r=e.indexOf(t);if(-1===r)throw new Error("".concat(t," parameter not found in the URL: ").concat(e));var i=e.indexOf("&",r),o=t.length,a=-1!==i?i:e.length;return e.substring(0,r+o)+(e.substring(r+o,a)+n)+e.substring(i)}};function f_(){return p_.apply(this,arguments)}function p_(){return p_=(0,P.Z)((0,A.Z)().mark((function e(){var t,n=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch.apply(void 0,n);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("HTTP status code: ".concat(t.status),{cause:t});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}var h_=function(){function e(t){var n=t.baseUrl,r=t.clientId;(0,O.Z)(this,e),this.baseUrl=n,this.clientId=r}return(0,_.Z)(e,[{key:"get",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers,r=t.signal,i=t.cache,o=(0,E.Z)(t,OP),a=this.createUrl(o),e.next=4,f_(a,{method:"GET",headers:n,signal:r,cache:i});case 4:return e.abrupt("return",e.sent.json());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlob",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers,r=t.signal,i=(0,E.Z)(t,_P),o=this.createUrl(i),e.next=4,f_(o,{method:"GET",headers:n,signal:r});case 4:return e.abrupt("return",e.sent.blob());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,r=t.headers,i=t.signal,o=(0,E.Z)(t,NP),a=this.createUrl(o),e.next=4,f_(a,{method:"POST",headers:r,body:n?JSON.stringify(n):void 0,signal:i});case 4:return e.abrupt("return",e.sent.json());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,r=t.headers,i=t.signal,o=(0,E.Z)(t,TP),a=this.createUrl(o),e.next=4,f_(a,{method:"PUT",headers:r,body:n?JSON.stringify(n):void 0,signal:i});case 4:return e.abrupt("return",e.sent.json());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,r=t.headers,i=t.signal,o=(0,E.Z)(t,RP),a=this.createUrl(o),e.next=4,f_(a,{method:"DELETE",headers:r,body:n?JSON.stringify(n):void 0,signal:i});case 4:return e.abrupt("return",e.sent.json());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUrl",value:function(e){var t=e.path,n=e.params,r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach((function(e){var t=(0,S.Z)(e,2),n=t[0],i=t[1];i&&r.searchParams.append(n,i)})),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}]),e}(),v_=function(e){if(xM.state.activeChain===ZO.CHAIN.SOLANA){var t=window.location.href,n=encodeURIComponent(t);if("Phantom"===e&&!("phantom"in window)){var r=t.startsWith("https")?"https":"http",i=t.split("/")[2],o=encodeURIComponent("".concat(r,"://").concat(i));window.location.href="https://phantom.app/ul/browse/".concat(n,"?ref=").concat(o)}"Coinbase Wallet"===e&&!("coinbaseSolana"in window)&&(window.location.href="https://go.cb-w.com/dapp?cb_url=".concat(n))}},g_=r_({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),w_={state:g_,subscribeNetworkImages:function(e){return i_(g_.networkImages,(function(){return e(g_.networkImages)}))},subscribeKey:function(e,t){return s_(g_,e,t)},subscribe:function(e){return i_(g_,(function(){return e(g_)}))},setWalletImage:function(e,t){g_.walletImages[e]=t},setNetworkImage:function(e,t){g_.networkImages[e]=t},setChainImage:function(e,t){g_.chainImages[e]=t},setConnectorImage:function(e,t){g_.connectorImages=(0,I.Z)((0,I.Z)({},g_.connectorImages),{},(0,T.Z)({},e,t))},setTokenImage:function(e,t){g_.tokenImages[e]=t},setCurrencyImage:function(e,t){g_.currencyImages[e]=t}},m_={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},b_=r_({networkImagePromises:{}}),y_={fetchWalletImage:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=4;break}return n.next=3,L_._fetchWalletImage(e);case 3:return n.abrupt("return",t.getWalletImageById(e));case 4:case"end":return n.stop()}}),n)})))()},fetchNetworkImage:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(r=t.getNetworkImageById(e),n.t0=r,n.t0){n.next=9;break}return b_.networkImagePromises[e]||(b_.networkImagePromises[e]=L_._fetchNetworkImage(e)),n.next=8,b_.networkImagePromises[e];case 8:n.t0=t.getNetworkImageById(e);case 9:return n.abrupt("return",n.t0);case 10:case"end":return n.stop()}}),n)})))()},getWalletImageById:function(e){if(e)return w_.state.walletImages[e]},getWalletImage:function(e){return null!==e&&void 0!==e&&e.image_url?null===e||void 0===e?void 0:e.image_url:null!==e&&void 0!==e&&e.image_id?w_.state.walletImages[e.image_id]:void 0},getNetworkImage:function(e){var t,n,r;return null!==e&&void 0!==e&&null!==(t=e.assets)&&void 0!==t&&t.imageUrl?null===e||void 0===e||null===(n=e.assets)||void 0===n?void 0:n.imageUrl:null!==e&&void 0!==e&&null!==(r=e.assets)&&void 0!==r&&r.imageId?w_.state.networkImages[e.assets.imageId]:void 0},getNetworkImageById:function(e){if(e)return w_.state.networkImages[e]},getConnectorImage:function(e){return null!==e&&void 0!==e&&e.imageUrl?e.imageUrl:null!==e&&void 0!==e&&e.imageId?w_.state.connectorImages[e.imageId]:void 0},getChainImage:function(e){return w_.state.networkImages[m_[e]]}},x_=function(e){if(!e||!e.length)return e;if(d_.isTelegram()){if(d_.isIos())return e.filter((function(e){return"google"!==e}));if(d_.isMac())return e.filter((function(e){return"x"!==e}));if(d_.isAndroid())return e.filter((function(e){return!["facebook","x"].includes(e)}))}return e},k_=r_({features:u_.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),Z_={state:k_,subscribeKey:function(e,t){return s_(k_,e,t)},setOptions:function(e){Object.assign(k_,e)},setFeatures:function(e){if(e){k_.features||(k_.features=u_.DEFAULT_FEATURES);var t=(0,I.Z)((0,I.Z)({},k_.features),e);k_.features=t,k_.features.socials&&(k_.features.socials=x_(k_.features.socials))}},setProjectId:function(e){k_.projectId=e},setCustomRpcUrls:function(e){k_.customRpcUrls=e},setAllWallets:function(e){k_.allWallets=e},setIncludeWalletIds:function(e){k_.includeWalletIds=e},setExcludeWalletIds:function(e){k_.excludeWalletIds=e},setFeaturedWalletIds:function(e){k_.featuredWalletIds=e},setTokens:function(e){k_.tokens=e},setTermsConditionsUrl:function(e){k_.termsConditionsUrl=e},setPrivacyPolicyUrl:function(e){k_.privacyPolicyUrl=e},setCustomWallets:function(e){k_.customWallets=e},setIsSiweEnabled:function(e){k_.isSiweEnabled=e},setIsUniversalProvider:function(e){k_.isUniversalProvider=e},setSdkVersion:function(e){k_.sdkVersion=e},setMetadata:function(e){k_.metadata=e},setDisableAppend:function(e){k_.disableAppend=e},setEIP6963Enabled:function(e){k_.enableEIP6963=e},setDebug:function(e){k_.debug=e},setEnableWalletConnect:function(e){k_.enableWalletConnect=e},setEnableWalletGuide:function(e){k_.enableWalletGuide=e},setEnableAuthLogger:function(e){k_.enableAuthLogger=e},setEnableWallets:function(e){k_.enableWallets=e},setHasMultipleAddresses:function(e){k_.hasMultipleAddresses=e},setSIWX:function(e){k_.siwx=e},setConnectMethodsOrder:function(e){k_.features=(0,I.Z)((0,I.Z)({},k_.features),{},{connectMethodsOrder:e})},setWalletFeaturesOrder:function(e){k_.features=(0,I.Z)((0,I.Z)({},k_.features),{},{walletFeaturesOrder:e})},setSocialsOrder:function(e){k_.features=(0,I.Z)((0,I.Z)({},k_.features),{},{socials:e})},setCollapseWallets:function(e){k_.features=(0,I.Z)((0,I.Z)({},k_.features),{},{collapseWallets:e})},setEnableEmbedded:function(e){k_.enableEmbedded=e},setAllowUnsupportedChain:function(e){k_.allowUnsupportedChain=e},setManualWCControl:function(e){k_.manualWCControl=e},setEnableNetworkSwitch:function(e){k_.enableNetworkSwitch=e},setDefaultAccountTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(e).forEach((function(e){var t=(0,S.Z)(e,2),n=t[0],r=t[1];r&&(k_.defaultAccountTypes[n]=r)}))},setUniversalProviderConfigOverride:function(e){k_.universalProviderConfigOverride=e},getUniversalProviderConfigOverride:function(){return k_.universalProviderConfigOverride},getSnapshot:function(){return o_(k_)}},C_=r_({message:"",variant:"info",open:!1}),E_={state:C_,subscribeKey:function(e,t){return s_(C_,e,t)},open:function(e,t){var n=Z_.state.debug,r=e.shortMessage,i=e.longMessage;n&&(C_.message=r,C_.variant=t,C_.open=!0),i&&console.error("function"==typeof i?i():i)},close:function(){C_.open=!1,C_.message="",C_.variant="info"}},I_=d_.getAnalyticsUrl(),S_=new h_({baseUrl:I_,clientId:null}),A_=["MODAL_CREATED"],P_=r_({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),O_={state:P_,subscribe:function(e){return i_(P_,(function(){return e(P_)}))},getSdkProperties:function(){var e=Z_.state;return{projectId:e.projectId,st:e.sdkType,sv:e.sdkVersion||"html-wagmi-4.2.2"}},_sendAnalyticsEvent:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=SM.state.address,!(A_.includes(e.data.event)||typeof window>"u")){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,S_.post({path:"/e",params:O_.getSdkProperties(),body:{eventId:d_.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:(0,I.Z)((0,I.Z)({},e.data),{},{address:n})}});case 6:P_.reportedErrors.FORBIDDEN=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0 instanceof Error&&t.t0.cause instanceof Response&&t.t0.cause.status===ZO.HTTP_STATUS_CODES.FORBIDDEN&&!P_.reportedErrors.FORBIDDEN&&(E_.open({shortMessage:"Invalid App Configuration",longMessage:"Origin ".concat(FO()?window.origin:"uknown"," not found on Allowlist - update configuration on cloud.reown.com")},"error"),P_.reportedErrors.FORBIDDEN=!0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},sendEvent:function(e){var t;P_.timestamp=Date.now(),P_.data=e,(null===(t=Z_.state.features)||void 0===t?void 0:t.analytics)&&O_._sendAnalyticsEvent(P_)}},__=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],N_=d_.getApiUrl(),T_=new h_({baseUrl:N_,clientId:null}),R_=r_({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),L_={state:R_,subscribeKey:function(e,t){return s_(R_,e,t)},_getSdkProperties:function(){var e=Z_.state;return{projectId:e.projectId,st:e.sdkType||"appkit",sv:e.sdkVersion||"html-wagmi-4.2.2"}},_filterOutExtensions:function(e){return Z_.state.isUniversalProvider?e.filter((function(e){return!!(e.mobile_link||e.desktop_link||e.webapp_link)})):e},_fetchWalletImage:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(T_.baseUrl,"/getWalletImage/").concat(e),t.next=3,T_.getBlob({path:n,params:L_._getSdkProperties()});case 3:r=t.sent,w_.setWalletImage(e,URL.createObjectURL(r));case 5:case"end":return t.stop()}}),t)})))()},_fetchNetworkImage:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(T_.baseUrl,"/public/getAssetImage/").concat(e),t.next=3,T_.getBlob({path:n,params:L_._getSdkProperties()});case 3:r=t.sent,w_.setNetworkImage(e,URL.createObjectURL(r));case 5:case"end":return t.stop()}}),t)})))()},_fetchConnectorImage:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(T_.baseUrl,"/public/getAssetImage/").concat(e),t.next=3,T_.getBlob({path:n,params:L_._getSdkProperties()});case 3:r=t.sent,w_.setConnectorImage(e,URL.createObjectURL(r));case 5:case"end":return t.stop()}}),t)})))()},_fetchCurrencyImage:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(T_.baseUrl,"/public/getCurrencyImage/").concat(e),t.next=3,T_.getBlob({path:n,params:L_._getSdkProperties()});case 3:r=t.sent,w_.setCurrencyImage(e,URL.createObjectURL(r));case 5:case"end":return t.stop()}}),t)})))()},_fetchTokenImage:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(T_.baseUrl,"/public/getTokenImage/").concat(e),t.next=3,T_.getBlob({path:n,params:L_._getSdkProperties()});case 3:r=t.sent,w_.setTokenImage(e,URL.createObjectURL(r));case 5:case"end":return t.stop()}}),t)})))()},fetchNetworkImages:function(){return(0,P.Z)((0,A.Z)().mark((function e(){var t,n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(t=xM.getAllRequestedCaipNetworks())||void 0===t?void 0:t.map((function(e){var t=e.assets;return null===t||void 0===t?void 0:t.imageId})).filter(Boolean).filter((function(e){return!y_.getNetworkImageById(e)})),e.t0=n,!e.t0){e.next=5;break}return e.next=5,Promise.allSettled(n.map((function(e){return L_._fetchNetworkImage(e)})));case 5:case"end":return e.stop()}}),e)})))()},fetchConnectorImages:function(){return(0,P.Z)((0,A.Z)().mark((function e(){var t,n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=q_.state.connectors,n=t.map((function(e){return e.imageId})).filter(Boolean),e.next=3,Promise.allSettled(n.map((function(e){return L_._fetchConnectorImage(e)})));case 3:case"end":return e.stop()}}),e)})))()},fetchCurrencyImages:function(){var e=arguments;return(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:[],t.next=3,Promise.allSettled(n.map((function(e){return L_._fetchCurrencyImage(e)})));case 3:case"end":return t.stop()}}),t)})))()},fetchTokenImages:function(){var e=arguments;return(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:[],t.next=3,Promise.allSettled(n.map((function(e){return L_._fetchTokenImage(e)})));case 3:case"end":return t.stop()}}),t)})))()},fetchWallets:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=null!==(n=e.exclude)&&void 0!==n?n:[],L_._getSdkProperties().sv.startsWith("html-core-")&&o.push.apply(o,__),t.next=4,T_.get({path:"/getWallets",params:(0,I.Z)((0,I.Z)((0,I.Z)({},L_._getSdkProperties()),e),{},{page:String(e.page),entries:String(e.entries),include:null===(r=e.include)||void 0===r?void 0:r.join(","),exclude:null===(i=e.exclude)||void 0===i?void 0:i.join(",")})});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()},fetchFeaturedWallets:function(){return(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=Z_.state.featuredWalletIds)||void 0===t||!t.length){e.next=13;break}return r=(0,I.Z)((0,I.Z)({},L_._getSdkProperties()),{},{page:1,entries:null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:4,include:t}),e.next=5,L_.fetchWallets(r);case 5:return i=e.sent,(o=i.data).sort((function(e,n){return t.indexOf(e.id)-t.indexOf(n.id)})),a=o.map((function(e){return e.image_id})).filter(Boolean),e.next=11,Promise.allSettled(a.map((function(e){return L_._fetchWalletImage(e)})));case 11:R_.featured=o,R_.allFeatured=o;case 13:case"end":return e.stop()}}),e)})))()},fetchRecommendedWallets:function(){return(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i,o,a,s,c,u,l,d,f,p;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R_.isFetchingRecommendedWallets=!0,n=(t=Z_.state).includeWalletIds,r=t.excludeWalletIds,i=t.featuredWalletIds,o=[].concat((0,N.Z)(null!==r&&void 0!==r?r:[]),(0,N.Z)(null!==i&&void 0!==i?i:[])).filter(Boolean),a=xM.getRequestedCaipNetworkIds().join(","),s={page:1,entries:4,include:n,exclude:o,chains:a},e.next=11,L_.fetchWallets(s);case 11:return c=e.sent,u=c.data,l=c.count,d=l_.getRecentWallets(),f=u.map((function(e){return e.image_id})).filter(Boolean),p=d.map((function(e){return e.image_id})).filter(Boolean),e.next=19,Promise.allSettled([].concat((0,N.Z)(f),(0,N.Z)(p)).map((function(e){return L_._fetchWalletImage(e)})));case 19:R_.recommended=u,R_.allRecommended=u,R_.count=null!==l&&void 0!==l?l:0,e.next=26;break;case 24:e.prev=24,e.t0=e.catch(0);case 26:return e.prev=26,R_.isFetchingRecommendedWallets=!1,e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[0,24,26,29]])})))()},fetchWalletsByPage:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s,c,u,l,d,f,p;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.page,i=(r=Z_.state).includeWalletIds,o=r.excludeWalletIds,a=r.featuredWalletIds,s=xM.getRequestedCaipNetworkIds().join(","),c=[].concat((0,N.Z)(R_.recommended.map((function(e){return e.id}))),(0,N.Z)(null!==o&&void 0!==o?o:[]),(0,N.Z)(null!==a&&void 0!==a?a:[])).filter(Boolean),u={page:n,entries:40,include:i,exclude:c,chains:s},t.next=10,L_.fetchWallets(u);case 10:return l=t.sent,d=l.data,f=l.count,p=d.slice(0,20).map((function(e){return e.image_id})).filter(Boolean),t.next=16,Promise.allSettled(p.map((function(e){return L_._fetchWalletImage(e)})));case 16:R_.wallets=d_.uniqueBy([].concat((0,N.Z)(R_.wallets),(0,N.Z)(L_._filterOutExtensions(d))),"id"),R_.count=f>R_.count?f:R_.count,R_.page=n;case 19:case"end":return t.stop()}}),t)})))()},initializeExcludedWallets:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ids,r=xM.getRequestedCaipNetworkIds().join(","),i={page:1,entries:n.length,include:n,chains:r},t.next=5,L_.fetchWallets(i);case 5:o=t.sent,(a=o.data)&&a.forEach((function(e){R_.excludedWallets.push({rdns:e.rdns,name:e.name})}));case 8:case"end":return t.stop()}}),t)})))()},searchWallet:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s,c,u,l,d;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.search,r=e.badge,o=(i=Z_.state).includeWalletIds,a=i.excludeWalletIds,s=xM.getRequestedCaipNetworkIds().join(","),R_.search=[],c={page:1,entries:100,search:null===n||void 0===n?void 0:n.trim(),badge_type:r,include:o,exclude:a,chains:s},t.next=6,L_.fetchWallets(c);case 6:return u=t.sent,l=u.data,O_.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:null!==r&&void 0!==r?r:"",search:null!==n&&void 0!==n?n:""}}),d=l.map((function(e){return e.image_id})).filter(Boolean),t.next=12,Promise.allSettled([].concat((0,N.Z)(d.map((function(e){return L_._fetchWalletImage(e)}))),[d_.wait(300)]));case 12:R_.search=L_._filterOutExtensions(l);case 13:case"end":return t.stop()}}),t)})))()},initPromise:function(e,t){return R_.promises[e]||(R_.promises[e]=t())},prefetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fetchConnectorImages,n=void 0===t||t,r=e.fetchFeaturedWallets,i=void 0===r||r,o=e.fetchRecommendedWallets,a=void 0===o||o,s=e.fetchNetworkImages,c=void 0===s||s,u=[n&&L_.initPromise("connectorImages",L_.fetchConnectorImages),i&&L_.initPromise("featuredWallets",L_.fetchFeaturedWallets),a&&L_.initPromise("recommendedWallets",L_.fetchRecommendedWallets),c&&L_.initPromise("networkImages",L_.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(u)},prefetchAnalyticsConfig:function(){var e;(null===(e=Z_.state.features)||void 0===e?void 0:e.analytics)&&L_.fetchAnalyticsConfig()},fetchAnalyticsConfig:function(){return(0,P.Z)((0,A.Z)().mark((function e(){var t,n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T_.get({path:"/getAnalyticsConfig",params:L_._getSdkProperties()});case 3:t=e.sent,n=t.isAnalyticsEnabled,Z_.setFeatures({analytics:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z_.setFeatures({analytics:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},setFilterByNamespace:function(e){if(!e)return R_.featured=R_.allFeatured,void(R_.recommended=R_.allRecommended);var t=xM.getRequestedCaipNetworkIds().join(",");R_.featured=R_.allFeatured.filter((function(e){var n;return null===(n=e.chains)||void 0===n?void 0:n.some((function(e){return t.includes(e)}))})),R_.recommended=R_.allRecommended.filter((function(e){var n;return null===(n=e.chains)||void 0===n?void 0:n.some((function(e){return t.includes(e)}))}))}},B_=r_({view:"Connect",history:["Connect"],transactionStack:[]}),U_={state:B_,subscribeKey:function(e,t){return s_(B_,e,t)},pushTransactionStack:function(e){B_.transactionStack.push(e)},popTransactionStack:function(e){var t,n=B_.transactionStack.pop();if(n)if(e)this.goBack(),null===n||void 0===n||null===(t=n.onCancel)||void 0===t||t.call(n);else{var r;if(n.goBack)this.goBack();else if(n.replace){var i=B_.history.indexOf("ConnectingSiwe");i>0?this.goBackToIndex(i-1):(PM.close(),B_.history=[])}else n.view&&this.reset(n.view);null===n||void 0===n||null===(r=n.onSuccess)||void 0===r||r.call(n)}},push:function(e,t){e!==B_.view&&(B_.view=e,B_.history.push(e),B_.data=t)},reset:function(e,t){B_.view=e,B_.history=[e],B_.data=t},replace:function(e,t){B_.history.at(-1)===e||(B_.view=e,B_.history[B_.history.length-1]=e,B_.data=t)},goBack:function(){var e,t=!xM.state.activeCaipAddress&&"ConnectingFarcaster"===this.state.view;if(B_.history.length>1&&!B_.history.includes("UnsupportedChain")){B_.history.pop();var n=B_.history.slice(-1),r=(0,S.Z)(n,1)[0];r&&(B_.view=r)}else PM.close();null!==(e=B_.data)&&void 0!==e&&e.wallet&&(B_.data.wallet=void 0),setTimeout((function(){if(t){var e,n,r;SM.setFarcasterUrl(void 0,xM.state.activeChain);var i=q_.getAuthConnector();null===i||void 0===i||null===(e=i.provider)||void 0===e||e.reload();var o=o_(Z_.state);null===i||void 0===i||null===(n=i.provider)||void 0===n||null===(r=n.syncDappData)||void 0===r||r.call(n,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}}),100)},goBackToIndex:function(e){if(B_.history.length>1){B_.history=B_.history.slice(0,e+1);var t=B_.history.slice(-1),n=(0,S.Z)(t,1)[0];n&&(B_.view=n)}}},M_=r_({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),j_={state:M_,subscribe:function(e){return i_(M_,(function(){return e(M_)}))},setThemeMode:function(e){M_.themeMode=e;try{var t=q_.getAuthConnector();if(t){var n=j_.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:VO(n,e)})}}catch(r){console.info("Unable to sync theme to auth connector")}},setThemeVariables:function(e){M_.themeVariables=(0,I.Z)((0,I.Z)({},M_.themeVariables),e);try{var t=q_.getAuthConnector();if(t){var n=j_.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:VO(M_.themeVariables,M_.themeMode)})}}catch(r){console.info("Unable to sync theme to auth connector")}},getSnapshot:function(){return o_(M_)}},D_={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},z_=r_({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:(0,I.Z)({},D_)}),q_={state:z_,subscribe:function(e){return i_(z_,(function(){e(z_)}))},subscribeKey:function(e,t){return s_(z_,e,t)},initialize:function(e){var t=this;e.forEach((function(e){var n=l_.getConnectedConnectorId(e);n&&t.setConnectorId(n,e)}))},setActiveConnector:function(e){e&&(z_.activeConnector=a_(e))},setConnectors:function(e){var t=this;e.filter((function(e){return!z_.allConnectors.some((function(n){return n.id===e.id&&t.getConnectorName(n.name)===t.getConnectorName(e.name)&&n.chain===e.chain}))})).forEach((function(e){"MULTI_CHAIN"!==e.type&&z_.allConnectors.push(a_(e))})),z_.connectors=this.mergeMultiChainConnectors(z_.allConnectors)},removeAdapter:function(e){z_.allConnectors=z_.allConnectors.filter((function(t){return t.chain!==e})),z_.connectors=this.mergeMultiChainConnectors(z_.allConnectors)},mergeMultiChainConnectors:function(e){var t=this.generateConnectorMapByName(e),n=[];return t.forEach((function(e){var t=e[0],r=(null===t||void 0===t?void 0:t.id)===ZO.CONNECTOR_ID.AUTH;e.length>1&&t?n.push({name:t.name,imageUrl:t.imageUrl,imageId:t.imageId,connectors:(0,N.Z)(e),type:r?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(null===t||void 0===t?void 0:t.id)||""}):t&&n.push(t)})),n},generateConnectorMapByName:function(e){var t=this,n=new Map;return e.forEach((function(e){var r=e.name,i=t.getConnectorName(r);if(i){var o=n.get(i)||[];o.find((function(t){return t.chain===e.chain}))||o.push(e),n.set(i,o)}})),n},getConnectorName:function(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName:function(e){var t=[];return e.forEach((function(e){t.find((function(t){return t.chain===e.chain}))||t.push(e)})),t},addConnector:function(e){if(e.id===ZO.CONNECTOR_ID.AUTH){var t,n,r,i=e,o=o_(Z_.state),a=j_.getSnapshot().themeMode,s=j_.getSnapshot().themeVariables;null!==i&&void 0!==i&&null!==(t=i.provider)&&void 0!==t&&null!==(n=t.syncDappData)&&void 0!==n&&n.call(t,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType}),null!==i&&void 0!==i&&null!==(r=i.provider)&&void 0!==r&&r.syncTheme({themeMode:a,themeVariables:s,w3mThemeVariables:VO(s,a)}),this.setConnectors([e])}else this.setConnectors([e])},getAuthConnector:function(e){var t,n=e||xM.state.activeChain,r=z_.connectors.find((function(e){return e.id===ZO.CONNECTOR_ID.AUTH}));if(r)return null!==r&&void 0!==r&&null!==(t=r.connectors)&&void 0!==t&&t.length?r.connectors.find((function(e){return e.chain===n})):r},getAnnouncedConnectorRdns:function(){return z_.connectors.filter((function(e){return"ANNOUNCED"===e.type})).map((function(e){var t;return null===(t=e.info)||void 0===t?void 0:t.rdns}))},getConnectorById:function(e){return z_.allConnectors.find((function(t){return t.id===e}))},getConnector:function(e,t){return z_.allConnectors.filter((function(e){return e.chain===xM.state.activeChain})).find((function(n){var r;return n.explorerId===e||(null===(r=n.info)||void 0===r?void 0:r.rdns)===t}))},syncIfAuthConnector:function(e){var t,n;if("ID_AUTH"===e.id){var r=e,i=o_(Z_.state),o=j_.getSnapshot().themeMode,a=j_.getSnapshot().themeVariables;null!==r&&void 0!==r&&null!==(t=r.provider)&&void 0!==t&&null!==(n=t.syncDappData)&&void 0!==n&&n.call(t,{metadata:i.metadata,sdkVersion:i.sdkVersion,sdkType:i.sdkType,projectId:i.projectId}),r.provider.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:VO(a,o)})}},getConnectorsByNamespace:function(e){var t=z_.allConnectors.filter((function(t){return t.chain===e}));return this.mergeMultiChainConnectors(t)},selectWalletConnector:function(e){var t=q_.getConnector(e.id,e.rdns);xM.state.activeChain===ZO.CHAIN.SOLANA&&v_((null===t||void 0===t?void 0:t.name)||e.name||""),t?U_.push("ConnectingExternal",{connector:t}):U_.push("ConnectingWalletConnect",{wallet:e})},getConnectors:function(e){return e?this.getConnectorsByNamespace(e):this.mergeMultiChainConnectors(z_.allConnectors)},setFilterByNamespace:function(e){z_.filterByNamespace=e,z_.connectors=this.getConnectors(e),L_.setFilterByNamespace(e)},setConnectorId:function(e,t){e&&(z_.activeConnectorIds=(0,I.Z)((0,I.Z)({},z_.activeConnectorIds),{},(0,T.Z)({},t,e)),l_.setConnectedConnectorId(t,e))},removeConnectorId:function(e){z_.activeConnectorIds=(0,I.Z)((0,I.Z)({},z_.activeConnectorIds),{},(0,T.Z)({},e,void 0)),l_.deleteConnectedConnectorId(e)},getConnectorId:function(e){if(e)return z_.activeConnectorIds[e]},isConnected:function(e){return e?!!z_.activeConnectorIds[e]:Object.values(z_.activeConnectorIds).some((function(e){return!!e}))},resetConnectorIds:function(){z_.activeConnectorIds=(0,I.Z)({},D_)}};function H_(e,t){return q_.getConnectorId(e)===t}function W_(e){var t=Array.from(xM.state.chains.keys()),n=[];return e?(n.push([e,xM.state.chains.get(e)]),H_(e,ZO.CONNECTOR_ID.WALLET_CONNECT)?t.forEach((function(t){t!==e&&H_(t,ZO.CONNECTOR_ID.WALLET_CONNECT)&&n.push([t,xM.state.chains.get(t)])})):H_(e,ZO.CONNECTOR_ID.AUTH)&&t.forEach((function(t){t!==e&&H_(t,ZO.CONNECTOR_ID.AUTH)&&n.push([t,xM.state.chains.get(t)])}))):n=Array.from(xM.state.chains.entries()),n}var F_,V_={EOA:"eoa",SMART_ACCOUNT:"smartAccount"},K_=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),G_=r_((0,I.Z)({},K_)),$_={state:G_,subscribeKey:function(e,t){return s_(G_,e,t)},showLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showMessage((0,I.Z)({message:e,variant:"loading"},t))},showSuccess:function(e){this._showMessage({message:e,variant:"success"})},showSvg:function(e,t){this._showMessage({message:e,svg:t})},showError:function(e){var t=d_.parseError(e);this._showMessage({message:t,variant:"error"})},hide:function(){G_.message=K_.message,G_.variant=K_.variant,G_.svg=K_.svg,G_.open=K_.open,G_.autoClose=K_.autoClose},_showMessage:function(e){var t=e.message,n=e.svg,r=e.variant,i=void 0===r?"success":r,o=e.autoClose,a=void 0===o?K_.autoClose:o;G_.open?(G_.open=!1,setTimeout((function(){G_.message=t,G_.variant=i,G_.svg=n,G_.open=!0,G_.autoClose=a}),150)):(G_.message=t,G_.variant=i,G_.svg=n,G_.open=!0,G_.autoClose=a)}},Y_={getSIWX:function(){return Z_.state.siwx},initializeIfEnabled:function(){var e=this;return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s,c,u;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Z_.state.siwx,r=xM.getActiveCaipAddress(),n&&r){t.next=3;break}return t.abrupt("return");case 3:if(i=r.split(":"),o=(0,S.Z)(i,3),a=o[0],s=o[1],c=o[2],!xM.checkIfSupportedNetwork(a)){t.next=22;break}return t.prev=5,t.next=8,n.getSessions("".concat(a,":").concat(s),c);case 8:if(!t.sent.length){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,PM.open({view:"SIWXSignMessage"});case 12:t.next=22;break;case 14:return t.prev=14,t.t0=t.catch(5),console.error("SIWXUtil:initializeIfEnabled",t.t0),O_.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:e.getSIWXEventProperties()}),t.next=20,null===(u=eN._getClient())||void 0===u?void 0:u.disconnect().catch(console.error);case 20:U_.reset("Connect"),$_.showError("A problem occurred while trying initialize authentication");case 22:case"end":return t.stop()}}),t,null,[[5,14]])})))()},requestSignMessage:function(){var e=this;return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s,c,u;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Z_.state.siwx,r=d_.getPlainAddress(xM.getActiveCaipAddress()),i=xM.getActiveCaipNetwork(),o=eN._getClient(),n){t.next=3;break}throw new Error("SIWX is not enabled");case 3:if(r){t.next=5;break}throw new Error("No ActiveCaipAddress found");case 5:if(i){t.next=7;break}throw new Error("No ActiveCaipNetwork or client found");case 7:if(o){t.next=9;break}throw new Error("No ConnectionController client found");case 9:return t.prev=9,t.next=12,n.createMessage({chainId:i.caipNetworkId,accountAddress:r});case 12:return a=t.sent,s=a.toString(),q_.getConnectorId(i.chainNamespace)===ZO.CONNECTOR_ID.AUTH&&U_.pushTransactionStack({view:null,goBack:!1,replace:!0}),t.next=17,o.signMessage(s);case 17:return c=t.sent,t.next=20,n.addSession({data:a,message:s,signature:c});case 20:PM.close(),O_.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:e.getSIWXEventProperties()}),t.next=34;break;case 24:if(t.prev=24,t.t0=t.catch(9),u=e.getSIWXEventProperties(),t.t1=!PM.state.open||"ApproveTransaction"===U_.state.view,!t.t1){t.next=31;break}return t.next=31,PM.open({view:"SIWXSignMessage"});case 31:u.isSmartAccount?$_.showError("This application might not support Smart Accounts"):$_.showError("Signature declined"),O_.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:u}),console.error("SWIXUtil:requestSignMessage",t.t0);case 34:case"end":return t.stop()}}),t,null,[[9,24]])})))()},cancelSignMessage:function(){var e=this;return(0,P.Z)((0,A.Z)().mark((function t(){var n,r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null===(n=e.getSIWX())||void 0===n||null===(r=n.getRequired)||void 0===r||!r.call(n)){t.next=6;break}return t.next=4,eN.disconnect();case 4:t.next=7;break;case 6:PM.close();case 7:U_.reset("Connect"),O_.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:e.getSIWXEventProperties()}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("SIWXUtil:cancelSignMessage",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getSessions:function(){return(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z_.state.siwx,n=d_.getPlainAddress(xM.getActiveCaipAddress()),r=xM.getActiveCaipNetwork(),e.abrupt("return",t&&n&&r?t.getSessions(r.caipNetworkId,n):[]);case 2:case"end":return e.stop()}}),e)})))()},isSIWXCloseDisabled:function(){var e=this;return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getSIWX())){t.next=11;break}if(i="ApproveTransaction"===U_.state.view,o="SIWXSignMessage"===U_.state.view,!i&&!o){t.next=11;break}if(t.t0=null===(r=n.getRequired)||void 0===r?void 0:r.call(n),!t.t0){t.next=10;break}return t.next=8,e.getSessions();case 8:t.t1=t.sent.length,t.t0=0===t.t1;case 10:return t.abrupt("return",t.t0);case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})))()},universalProviderAuthenticate:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s,c,u,l,d,f;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.universalProvider,a=e.chains,s=e.methods,c=Y_.getSIWX(),u=new Set(a.map((function(e){return e.split(":")[0]}))),c&&1===u.size&&u.has("eip155")){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,c.createMessage({chainId:(null===(n=xM.getActiveCaipNetwork())||void 0===n?void 0:n.caipNetworkId)||"",accountAddress:""});case 6:return l=t.sent,t.next=9,o.authenticate({nonce:l.nonce,domain:l.domain,uri:l.uri,exp:l.expirationTime,iat:l.issuedAt,nbf:l.notBefore,requestId:l.requestId,version:l.version,resources:l.resources,statement:l.statement,chainId:l.chainId,methods:s,chains:[l.chainId].concat((0,N.Z)(a.filter((function(e){return e!==l.chainId}))))});case 9:if(d=t.sent,$_.showLoading("Authenticating...",{autoClose:!1}),SM.setConnectedWalletInfo((0,I.Z)((0,I.Z)({},d.session.peer.metadata),{},{name:d.session.peer.metadata.name,icon:null===(r=d.session.peer.metadata.icons)||void 0===r?void 0:r[0],type:"WALLET_CONNECT"}),Array.from(u)[0]),null===d||void 0===d||null===(i=d.auths)||void 0===i||!i.length){t.next=28;break}return f=d.auths.map((function(e){var t=o.client.formatAuthMessage({request:e.p,iss:e.p.iss});return{data:(0,I.Z)((0,I.Z)({},e.p),{},{accountAddress:e.p.iss.split(":").slice(-1).join(""),chainId:e.p.iss.split(":").slice(2,4).join(":"),uri:e.p.aud,version:e.p.version||l.version,expirationTime:e.p.exp,issuedAt:e.p.iat,notBefore:e.p.nbf}),message:t,signature:e.s.s,cacao:e}})),t.prev=12,t.next=15,c.setSessions(f);case 15:O_.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Y_.getSIWXEventProperties()}),t.next=25;break;case 18:return t.prev=18,t.t0=t.catch(12),console.error("SIWX:universalProviderAuth - failed to set sessions",t.t0),O_.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Y_.getSIWXEventProperties()}),t.next=24,o.disconnect().catch(console.error);case 24:throw t.t0;case 25:return t.prev=25,$_.hide(),t.finish(25);case 28:return t.abrupt("return",!0);case 29:case"end":return t.stop()}}),t,null,[[12,18,25,28]])})))()},getSIWXEventProperties:function(){var e,t,n=xM.state.activeChain;return{network:(null===(e=xM.state.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId)||"",isSmartAccount:(null===(t=SM.state.preferredAccountTypes)||void 0===t?void 0:t[n])===V_.SMART_ACCOUNT}},clearSessions:function(){var e=this;return(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getSIWX(),t.t0=n,!t.t0){t.next=5;break}return t.next=5,n.setSessions([]);case 5:case"end":return t.stop()}}),t)})))()}},J_=r_({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),X_=function(){J_.transactions=[],J_.transactionsByYear={},J_.lastNetworkInView=void 0,J_.loading=!1,J_.empty=!1,J_.next=void 0},Q_=r_({wcError:!1,buffering:!1,status:"disconnected"}),eN={state:Q_,subscribeKey:function(e,t){return s_(Q_,e,t)},_getClient:function(){return Q_._client},setClient:function(e){Q_._client=a_(e)},connectWalletConnect:function(){var e=this;return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(d_.isTelegram()||d_.isSafari()&&d_.isIos())){t.next=19;break}if(!F_){t.next=6;break}return t.next=4,F_;case 4:return F_=void 0,t.abrupt("return");case 6:if(d_.isPairingExpired(null===Q_||void 0===Q_?void 0:Q_.wcPairingExpiry)){t.next=10;break}return a=Q_.wcUri,Q_.wcUri=a,t.abrupt("return");case 10:return F_=null===(i=e._getClient())||void 0===i||null===(o=i.connectWalletConnect)||void 0===o?void 0:o.call(i).catch((function(){})),e.state.status="connecting",t.next=14,F_;case 14:F_=void 0,Q_.wcPairingExpiry=void 0,e.state.status="connected",t.next=21;break;case 19:return t.next=21,null===(n=e._getClient())||void 0===n||null===(r=n.connectWalletConnect)||void 0===r?void 0:r.call(n);case 21:case"end":return t.stop()}}),t)})))()},connectExternal:function(e,t){var n=arguments,r=this;return(0,P.Z)((0,A.Z)().mark((function i(){var o,a,s;return(0,A.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=!(n.length>2&&void 0!==n[2])||n[2],i.next=3,null===(o=r._getClient())||void 0===o||null===(a=o.connectExternal)||void 0===a?void 0:a.call(o,e);case 3:s&&xM.setActiveNamespace(t);case 4:case"end":return i.stop()}}),i)})))()},reconnectExternal:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r,i,o;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===(r=t._getClient())||void 0===r||null===(i=r.reconnectExternal)||void 0===i?void 0:i.call(r,e);case 2:(o=e.chain||xM.state.activeChain)&&q_.setConnectorId(e.id,o);case 4:case"end":return n.stop()}}),n)})))()},setPreferredAccountType:function(e,t){var n=this;return(0,P.Z)((0,A.Z)().mark((function r(){var i,o,a;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(PM.setLoading(!0,xM.state.activeChain),a=q_.getAuthConnector(),r.t0=a,!r.t0){r.next=12;break}return SM.setPreferredAccountType(e,t),r.next=7,a.provider.setPreferredAccount(e);case 7:return l_.setPreferredAccountTypes(null!==(i=SM.state.preferredAccountTypes)&&void 0!==i?i:(0,T.Z)({},t,e)),r.next=10,n.reconnectExternal(a);case 10:PM.setLoading(!1,xM.state.activeChain),O_.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:(null===(o=xM.state.activeCaipNetwork)||void 0===o?void 0:o.caipNetworkId)||""}});case 12:case"end":return r.stop()}}),r)})))()},signMessage:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=t._getClient())||void 0===r?void 0:r.signMessage(e));case 1:case"end":return n.stop()}}),n)})))()},parseUnits:function(e,t){var n;return null===(n=this._getClient())||void 0===n?void 0:n.parseUnits(e,t)},formatUnits:function(e,t){var n;return null===(n=this._getClient())||void 0===n?void 0:n.formatUnits(e,t)},sendTransaction:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=t._getClient())||void 0===r?void 0:r.sendTransaction(e));case 1:case"end":return n.stop()}}),n)})))()},getCapabilities:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=t._getClient())||void 0===r?void 0:r.getCapabilities(e));case 1:case"end":return n.stop()}}),n)})))()},grantPermissions:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=t._getClient())||void 0===r?void 0:r.grantPermissions(e));case 1:case"end":return n.stop()}}),n)})))()},walletGetAssets:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r,i;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null!==(r=null===(i=t._getClient())||void 0===i?void 0:i.walletGetAssets(e))&&void 0!==r?r:{});case 1:case"end":return n.stop()}}),n)})))()},estimateGas:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=t._getClient())||void 0===r?void 0:r.estimateGas(e));case 1:case"end":return n.stop()}}),n)})))()},writeContract:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=t._getClient())||void 0===r?void 0:r.writeContract(e));case 1:case"end":return n.stop()}}),n)})))()},getEnsAddress:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=t._getClient())||void 0===r?void 0:r.getEnsAddress(e));case 1:case"end":return n.stop()}}),n)})))()},getEnsAvatar:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=t._getClient())||void 0===r?void 0:r.getEnsAvatar(e));case 1:case"end":return n.stop()}}),n)})))()},checkInstalled:function(e){var t,n;return(null===(t=this._getClient())||void 0===t||null===(n=t.checkInstalled)||void 0===n?void 0:n.call(t,e))||!1},resetWcConnection:function(){Q_.wcUri=void 0,Q_.wcPairingExpiry=void 0,Q_.wcLinking=void 0,Q_.recentWallet=void 0,Q_.status="disconnected",X_(),l_.deleteWalletConnectDeepLink()},resetUri:function(){Q_.wcUri=void 0,Q_.wcPairingExpiry=void 0},finalizeWcConnection:function(){var e,t,n=eN.state,r=n.wcLinking,i=n.recentWallet;r&&l_.setWalletConnectDeepLink(r),i&&l_.setAppKitRecent(i),O_.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:r?"mobile":"qrcode",name:(null===(e=U_.state.data)||void 0===e||null===(t=e.wallet)||void 0===t?void 0:t.name)||"Unknown"}})},setWcBasic:function(e){Q_.wcBasic=e},setUri:function(e){Q_.wcUri=e,Q_.wcPairingExpiry=d_.getPairingExpiry()},setWcLinking:function(e){Q_.wcLinking=e},setWcError:function(e){Q_.wcError=e,Q_.buffering=!1},setRecentWallet:function(e){Q_.recentWallet=e},setBuffering:function(e){Q_.buffering=e},setStatus:function(e){Q_.status=e},disconnect:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,PM.setLoading(!0,e),t.next=4,Y_.clearSessions();case 4:return t.next=6,xM.disconnect(e);case 6:PM.setLoading(!1,e),q_.setFilterByNamespace(void 0),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),new Error("Failed to disconnect");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},tN=r_({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),nN={state:tN,subscribe:function(e){return i_(tN,(function(){return e(tN)}))},subscribeOpen:function(e){return s_(tN,"open",e)},set:function(e){Object.assign(tN,(0,I.Z)((0,I.Z)({},tN),e))}};function rN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.strict,r=void 0===n||n;return!(!e||"string"!=typeof e)&&(r?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}function iN(e){return rN(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}var oN="2.27.0",aN={getDocsUrl:function(e){var t=e.docsBaseUrl,n=e.docsPath,r=void 0===n?"":n,i=e.docsSlug;return r?"".concat(null!==t&&void 0!==t?t:"https://viem.sh").concat(r).concat(i?"#".concat(i):""):void 0},version:"viem@".concat(oN)},sN=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,O.Z)(this,n);var c=s.cause instanceof n?s.cause.details:null!==(r=s.cause)&&void 0!==r&&r.message?s.cause.message:s.details,u=s.cause instanceof n&&s.cause.docsPath||s.docsPath,l=null===(i=aN.getDocsUrl)||void 0===i?void 0:i.call(aN,(0,I.Z)((0,I.Z)({},s),{},{docsPath:u})),d=[e||"An error occurred.",""].concat((0,N.Z)(s.metaMessages?[].concat((0,N.Z)(s.metaMessages),[""]):[]),(0,N.Z)(l?["Docs: ".concat(l)]:[]),(0,N.Z)(c?["Details: ".concat(c)]:[]),(0,N.Z)(aN.version?["Version: ".concat(aN.version)]:[])).join("\n");return a=t.call(this,d,s.cause?{cause:s.cause}:void 0),Object.defineProperty((0,x.Z)(a),"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(a),"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),a.details=c,a.docsPath=u,a.metaMessages=s.metaMessages,a.name=null!==(o=s.name)&&void 0!==o?o:a.name,a.shortMessage=e,a.version=oN,a}return(0,_.Z)(n,[{key:"walk",value:function(e){return cN(this,e)}}]),n}((0,C.Z)(Error));function cN(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?cN(e.cause,t):t?null:e}var uN=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.offset,i=e.position,o=e.size;return(0,O.Z)(this,n),t.call(this,"Slice ".concat("start"===i?"starting":"ending",' at offset "').concat(r,'" is out-of-bounds (size: ').concat(o,")."),{name:"SliceOffsetOutOfBoundsError"})}return(0,_.Z)(n)}(sN),lN=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.size,i=e.targetSize,o=e.type;return(0,O.Z)(this,n),t.call(this,"".concat(o.charAt(0).toUpperCase()).concat(o.slice(1).toLowerCase()," size (").concat(r,") exceeds padding size (").concat(i,")."),{name:"SizeExceedsPaddingSizeError"})}return(0,_.Z)(n)}(sN);function dN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,r=t.size,i=void 0===r?32:r;return"string"==typeof e?fN(e,{dir:n,size:i}):pN(e,{dir:n,size:i})}function fN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,r=t.size,i=void 0===r?32:r;if(null===i)return e;var o=e.replace("0x","");if(o.length>2*i)throw new lN({size:Math.ceil(o.length/2),targetSize:i,type:"hex"});return"0x".concat(o["right"===n?"padEnd":"padStart"](2*i,"0"))}function pN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,r=t.size,i=void 0===r?32:r;if(null===i)return e;if(e.length>i)throw new lN({size:e.length,targetSize:i,type:"bytes"});for(var o=new Uint8Array(i),a=0;a<i;a++){var s="right"===n;o[s?a:i-a-1]=e[s?a:e.length-a-1]}return o}var hN=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.max,i=e.min,o=e.signed,a=e.size,s=e.value;return(0,O.Z)(this,n),t.call(this,'Number "'.concat(s,'" is not in safe ').concat(a?"".concat(8*a,"-bit ").concat(o?"signed":"unsigned"," "):"","integer range ").concat(r?"(".concat(i," to ").concat(r,")"):"(above ".concat(i,")")),{name:"IntegerOutOfRangeError"})}return(0,_.Z)(n)}(sN),vN=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.givenSize,i=e.maxSize;return(0,O.Z)(this,n),t.call(this,"Size cannot exceed ".concat(i," bytes. Given size: ").concat(r," bytes."),{name:"SizeOverflowError"})}return(0,_.Z)(n)}(sN);function gN(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,r=void 0===n?"left":n,i="string"==typeof e?e.replace("0x",""):e,o=0,a=0;a<i.length-1&&"0"===i["left"===r?a:i.length-a-1].toString();a++)o++;return i="left"===r?i.slice(o):i.slice(0,i.length-o),"string"==typeof e?(1===i.length&&"right"===r&&(i="".concat(i,"0")),"0x".concat(i.length%2===1?"0".concat(i):i)):i}function wN(e,t){var n=t.size;if(iN(e)>n)throw new vN({givenSize:iN(e),maxSize:n})}function mN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.signed;t.size&&wN(e,{size:t.size});var r=BigInt(e);if(!n)return r;var i=(e.length-2)/2,o=(1n<<8n*BigInt(i)-1n)-1n;return r<=o?r:r-BigInt("0x".concat("f".padStart(2*i,"f")))-1n}function bN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Number(mN(e,t))}var yN=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function xN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"==typeof e||"bigint"==typeof e?CN(e,t):"string"==typeof e?IN(e,t):"boolean"==typeof e?kN(e,t):ZN(e,t)}function kN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="0x".concat(Number(e));return"number"==typeof t.size?(wN(n,{size:t.size}),dN(n,{size:t.size})):n}function ZN(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="",r=0;r<e.length;r++)n+=yN[e[r]];var i="0x".concat(n);return"number"==typeof t.size?(wN(i,{size:t.size}),dN(i,{dir:"right",size:t.size})):i}function CN(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.signed,i=n.size,o=BigInt(e);i?t=r?(1n<<8n*BigInt(i)-1n)-1n:Math.pow(2n,8n*BigInt(i))-1n:"number"==typeof e&&(t=BigInt(Number.MAX_SAFE_INTEGER));var a="bigint"==typeof t&&r?-t-1n:0;if(t&&o>t||o<a){var s="bigint"==typeof e?"n":"";throw new hN({max:t?"".concat(t).concat(s):void 0,min:"".concat(a).concat(s),signed:r,size:i,value:"".concat(e).concat(s)})}var c="0x".concat((r&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16));return i?dN(c,{size:i}):c}var EN=new TextEncoder;function IN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=EN.encode(e);return ZN(n,t)}var SN=new TextEncoder;function AN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"==typeof e||"bigint"==typeof e?MN(e,t):"boolean"==typeof e?PN(e,t):rN(e)?UN(e,t):jN(e,t)}function PN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Uint8Array(1);return n[0]=Number(e),"number"==typeof t.size?(wN(n,{size:t.size}),dN(n,{size:t.size})):n}var ON=48,_N=57,NN=65,TN=70,RN=97,LN=102;function BN(e){return e>=ON&&e<=_N?e-ON:e>=NN&&e<=TN?e-(NN-10):e>=RN&&e<=LN?e-(RN-10):void 0}function UN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;t.size&&(wN(n,{size:t.size}),n=dN(n,{dir:"right",size:t.size}));var r=n.slice(2);r.length%2&&(r="0".concat(r));for(var i=r.length/2,o=new Uint8Array(i),a=0,s=0;a<i;a++){var c=BN(r.charCodeAt(s++)),u=BN(r.charCodeAt(s++));if(void 0===c||void 0===u)throw new sN('Invalid byte sequence ("'.concat(r[s-2]).concat(r[s-1],'" in "').concat(r,'").'));o[a]=16*c+u}return o}function MN(e,t){return UN(CN(e,t))}function jN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=SN.encode(e);return"number"==typeof t.size?(wN(n,{size:t.size}),dN(n,{dir:"right",size:t.size})):n}function DN(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function zN(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function qN(e){if(!zN(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function HN(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function WN(e,t){qN(e);var n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}var FN=BigInt(Math.pow(2,32)-1),VN=BigInt(32);function KN(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{h:Number(e&FN),l:Number(e>>VN&FN)}:{h:0|Number(e>>VN&FN),l:0|Number(e&FN)}}var GN="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function $N(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function YN(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function JN(e,t){return e<<32-t|e>>>t}var XN=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function QN(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function eT(e){for(var t=0;t<e.length;t++)e[t]=QN(e[t])}function tT(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),qN(e),e}function nT(){for(var e=0,t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];qN(n),e+=n.length}for(var r=new Uint8Array(e),i=0,o=0;i<arguments.length;i++){var a=i<0||arguments.length<=i?void 0:arguments[i];r.set(a,o),o+=a.length}return r}var rT=function(){function e(){(0,O.Z)(this,e)}return(0,_.Z)(e,[{key:"clone",value:function(){return this._cloneInto()}}]),e}();function iT(e){var t=function(t){return e().update(tT(t)).digest()},n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=function(){return e()},t}function oT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(GN&&"function"==typeof GN.getRandomValues)return GN.getRandomValues(new Uint8Array(e));if(GN&&"function"==typeof GN.randomBytes)return GN.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}for(var aT=[],sT=[],cT=[],uT=BigInt(0),lT=BigInt(1),dT=BigInt(2),fT=BigInt(7),pT=BigInt(256),hT=BigInt(113),vT=0,gT=lT,wT=1,mT=0;vT<24;vT++){var bT;wT=(bT=[mT,(2*wT+3*mT)%5])[0],mT=bT[1],aT.push(2*(5*mT+wT)),sT.push((vT+1)*(vT+2)/2%64);for(var yT=uT,xT=0;xT<7;xT++)(gT=(gT<<lT^(gT>>fT)*hT)%pT)&dT&&(yT^=lT<<(lT<<BigInt(xT))-lT);cT.push(yT)}var kT=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length),i=0;i<e.length;i++){var o=KN(e[i],t),a=o.h,s=o.l,c=[a,s];n[i]=c[0],r[i]=c[1]}return[n,r]}(cT,!0),ZT=(0,S.Z)(kT,2),CT=ZT[0],ET=ZT[1],IT=function(e,t,n){return n>32?function(e,t,n){return t<<n-32|e>>>64-n}(e,t,n):function(e,t,n){return e<<n|t>>>32-n}(e,t,n)},ST=function(e,t,n){return n>32?function(e,t,n){return e<<n-32|t>>>64-n}(e,t,n):function(e,t,n){return t<<n|e>>>32-n}(e,t,n)};var AT=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if((0,O.Z)(this,n),(o=t.call(this)).blockLen=e,o.suffix=r,o.outputLen=i,o.enableXOF=a,o.rounds=s,o.pos=0,o.posOut=0,o.finished=!1,o.destroyed=!1,DN(i),0>=o.blockLen||o.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");return o.state=new Uint8Array(200),o.state32=$N(o.state),(0,y.Z)(o)}return(0,_.Z)(n,[{key:"keccak",value:function(){XN||eT(this.state32),function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=new Uint32Array(10),r=24-t;r<24;r++){for(var i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(var o=0;o<10;o+=2)for(var a=(o+8)%10,s=(o+2)%10,c=n[s],u=n[s+1],l=IT(c,u,1)^n[a],d=ST(c,u,1)^n[a+1],f=0;f<50;f+=10)e[o+f]^=l,e[o+f+1]^=d;for(var p=e[2],h=e[3],v=0;v<24;v++){var g=sT[v],w=IT(p,h,g),m=ST(p,h,g),b=aT[v];p=e[b],h=e[b+1],e[b]=w,e[b+1]=m}for(var y=0;y<50;y+=10){for(var x=0;x<10;x++)n[x]=e[y+x];for(var k=0;k<10;k++)e[y+k]^=~n[(k+2)%10]&n[(k+4)%10]}e[0]^=CT[r],e[1]^=ET[r]}n.fill(0)}(this.state32,this.rounds),XN||eT(this.state32),this.posOut=0,this.pos=0}},{key:"update",value:function(e){HN(this);for(var t=this.blockLen,n=this.state,r=(e=tT(e)).length,i=0;i<r;){for(var o=Math.min(t-this.pos,r-i),a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}},{key:"finish",value:function(){if(!this.finished){this.finished=!0;var e=this.state,t=this.suffix,n=this.pos,r=this.blockLen;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}}},{key:"writeInto",value:function(e){HN(this,!1),qN(e),this.finish();for(var t=this.state,n=this.blockLen,r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();var o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}},{key:"xofInto",value:function(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}},{key:"xof",value:function(e){return DN(e),this.xofInto(new Uint8Array(e))}},{key:"digestInto",value:function(e){if(WN(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}},{key:"digest",value:function(){return this.digestInto(new Uint8Array(this.outputLen))}},{key:"destroy",value:function(){this.destroyed=!0,this.state.fill(0)}},{key:"_cloneInto",value:function(e){var t=this.blockLen,r=this.suffix,i=this.outputLen,o=this.rounds,a=this.enableXOF;return e||(e=new n(t,r,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}]),n}(rT),PT=function(e,t,n){return iT((function(){return new AT(t,e,n)}))}(1,136,32);var OT=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.address;return(0,O.Z)(this,n),t.call(this,'Address "'.concat(r,'" is invalid.'),{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}return(0,_.Z)(n)}(sN),_T=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,O.Z)(this,n),r=t.call(this),Object.defineProperty((0,x.Z)(r),"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.maxSize=e,r}return(0,_.Z)(n,[{key:"get",value:function(e){var t=(0,m.Z)((0,b.Z)(n.prototype),"get",this).call(this,e);return(0,m.Z)((0,b.Z)(n.prototype),"has",this).call(this,e)&&void 0!==t&&(this.delete(e),(0,m.Z)((0,b.Z)(n.prototype),"set",this).call(this,e,t)),t}},{key:"set",value:function(e,t){if((0,m.Z)((0,b.Z)(n.prototype),"set",this).call(this,e,t),this.maxSize&&this.size>this.maxSize){var r=this.keys().next().value;r&&this.delete(r)}return this}}]),n}((0,C.Z)(Map)),NT=new _T(8192);function TT(e,t){if(NT.has("".concat(e,".").concat(t)))return NT.get("".concat(e,".").concat(t));for(var n=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),r=function(e,t){var n=t||"hex",r=PT(rN(e,{strict:!1})?AN(e):e);return"bytes"===n?r:xN(r)}(jN(n),"bytes"),i=(t?n.substring("".concat(t,"0x").length):n).split(""),o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(15&r[o>>1])>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());var a="0x".concat(i.join(""));return NT.set("".concat(e,".").concat(t),a),a}var RT=/^0x[a-fA-F0-9]{40}$/,LT=new _T(8192);function BT(e,t){var n=(null!==t&&void 0!==t?t:{}).strict,r=void 0===n||n,i="".concat(e,".").concat(r);if(LT.has(i))return LT.get(i);var o=!!RT.test(e)&&(e.toLowerCase()===e||(!r||TT(e)===e));return LT.set(i,o),o}function UT(e){return"0x".concat(e.reduce((function(e,t){return e+t.replace("0x","")}),""))}function MT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.strict;return rN(e,{strict:!1})?qT(e,t,n,{strict:i}):zT(e,t,n,{strict:i})}function jT(e,t){if("number"==typeof t&&t>0&&t>iN(e)-1)throw new uN({offset:t,position:"start",size:iN(e)})}function DT(e,t,n){if("number"==typeof t&&"number"==typeof n&&iN(e)!==n-t)throw new uN({offset:n,position:"end",size:iN(e)})}function zT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.strict;jT(e,t);var o=e.slice(t,n);return i&&DT(o,t,n),o}function qT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.strict;jT(e,t);var o="0x".concat(e.replace("0x","").slice(2*(null!==t&&void 0!==t?t:0),2*(null!==n&&void 0!==n?n:e.length)));return i&&DT(o,t,n),o}var HT=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.offset;return(0,O.Z)(this,n),t.call(this,"Offset `".concat(r,"` cannot be negative."),{name:"NegativeOffsetError"})}return(0,_.Z)(n)}(sN),WT=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.length,i=e.position;return(0,O.Z)(this,n),t.call(this,"Position `".concat(i,"` is out of bounds (`0 < position < ").concat(r,"`)."),{name:"PositionOutOfBoundsError"})}return(0,_.Z)(n)}(sN),FT=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.count,i=e.limit;return(0,O.Z)(this,n),t.call(this,"Recursive read limit of `".concat(i,"` exceeded (recursive read count: `").concat(r,"`)."),{name:"RecursiveReadLimitExceededError"})}return(0,_.Z)(n)}(sN),VT={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit:function(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new FT({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition:function(e){if(e<0||e>this.bytes.length-1)throw new WT({length:this.bytes.length,position:e})},decrementPosition:function(e){if(e<0)throw new HT({offset:e});var t=this.position-e;this.assertPosition(t),this.position=t},getReadCount:function(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition:function(e){if(e<0)throw new HT({offset:e});var t=this.position+e;this.assertPosition(t),this.position=t},inspectByte:function(e){var t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes:function(e,t){var n=null!==t&&void 0!==t?t:this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8:function(e){var t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16:function(e){var t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24:function(e){var t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32:function(e){var t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte:function(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes:function(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8:function(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16:function(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24:function(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32:function(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte:function(){this.assertReadLimit(),this._touch();var e=this.inspectByte();return this.position++,e},readBytes:function(e,t){this.assertReadLimit(),this._touch();var n=this.inspectBytes(e);return this.position+=null!==t&&void 0!==t?t:e,n},readUint8:function(){this.assertReadLimit(),this._touch();var e=this.inspectUint8();return this.position+=1,e},readUint16:function(){this.assertReadLimit(),this._touch();var e=this.inspectUint16();return this.position+=2,e},readUint24:function(){this.assertReadLimit(),this._touch();var e=this.inspectUint24();return this.position+=3,e},readUint32:function(){this.assertReadLimit(),this._touch();var e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition:function(e){var t=this,n=this.position;return this.assertPosition(e),this.position=e,function(){return t.position=n}},_touch:function(){if(this.recursiveReadLimit!==Number.POSITIVE_INFINITY){var e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}}};function KT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.recursiveReadLimit,r=void 0===n?8192:n,i=Object.create(VT);return i.bytes=e,i.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),i.positionReadCount=new Map,i.recursiveReadLimit=r,i}var GT=function(e,t,n){return JSON.stringify(e,(function(e,n){var r="bigint"==typeof n?n.toString():n;return"function"==typeof t?t(e,r):r}),n)},$T={ether:-9,wei:9};function YT(e,t){var n=e.toString(),r=n.startsWith("-");r&&(n=n.slice(1));var i=[(n=n.padStart(t,"0")).slice(0,n.length-t),n.slice(n.length-t)],o=i[0],a=i[1];return a=a.replace(/(0+)$/,""),"".concat(r?"-":"").concat(o||"0").concat(a?".".concat(a):"")}function JT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return YT(e,$T[t])}function XT(e){var t=Object.entries(e).map((function(e){var t=(0,S.Z)(e,2),n=t[0],r=t[1];return void 0===r||!1===r?null:[n,r]})).filter(Boolean),n=t.reduce((function(e,t){var n=(0,S.Z)(t,1)[0];return Math.max(e,n.length)}),0);return t.map((function(e){var t=(0,S.Z)(e,2),r=t[0],i=t[1];return"  ".concat("".concat(r,":").padEnd(n+1),"  ").concat(i)})).join("\n")}var QT=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.v;return(0,O.Z)(this,n),t.call(this,'Invalid `v` value "'.concat(r,'". Expected 27 or 28.'),{name:"InvalidLegacyVError"})}return(0,_.Z)(n)}(sN),eR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.transaction;return(0,O.Z)(this,n),t.call(this,"Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",XT(r),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}return(0,_.Z)(n)}(sN),tR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.storageKey;return(0,O.Z)(this,n),t.call(this,'Size for storage key "'.concat(r,'" is invalid. Expected 32 bytes. Got ').concat(Math.floor((r.length-2)/2)," bytes."),{name:"InvalidStorageKeySizeError"})}return(0,_.Z)(n)}(sN),nR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.body,o=e.cause,a=e.details,s=e.headers,c=e.status,u=e.url;return(0,O.Z)(this,n),r=t.call(this,"HTTP request failed.",{cause:o,details:a,metaMessages:[c&&"Status: ".concat(c),"URL: ".concat(u),i&&"Request body: ".concat(GT(i))].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty((0,x.Z)(r),"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(r),"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(r),"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(r),"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.body=i,r.headers=s,r.status=c,r.url=u,r}return(0,_.Z)(n)}(sN),rR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.body,o=e.error,a=e.url;return(0,O.Z)(this,n),r=t.call(this,"RPC Request failed.",{cause:o,details:o.message,metaMessages:["URL: ".concat(a),"Request body: ".concat(GT(i))],name:"RpcRequestError"}),Object.defineProperty((0,x.Z)(r),"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(r),"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.code=o.code,r.data=o.data,r}return(0,_.Z)(n)}(sN),iR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.body,i=e.url;return(0,O.Z)(this,n),t.call(this,"The request took too long to respond.",{details:"The request timed out.",metaMessages:["URL: ".concat(i),"Request body: ".concat(GT(r))],name:"TimeoutError"})}return(0,_.Z)(n)}(sN),oR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i,o=r.code,a=r.docsPath,s=r.metaMessages,c=r.name,u=r.shortMessage;return(0,O.Z)(this,n),i=t.call(this,u,{cause:e,docsPath:a,metaMessages:s||(null===e||void 0===e?void 0:e.metaMessages),name:c||"RpcError"}),Object.defineProperty((0,x.Z)(i),"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.name=c||e.name,i.code=e instanceof rR?e.code:null!==o&&void 0!==o?o:-1,i}return(0,_.Z)(n)}(sN),aR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;return(0,O.Z)(this,n),i=t.call(this,e,r),Object.defineProperty((0,x.Z)(i),"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.data=r.data,i}return(0,_.Z)(n)}(oR),sR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}return(0,_.Z)(n)}(oR);Object.defineProperty(sR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});var cR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}return(0,_.Z)(n)}(oR);Object.defineProperty(cR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});var uR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.method;return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"MethodNotFoundRpcError",shortMessage:"The method".concat(i?' "'.concat(i,'"'):""," does not exist / is not available.")})}return(0,_.Z)(n)}(oR);Object.defineProperty(uR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});var lR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}return(0,_.Z)(n)}(oR);Object.defineProperty(lR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});var dR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}return(0,_.Z)(n)}(oR);Object.defineProperty(dR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});var fR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}return(0,_.Z)(n)}(oR);Object.defineProperty(fR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});var pR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,O.Z)(this,n),r=t.call(this,e,{code:n.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"}),r}return(0,_.Z)(n)}(oR);Object.defineProperty(pR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});var hR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}return(0,_.Z)(n)}(oR);Object.defineProperty(hR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});var vR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}return(0,_.Z)(n)}(oR);Object.defineProperty(vR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});var gR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.method;return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"MethodNotSupportedRpcError",shortMessage:"Method".concat(i?' "'.concat(i,'"'):""," is not supported.")})}return(0,_.Z)(n)}(oR);Object.defineProperty(gR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});var wR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}return(0,_.Z)(n)}(oR);Object.defineProperty(wR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});var mR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}return(0,_.Z)(n)}(oR);Object.defineProperty(mR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});var bR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}return(0,_.Z)(n)}(aR);Object.defineProperty(bR,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});var yR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}return(0,_.Z)(n)}(aR);Object.defineProperty(yR,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});var xR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.method;return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"UnsupportedProviderMethodError",shortMessage:"The Provider does not support the requested method".concat(i?' " '.concat(i,'"'):"",".")})}return(0,_.Z)(n)}(aR);Object.defineProperty(xR,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});var kR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}return(0,_.Z)(n)}(aR);Object.defineProperty(kR,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});var ZR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}return(0,_.Z)(n)}(aR);Object.defineProperty(ZR,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});var CR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}return(0,_.Z)(n)}(aR);Object.defineProperty(CR,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});var ER=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}return(0,_.Z)(n)}(aR);Object.defineProperty(ER,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});var IR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}return(0,_.Z)(n)}(aR);Object.defineProperty(IR,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});var SR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}return(0,_.Z)(n)}(aR);Object.defineProperty(SR,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});var AR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}return(0,_.Z)(n)}(aR);Object.defineProperty(AR,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});var PR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}return(0,_.Z)(n)}(aR);Object.defineProperty(PR,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});var OR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}return(0,_.Z)(n)}(aR);Object.defineProperty(OR,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});var _R=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{code:n.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}return(0,_.Z)(n)}(aR);Object.defineProperty(_R,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});var NR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){return(0,O.Z)(this,n),t.call(this,e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}return(0,_.Z)(n)}(oR);function TR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex",n=RR(e),r=KT(new Uint8Array(n.length));return n.encode(r),"hex"===t?ZN(r.bytes):r.bytes}function RR(e){return Array.isArray(e)?function(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=LR(t);return{length:t<=55?1+t:1+n+t,encode:function(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),1===n?r.pushUint8(t):2===n?r.pushUint16(t):3===n?r.pushUint24(t):r.pushUint32(t));var i,o=(0,R.Z)(e);try{for(o.s();!(i=o.n()).done;){(0,i.value.encode)(r)}}catch(a){o.e(a)}finally{o.f()}}}}(e.map((function(e){return RR(e)}))):function(e){var t="string"==typeof e?UN(e):e,n=LR(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode:function(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+n),1===n?e.pushUint8(t.length):2===n?e.pushUint16(t.length):3===n?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function LR(e){if(e<Math.pow(2,8))return 1;if(e<Math.pow(2,16))return 2;if(e<Math.pow(2,24))return 3;if(e<Math.pow(2,32))return 4;throw new sN("Length is too large.")}var BR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.cause,o=r.message;(0,O.Z)(this,n);var a=null===o||void 0===o||null===(e=o.replace("execution reverted: ",""))||void 0===e?void 0:e.replace("execution reverted","");return t.call(this,"Execution reverted ".concat(a?"with reason: ".concat(a):"for an unknown reason","."),{cause:i,name:"ExecutionRevertedError"})}return(0,_.Z)(n)}(sN);Object.defineProperty(BR,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(BR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});var UR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.cause,i=e.maxFeePerGas;return(0,O.Z)(this,n),t.call(this,"The fee cap (`maxFeePerGas`".concat(i?" = ".concat(JT(i)," gwei"):"",") cannot be higher than the maximum allowed value (2^256-1)."),{cause:r,name:"FeeCapTooHighError"})}return(0,_.Z)(n)}(sN);Object.defineProperty(UR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});var MR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.cause,i=e.maxPriorityFeePerGas,o=e.maxFeePerGas;return(0,O.Z)(this,n),t.call(this,["The provided tip (`maxPriorityFeePerGas`".concat(i?" = ".concat(JT(i)," gwei"):"",") cannot be higher than the fee cap (`maxFeePerGas`").concat(o?" = ".concat(JT(o)," gwei"):"",").")].join("\n"),{cause:r,name:"TipAboveFeeCapError"})}return(0,_.Z)(n)}(sN);function jR(e,t){return function(n){var r=n.exclude,i=n.format;return{exclude:r,format:function(e){var n=t(e);if(r){var o,a=(0,R.Z)(r);try{for(a.s();!(o=a.n()).done;){delete n[o.value]}}catch(s){a.e(s)}finally{a.f()}}return(0,I.Z)((0,I.Z)({},n),i(e))},type:e}}}Object.defineProperty(MR,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});var DR={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};var zR=jR("transactionRequest",(function(e){var t={};return typeof e.authorizationList<"u"&&(t.authorizationList=function(e){return e.map((function(e){return(0,I.Z)((0,I.Z)({address:e.address,r:e.r?CN(BigInt(e.r)):e.r,s:e.s?CN(BigInt(e.s)):e.s,chainId:CN(e.chainId),nonce:CN(e.nonce)},typeof e.yParity<"u"?{yParity:CN(e.yParity)}:{}),typeof e.v<"u"&&typeof e.yParity>"u"?{v:CN(e.v)}:{})}))}(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map((function(e){return ZN(e)})):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=CN(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=CN(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=CN(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=CN(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=CN(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=CN(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=DR[e.type]),typeof e.value<"u"&&(t.value=CN(e.value)),t}));var qR=Math.pow(2n,256n)-1n,HR={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function WR(e){var t=(0,I.Z)((0,I.Z)({},e),{},{blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?bN(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?bN(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?HR[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0});return e.authorizationList&&(t.authorizationList=function(e){return e.map((function(e){return{address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}}))}(e.authorizationList)),t.yParity=function(){if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}}(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}var FR=jR("transaction",WR);var VR=jR("block",(function(e){var t,n=(null!==(t=e.transactions)&&void 0!==t?t:[]).map((function(e){return"string"==typeof e?e:WR(e)}));return(0,I.Z)((0,I.Z)({},e),{},{baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null})}));function KR(e){var t,n,r=e.kzg,i=null!==(t=e.to)&&void 0!==t?t:"string"==typeof e.blobs[0]?"hex":"bytes",o="string"==typeof e.blobs[0]?e.blobs.map((function(e){return UN(e)})):e.blobs,a=[],s=(0,R.Z)(o);try{for(s.s();!(n=s.n()).done;){var c=n.value;a.push(Uint8Array.from(r.blobToKzgCommitment(c)))}}catch(u){s.e(u)}finally{s.f()}return"bytes"===i?a:a.map((function(e){return ZN(e)}))}function GR(e){for(var t,n=e.kzg,r=null!==(t=e.to)&&void 0!==t?t:"string"==typeof e.blobs[0]?"hex":"bytes",i="string"==typeof e.blobs[0]?e.blobs.map((function(e){return UN(e)})):e.blobs,o="string"==typeof e.commitments[0]?e.commitments.map((function(e){return UN(e)})):e.commitments,a=[],s=0;s<i.length;s++){var c=i[s],u=o[s];a.push(Uint8Array.from(n.computeBlobKzgProof(c,u)))}return"bytes"===r?a:a.map((function(e){return ZN(e)}))}function $R(e,t,n){return e&t^~e&n}function YR(e,t,n){return e&t^e&n^t&n}var JR=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r,i,o){var a;return(0,O.Z)(this,n),(a=t.call(this)).blockLen=e,a.outputLen=r,a.padOffset=i,a.isLE=o,a.finished=!1,a.length=0,a.pos=0,a.destroyed=!1,a.buffer=new Uint8Array(e),a.view=YN(a.buffer),a}return(0,_.Z)(n,[{key:"update",value:function(e){HN(this);for(var t=this.view,n=this.buffer,r=this.blockLen,i=(e=tT(e)).length,o=0;o<i;){var a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else for(var s=YN(e);r<=i-o;o+=r)this.process(s,o)}return this.length+=e.length,this.roundClean(),this}},{key:"digestInto",value:function(e){HN(this),WN(e,this),this.finished=!0;var t=this.buffer,n=this.view,r=this.blockLen,i=this.isLE,o=this.pos;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(var a=o;a<r;a++)t[a]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);var i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,s,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);var s=YN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");var u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(var d=0;d<u;d++)s.setUint32(4*d,l[d],i)}},{key:"digest",value:function(){var e=this.buffer,t=this.outputLen;this.digestInto(e);var n=e.slice(0,t);return this.destroy(),n}},{key:"_cloneInto",value:function(e){var t;e||(e=new this.constructor),(t=e).set.apply(t,(0,N.Z)(this.get()));var n=this.blockLen,r=this.buffer,i=this.length,o=this.finished,a=this.destroyed,s=this.pos;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%n&&e.buffer.set(r),e}}]),n}(rT),XR=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),QR=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eL=new Uint32Array(64),tL=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this,64,32,8,!1)).A=0|QR[0],e.B=0|QR[1],e.C=0|QR[2],e.D=0|QR[3],e.E=0|QR[4],e.F=0|QR[5],e.G=0|QR[6],e.H=0|QR[7],e}return(0,_.Z)(n,[{key:"get",value:function(){return[this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H]}},{key:"set",value:function(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}},{key:"process",value:function(e,t){for(var n=0;n<16;n++,t+=4)eL[n]=e.getUint32(t,!1);for(var r=16;r<64;r++){var i=eL[r-15],o=eL[r-2],a=JN(i,7)^JN(i,18)^i>>>3,s=JN(o,17)^JN(o,19)^o>>>10;eL[r]=s+eL[r-7]+a+eL[r-16]|0}var c=this.A,u=this.B,l=this.C,d=this.D,f=this.E,p=this.F,h=this.G,v=this.H;for(n=0;n<64;n++){o=v+(i=JN(f,6)^JN(f,11)^JN(f,25))+$R(f,p,h)+XR[n]+eL[n]|0,s=(JN(c,2)^JN(c,13)^JN(c,22))+YR(c,u,l)|0;v=h,h=p,p=f,f=d+o|0,d=l,l=u,u=c,c=o+s|0}c=c+this.A|0,u=u+this.B|0,l=l+this.C|0,d=d+this.D|0,f=f+this.E|0,p=p+this.F|0,h=h+this.G|0,v=v+this.H|0,this.set(c,u,l,d,f,p,h,v)}},{key:"roundClean",value:function(){eL.fill(0)}},{key:"destroy",value:function(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}]),n}(JR),nL=iT((function(){return new tL}));function rL(e){var t,n=e.commitment,r=e.version,i=void 0===r?1:r,o=null!==(t=e.to)&&void 0!==t?t:"string"==typeof n?"hex":"bytes",a=function(e,t){var n=t||"hex",r=nL(rN(e,{strict:!1})?AN(e):e);return"bytes"===n?r:xN(r)}(n,"bytes");return a.set([i],0),"bytes"===o?a:ZN(a)}var iL=4096,oL=32*iL,aL=761855,sL=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.maxSize,i=e.size;return(0,O.Z)(this,n),t.call(this,"Blob size is too large.",{metaMessages:["Max: ".concat(r," bytes"),"Given: ".concat(i," bytes")],name:"BlobSizeTooLargeError"})}return(0,_.Z)(n)}(sN),cL=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.call(this,"Blob data must not be empty.",{name:"EmptyBlobError"})}return(0,_.Z)(n)}(sN),uL=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.hash,i=e.size;return(0,O.Z)(this,n),t.call(this,'Versioned hash "'.concat(r,'" size is invalid.'),{metaMessages:["Expected: 32","Received: ".concat(i)],name:"InvalidVersionedHashSizeError"})}return(0,_.Z)(n)}(sN),lL=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.hash,i=e.version;return(0,O.Z)(this,n),t.call(this,'Versioned hash "'.concat(r,'" version is invalid.'),{metaMessages:["Expected: ".concat(1),"Received: ".concat(i)],name:"InvalidVersionedHashVersionError"})}return(0,_.Z)(n)}(sN);function dL(e){for(var t,n,r,i=e.data,o=e.kzg,a=e.to,s=null!==(t=e.blobs)&&void 0!==t?t:function(e){var t,n=null!==(t=e.to)&&void 0!==t?t:"string"==typeof e.data?"hex":"bytes",r="string"==typeof e.data?UN(e.data):e.data,i=iN(r);if(!i)throw new cL;if(i>aL)throw new sL({maxSize:aL,size:i});for(var o=[],a=!0,s=0;a;){for(var c=KT(new Uint8Array(oL)),u=0;u<iL;){var l=r.slice(s,s+31);if(c.pushByte(0),c.pushBytes(l),l.length<31){c.pushByte(128),a=!1;break}u++,s+=31}o.push(c)}return"bytes"===n?o.map((function(e){return e.bytes})):o.map((function(e){return ZN(e.bytes)}))}({data:i,to:a}),c=null!==(n=e.commitments)&&void 0!==n?n:KR({blobs:s,kzg:o,to:a}),u=null!==(r=e.proofs)&&void 0!==r?r:GR({blobs:s,commitments:c,kzg:o,to:a}),l=[],d=0;d<s.length;d++)l.push({blob:s[d],commitment:c[d],proof:u[d]});return l}var fL=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r=e.chainId;return(0,O.Z)(this,n),t.call(this,"number"==typeof r?'Chain ID "'.concat(r,'" is invalid.'):"Chain ID is invalid.",{name:"InvalidChainIdError"})}return(0,_.Z)(n)}(sN);function pL(){var e=function(){},t=function(){};return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}}var hL=new Map;function vL(e){var t=e.fn,n=e.id,r=e.shouldSplitBatch,i=e.wait,o=void 0===i?0:i,a=e.sort,s=function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u(),c(),0!==(r=n.map((function(e){return e.args}))).length&&t(r).then((function(e){a&&Array.isArray(e)&&e.sort(a);for(var t=0;t<n.length;t++){var r=n[t].resolve;null===r||void 0===r||r([e[t],e])}})).catch((function(e){for(var t=0;t<n.length;t++){var r=n[t].reject;null===r||void 0===r||r(e)}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){return hL.delete(n)},u=function(){return hL.get(n)||[]},l=function(e){return hL.set(n,[].concat((0,N.Z)(u()),[e]))};return{flush:c,schedule:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,i,a,c;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=pL(),i=n.promise,a=n.resolve,c=n.reject,t.abrupt("return",(null!==r&&void 0!==r&&r([].concat((0,N.Z)(u().map((function(e){return e.args}))),[e]))&&s(),u().length>0?(l({args:e,resolve:a,reject:c}),i):(l({args:e,resolve:a,reject:c}),setTimeout(s,o),i)));case 2:case"end":return t.stop()}}),t)})))()}}}function gL(e){return wL.apply(this,arguments)}function wL(){return wL=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)}))),wL.apply(this,arguments)}new _T(128);var mL,bL=256,yL=bL;var xL=new _T(8192);function kL(e,t){var n=t.enabled,r=void 0===n||n,i=t.id;if(!r||!i)return e();if(xL.get(i))return xL.get(i);var o=e().finally((function(){return xL.delete(i)}));return xL.set(i,o),o}function ZL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,r=void 0===n?100:n,i=t.retryCount,o=void 0===i?2:i,a=t.shouldRetry,s=void 0===a?function(){return!0}:a;return new Promise((function(t,n){var i=function(){var a=(0,P.Z)((0,A.Z)().mark((function a(){var c,u,l,d,f,p=arguments;return(0,A.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=p.length>0&&void 0!==p[0]?p[0]:{},u=c.count,l=void 0===u?0:u,d=function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.error,o="function"==typeof r?r({count:l,error:n}):r,e.t0=o,!e.t0){e.next=6;break}return e.next=6,gL(o);case 6:i({count:l+1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.prev=2,a.next=5,e();case 5:f=a.sent,t(f),a.next=19;break;case 9:if(a.prev=9,a.t0=a.catch(2),a.t1=l<o,!a.t1){a.next=16;break}return a.next=15,s({count:l,error:a.t0});case 15:a.t1=a.sent;case 16:if(!a.t1){a.next=18;break}return a.abrupt("return",d({error:a.t0}));case 18:n(a.t0);case 19:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(){return a.apply(this,arguments)}}();i()}))}function CL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=(0,P.Z)((0,A.Z)().mark((function n(r){var i,o,a,s,c,u,l,d,f,p,h,v,g,w=arguments;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=w.length>1&&void 0!==w[1]?w[1]:{},a=(0,I.Z)((0,I.Z)({},t),o),s=a.dedupe,c=void 0!==s&&s,u=a.methods,l=a.retryDelay,d=void 0===l?150:l,f=a.retryCount,p=void 0===f?3:f,h=a.uid,v=r.method,null===u||void 0===u||null===(i=u.exclude)||void 0===i||!i.includes(v)){n.next=4;break}throw new gR(new Error("method not supported"),{method:v});case 4:if(null===u||void 0===u||!u.include||u.include.includes(v)){n.next=6;break}throw new gR(new Error("method not supported"),{method:v});case 6:return g=c?IN("".concat(h,".").concat(GT(r))):void 0,n.abrupt("return",kL((function(){return ZL((0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(r);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),n=t.t0,t.t1=n.code,t.next=t.t1===sR.code?12:t.t1===cR.code?13:t.t1===uR.code?14:t.t1===lR.code?15:t.t1===dR.code?16:t.t1===fR.code?17:t.t1===pR.code?18:t.t1===hR.code?19:t.t1===vR.code?20:t.t1===gR.code?21:t.t1===wR.code?22:t.t1===mR.code?23:t.t1===bR.code?24:t.t1===yR.code?25:t.t1===xR.code?26:t.t1===kR.code?27:t.t1===ZR.code?28:t.t1===CR.code?29:t.t1===ER.code?30:t.t1===IR.code?31:t.t1===SR.code?32:t.t1===AR.code?33:t.t1===PR.code?34:t.t1===OR.code?35:t.t1===_R.code?36:5e3===t.t1?37:38;break;case 12:throw new sR(n);case 13:throw new cR(n);case 14:throw new uR(n,{method:r.method});case 15:throw new lR(n);case 16:throw new dR(n);case 17:throw new fR(n);case 18:throw new pR(n);case 19:throw new hR(n);case 20:throw new vR(n);case 21:throw new gR(n,{method:r.method});case 22:throw new wR(n);case 23:throw new mR(n);case 24:case 37:throw new bR(n);case 25:throw new yR(n);case 26:throw new xR(n);case 27:throw new kR(n);case 28:throw new ZR(n);case 29:throw new CR(n);case 30:throw new ER(n);case 31:throw new IR(n);case 32:throw new SR(n);case 33:throw new AR(n);case 34:throw new PR(n);case 35:throw new OR(n);case 36:throw new _R(n);case 38:throw t.t0 instanceof sN?t.t0:new NR(n);case 39:case"end":return t.stop()}}),t,null,[[0,6]])}))),{delay:function(e){var t=e.count,n=e.error;if(n&&n instanceof nR){var r,i=null===n||void 0===n||null===(r=n.headers)||void 0===r?void 0:r.get("Retry-After");if(null!==i&&void 0!==i&&i.match(/\d/))return 1e3*Number.parseInt(i)}return~~(1<<t)*d},retryCount:p,shouldRetry:function(e){return EL(e.error)}})}),{enabled:c,id:g}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function EL(e){return"code"in e&&"number"==typeof e.code?-1===e.code||e.code===wR.code||e.code===dR.code:!(e instanceof nR&&e.status)||(403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status)}function IL(e,t){var n=e.key,r=e.methods,i=e.name,o=e.request,a=e.retryCount,s=void 0===a?3:a,c=e.retryDelay,u=void 0===c?150:c,l=e.timeout,d=e.type,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11;if(!mL||yL+e>512){mL="",yL=0;for(var t=0;t<bL;t++)mL+=(256+256*Math.random()|0).toString(16).substring(1)}return mL.substring(yL,yL+++e)}();return{config:{key:n,methods:r,name:i,request:o,retryCount:s,retryDelay:u,timeout:l,type:d},request:CL(o,{methods:r,retryCount:s,retryDelay:u,uid:f}),value:t}}function SL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=void 0===n?"fallback":n,i=t.name,o=void 0===i?"Fallback":i,a=t.rank,s=void 0!==a&&a,c=t.shouldThrow,u=void 0===c?AL:c,l=t.retryCount,d=t.retryDelay;return function(t){var n=t.chain,i=t.pollingInterval,a=void 0===i?4e3:i,c=t.timeout,f=(0,E.Z)(t,LP),p=e,h=function(){},v=IL({key:r,name:o,request:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.method,i=e.params,a=function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,s,l,d,v=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:0,s=p[t]((0,I.Z)((0,I.Z)({},f),{},{chain:n,retryCount:0,timeout:c})),e.prev=2,e.next=5,s.request({method:r,params:i});case 5:return l=e.sent,e.abrupt("return",(h({method:r,params:i,response:l,transport:s,status:"success"}),l));case 9:if(e.prev=9,e.t0=e.catch(2),h({error:e.t0,method:r,params:i,transport:s,status:"error"}),!u(e.t0)&&t!==p.length-1&&(null!==(d=o)&&void 0!==d||(o=p.slice(t+1).some((function(e){var t=e({chain:n}).config.methods||{},i=t.include,o=t.exclude;return i?i.includes(r):!o||!o.includes(r)}))),o)){e.next=13;break}throw e.t0;case 13:return e.abrupt("return",a(t+1));case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),t.abrupt("return",a());case 3:case"end":return t.stop()}}),t)})))()},retryCount:l,retryDelay:d,type:"fallback"},{onResponse:function(e){return h=e},transports:p.map((function(e){return e({chain:n,retryCount:0})}))});if(s){var g,w="object"==typeof s?s:{};PL({chain:n,interval:null!==(g=w.interval)&&void 0!==g?g:a,onTransports:function(e){return p=e},ping:w.ping,sampleCount:w.sampleCount,timeout:w.timeout,transports:p,weights:w.weights})}return v}}function AL(e){return!(!("code"in e)||"number"!=typeof e.code||e.code!==vR.code&&e.code!==bR.code&&!BR.nodeMessage.test(e.message)&&5e3!==e.code)}function PL(e){var t=e.chain,n=e.interval,r=void 0===n?4e3:n,i=e.onTransports,o=e.ping,a=e.sampleCount,s=void 0===a?10:a,c=e.timeout,u=void 0===c?1e3:c,l=e.transports,d=e.weights,f=void 0===d?{}:d,p=f.stability,h=void 0===p?.7:p,v=f.latency,g=void 0===v?.3:v,w=[],m=function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var n,a,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(l.map(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(n){var r,i,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n({chain:t,retryCount:0,timeout:u}),i=Date.now(),e.prev=1,e.next=4,o?o({transport:r}):r.request({method:"net_listening"});case 4:s=1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s=0;case 10:return e.prev=10,a=Date.now(),e.finish(10);case 13:return e.abrupt("return",{latency:a-i,success:s});case 14:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,w.push(n),w.length>s&&w.shift(),a=Math.max.apply(Math,(0,N.Z)(w.map((function(e){return Math.max.apply(Math,(0,N.Z)(e.map((function(e){return e.latency}))))})))),c=l.map((function(e,t){var n=w.map((function(e){return e[t].latency})),r=1-n.reduce((function(e,t){return e+t}),0)/n.length/a,i=w.map((function(e){return e[t].success})),o=i.reduce((function(e,t){return e+t}),0)/i.length;return 0===o?[0,t]:[g*r+h*o,t]})).sort((function(e,t){return t[0]-e[0]})),i(c.map((function(e){var t=(0,S.Z)(e,2)[1];return l[t]}))),e.next=8,gL(r);case 8:m();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m()}var OL=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.call(this,"No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}return(0,_.Z)(n)}(sN);function _L(e,t){var n=t.errorInstance,r=void 0===n?new Error("timed out"):n,i=t.timeout,o=t.signal;return new Promise((function(t,n){(0,P.Z)((0,A.Z)().mark((function a(){var s,c;return(0,A.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=new AbortController,i>0&&(s=setTimeout((function(){o?c.abort():n(r)}),i)),a.t0=t,a.next=6,e({signal:(null===c||void 0===c?void 0:c.signal)||null});case 6:a.t1=a.sent,(0,a.t0)(a.t1),a.next=13;break;case 10:a.prev=10,a.t2=a.catch(0),"AbortError"===(null===a.t2||void 0===a.t2?void 0:a.t2.name)&&n(r),n(a.t2);case 13:return a.prev=13,clearTimeout(s),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,10,13,16]])})))()}))}var NL={current:0,take:function(){return this.current++},reset:function(){this.current=0}};function TL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{request:function(n){return(0,P.Z)((0,A.Z)().mark((function r(){var i,o,a,s,c,u,l,d,f,p,h,v,g,w,m,b,y;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=n.body,c=n.onRequest,u=void 0===c?t.onRequest:c,l=n.onResponse,d=void 0===l?t.onResponse:l,f=n.timeout,p=void 0===f?null!==(i=t.timeout)&&void 0!==i?i:1e4:f,h=(0,I.Z)((0,I.Z)({},null!==(o=t.fetchOptions)&&void 0!==o?o:{}),null!==(a=n.fetchOptions)&&void 0!==a?a:{}),v=h.headers,g=h.method,w=h.signal,r.prev=1,r.next=4,_L(function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o,a,c,l,d;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.signal,c=(0,I.Z)((0,I.Z)({},h),{},{body:Array.isArray(s)?GT(s.map((function(e){var t;return(0,I.Z)({jsonrpc:"2.0",id:null!==(t=e.id)&&void 0!==t?t:NL.take()},e)}))):GT((0,I.Z)({jsonrpc:"2.0",id:null!==(r=s.id)&&void 0!==r?r:NL.take()},s)),headers:(0,I.Z)({"Content-Type":"application/json"},v),method:g||"POST",signal:w||(p>0?a:null)}),l=new Request(e,c),t.next=5,null===u||void 0===u?void 0:u(l,c);case 5:if(t.t1=i=t.sent,t.t0=null!==t.t1,!t.t0){t.next=9;break}t.t0=void 0!==i;case 9:if(!t.t0){t.next=13;break}t.t2=i,t.next=14;break;case 13:t.t2=(0,I.Z)((0,I.Z)({},c),{},{url:e});case 14:return d=t.t2,t.next=17,fetch(null!==(o=d.url)&&void 0!==o?o:e,d);case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{errorInstance:new iR({body:s,url:e}),timeout:p,signal:!0});case 4:if(b=r.sent,r.t0=d,!r.t0){r.next=9;break}return r.next=9,d(b);case 9:if(null===(m=b.headers.get("Content-Type"))||void 0===m||!m.startsWith("application/json")){r.next=15;break}return r.next=12,b.json();case 12:y=r.sent,r.next=27;break;case 15:return r.next=17,b.text();case 17:y=r.sent,r.prev=18,y=JSON.parse(y||"{}"),r.next=27;break;case 22:if(r.prev=22,r.t1=r.catch(18),!b.ok){r.next=26;break}throw r.t1;case 26:y={error:y};case 27:if(b.ok){r.next=29;break}throw new nR({body:s,details:GT(y.error)||b.statusText,headers:b.headers,status:b.status,url:e});case 29:return r.abrupt("return",y);case 32:throw r.prev=32,r.t2=r.catch(1),r.t2 instanceof nR||r.t2 instanceof iR?r.t2:new nR({body:s,cause:r.t2,url:e});case 35:case"end":return r.stop()}}),r,null,[[1,32],[18,22]])})))()}}}function RL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.batch,r=t.fetchOptions,i=t.key,o=void 0===i?"http":i,a=t.methods,s=t.name,c=void 0===s?"HTTP JSON-RPC":s,u=t.onFetchRequest,l=t.onFetchResponse,d=t.retryDelay,f=t.raw;return function(i){var s,p,h=i.chain,v=i.retryCount,g=i.timeout,w="object"==typeof n?n:{},m=w.batchSize,b=void 0===m?1e3:m,y=w.wait,x=void 0===y?0:y,k=null!==(s=t.retryCount)&&void 0!==s?s:v,Z=null!==(p=null!==g&&void 0!==g?g:t.timeout)&&void 0!==p?p:1e4,C=e||(null===h||void 0===h?void 0:h.rpcUrls.default.http[0]);if(!C)throw new OL;var E=TL(C,{fetchOptions:r,onRequest:u,onResponse:l,timeout:Z});return IL({key:o,methods:a,name:c,request:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var r,i,o,a,s,c,u,l,d,p,h;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.method,i=e.params,o={method:r,params:i},a=vL({id:C,wait:x,shouldSplitBatch:function(e){return e.length>b},fn:function(e){return E.request({body:e})},sort:function(e,t){return e.id-t.id}}),s=a.schedule,c=function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}e.t0=s(t),e.next=8;break;case 4:return e.next=6,E.request({body:t});case 6:e.t1=e.sent,e.t0=[e.t1];case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.next=7,c(o);case 7:if(u=t.sent,l=(0,S.Z)(u,1),d=l[0],p=d.error,h=d.result,!f){t.next=14;break}return t.abrupt("return",{error:p,result:h});case 14:if(!p){t.next=16;break}throw new rR({body:o,error:p,url:C});case 16:return t.abrupt("return",h);case 17:case"end":return t.stop()}}),t)})))()},retryCount:k,retryDelay:d,timeout:Z,type:"http"},{fetchOptions:r,url:C})}}function LL(e){return(0,I.Z)({formatters:void 0,fees:void 0,serializers:void 0},e)}function BL(e){var t=e.chainId,n=e.maxPriorityFeePerGas,r=e.maxFeePerGas,i=e.to;if(t<=0)throw new fL({chainId:t});if(i&&!BT(i))throw new OT({address:i});if(r&&r>qR)throw new UR({maxFeePerGas:r});if(n&&r&&n>r)throw new MR({maxFeePerGas:r,maxPriorityFeePerGas:n})}function UL(e){if(!e||0===e.length)return[];for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=r.address,o=r.storageKeys,a=0;a<o.length;a++)if(o[a].length-2!==64)throw new tR({storageKey:o[a]});if(!BT(i,{strict:!1}))throw new OT({address:i});t.push([i,o])}return t}function ML(e,t){var n=function(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new eR({transaction:e})}(e);return"eip1559"===n?function(e,t){var n=e.chainId,r=e.gas,i=e.nonce,o=e.to,a=e.value,s=e.maxFeePerGas,c=e.maxPriorityFeePerGas,u=e.accessList,l=e.data;BL(e);var d=UL(u);return UT(["0x02",TR([xN(n),i?xN(i):"0x",c?xN(c):"0x",s?xN(s):"0x",r?xN(r):"0x",null!==o&&void 0!==o?o:"0x",a?xN(a):"0x",null!==l&&void 0!==l?l:"0x",d].concat((0,N.Z)(jL(e,t))))])}(e,t):"eip2930"===n?function(e,t){var n=e.chainId,r=e.gas,i=e.data,o=e.nonce,a=e.to,s=e.value,c=e.accessList,u=e.gasPrice;!function(e){var t=e.chainId,n=e.maxPriorityFeePerGas,r=e.gasPrice,i=e.maxFeePerGas,o=e.to;if(t<=0)throw new fL({chainId:t});if(o&&!BT(o))throw new OT({address:o});if(n||i)throw new sN("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>qR)throw new UR({maxFeePerGas:r})}(e);var l=UL(c);return UT(["0x01",TR([xN(n),o?xN(o):"0x",u?xN(u):"0x",r?xN(r):"0x",null!==a&&void 0!==a?a:"0x",s?xN(s):"0x",null!==i&&void 0!==i?i:"0x",l].concat((0,N.Z)(jL(e,t))))])}(e,t):"eip4844"===n?function(e,t){var n,r=e.chainId,i=e.gas,o=e.nonce,a=e.to,s=e.value,c=e.maxFeePerBlobGas,u=e.maxFeePerGas,l=e.maxPriorityFeePerGas,d=e.accessList,f=e.data;!function(e){var t=e.blobVersionedHashes;if(t){if(0===t.length)throw new cL;var n,r=(0,R.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=iN(i),a=bN(MT(i,0,1));if(32!==o)throw new uL({hash:i,size:o});if(1!==a)throw new lL({hash:i,version:a})}}catch(s){r.e(s)}finally{r.f()}}BL(e)}(e);var p=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof h>"u")){var v="string"==typeof e.blobs[0]?e.blobs:e.blobs.map((function(e){return ZN(e)})),g=e.kzg,w=KR({blobs:v,kzg:g});if(typeof p>"u"&&(p=function(e){var t,n,r=e.commitments,i=e.version,o=null!==(t=e.to)&&void 0!==t?t:"string"==typeof r[0]?"hex":"bytes",a=[],s=(0,R.Z)(r);try{for(s.s();!(n=s.n()).done;){var c=n.value;a.push(rL({commitment:c,to:o,version:i}))}}catch(u){s.e(u)}finally{s.f()}return a}({commitments:w})),typeof h>"u")h=dL({blobs:v,commitments:w,proofs:GR({blobs:v,commitments:w,kzg:g})})}var m=UL(d),b=[xN(r),o?xN(o):"0x",l?xN(l):"0x",u?xN(u):"0x",i?xN(i):"0x",null!==a&&void 0!==a?a:"0x",s?xN(s):"0x",null!==f&&void 0!==f?f:"0x",m,c?xN(c):"0x",null!==(n=p)&&void 0!==n?n:[]].concat((0,N.Z)(jL(e,t))),y=[],x=[],k=[];if(h)for(var Z=0;Z<h.length;Z++){var C=h[Z],E=C.blob,I=C.commitment,S=C.proof;y.push(E),x.push(I),k.push(S)}return UT(["0x03",TR(h?[b,y,x,k]:b)])}(e,t):"eip7702"===n?function(e,t){var n=e.authorizationList,r=e.chainId,i=e.gas,o=e.nonce,a=e.to,s=e.value,c=e.maxFeePerGas,u=e.maxPriorityFeePerGas,l=e.accessList,d=e.data;!function(e){var t=e.authorizationList;if(t){var n,r=(0,R.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.chainId,a=i.address;if(!BT(a))throw new OT({address:a});if(o<0)throw new fL({chainId:o})}}catch(s){r.e(s)}finally{r.f()}}BL(e)}(e);var f=UL(l),p=function(e){if(!e||0===e.length)return[];var t,n=[],r=(0,R.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.chainId,a=i.nonce,s=(0,E.Z)(i,BP),c=i.address;n.push([o?xN(o):"0x",c,a?xN(a):"0x"].concat((0,N.Z)(jL({},s))))}}catch(u){r.e(u)}finally{r.f()}return n}(n);return UT(["0x04",TR([xN(r),o?xN(o):"0x",u?xN(u):"0x",c?xN(c):"0x",i?xN(i):"0x",null!==a&&void 0!==a?a:"0x",s?xN(s):"0x",null!==d&&void 0!==d?d:"0x",f,p].concat((0,N.Z)(jL(e,t))))])}(e,t):function(e,t){var n=e.chainId,r=void 0===n?0:n,i=e.gas,o=e.data,a=e.nonce,s=e.to,c=e.value,u=e.gasPrice;!function(e){var t=e.chainId,n=e.maxPriorityFeePerGas,r=e.gasPrice,i=e.maxFeePerGas,o=e.to;if(o&&!BT(o))throw new OT({address:o});if(typeof t<"u"&&t<=0)throw new fL({chainId:t});if(n||i)throw new sN("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>qR)throw new UR({maxFeePerGas:r})}(e);var l=[a?xN(a):"0x",u?xN(u):"0x",i?xN(i):"0x",null!==s&&void 0!==s?s:"0x",c?xN(c):"0x",null!==o&&void 0!==o?o:"0x"];if(t){var d=function(){if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);var e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new QT({v:t.v});return e}(),f=gN(t.r),p=gN(t.s);l=[].concat((0,N.Z)(l),[xN(d),"0x00"===f?"0x":f,"0x00"===p?"0x":p])}else r>0&&(l=[].concat((0,N.Z)(l),[xN(r),"0x","0x"]));return TR(l)}(e,t)}function jL(e,t){var n=null!==t&&void 0!==t?t:e,r=n.v,i=n.yParity;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];var o=gN(n.r),a=gN(n.s);return["number"==typeof i?i?xN(1):"0x":0n===r?"0x":1n===r?xN(1):27n===r?"0x":xN(1),"0x00"===o?"0x":o,"0x00"===a?"0x":a]}var DL={"0x0":"reverted","0x1":"success"};var zL=jR("transactionReceipt",(function(e){var t=(0,I.Z)((0,I.Z)({},e),{},{blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.args,r=t.eventName;return(0,I.Z)((0,I.Z)({},e),{},{blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null},r?{args:n,eventName:r}:{})}(e)})):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?bN(e.transactionIndex):null,status:e.status?DL[e.status]:null,type:e.type?HR[e.type]||e.type:null});return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t})),qL=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),HL=new Uint8Array(new Array(16).fill(0).map((function(e,t){return t}))),WL=HL.map((function(e){return(9*e+5)%16})),FL=[HL],VL=[WL];for(vT=0;vT<4;vT++)for(var KL=0,GL=[FL,VL];KL<GL.length;KL++){(gT=GL[KL]).push(gT[vT].map((function(e){return qL[e]})))}var $L=BigInt(0),YL=BigInt(1),JL=BigInt(2);function XL(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function QL(e){if(!XL(e))throw new Error("Uint8Array expected")}function eB(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}var tB=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function nB(e){QL(e);for(var t="",n=0;n<e.length;n++)t+=tB[e[n]];return t}function rB(e){var t=e.toString(16);return 1&t.length?"0"+t:t}function iB(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?$L:BigInt("0x"+e)}var oB=48,aB=57,sB=65,cB=70,uB=97,lB=102;function dB(e){return e>=oB&&e<=aB?e-oB:e>=sB&&e<=cB?e-(sB-10):e>=uB&&e<=lB?e-(uB-10):void 0}function fB(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);var t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);for(var r=new Uint8Array(n),i=0,o=0;i<n;i++,o+=2){var a=dB(e.charCodeAt(o)),s=dB(e.charCodeAt(o+1));if(void 0===a||void 0===s){var c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=16*a+s}return r}function pB(e){return iB(nB(e))}function hB(e){return QL(e),iB(nB(Uint8Array.from(e).reverse()))}function vB(e,t){return fB(e.toString(16).padStart(2*t,"0"))}function gB(e,t){return vB(e,t).reverse()}function wB(e,t,n){var r;if("string"==typeof t)try{r=fB(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else{if(!XL(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}var i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function mB(){for(var e=0,t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];QL(n),e+=n.length}for(var r=new Uint8Array(e),i=0,o=0;i<arguments.length;i++){var a=i<0||arguments.length<=i?void 0:arguments[i];r.set(a,o),o+=a.length}return r}var bB=function(e){return"bigint"==typeof e&&$L<=e};function yB(e,t,n){return bB(e)&&bB(t)&&bB(n)&&t<=e&&e<n}function xB(e,t,n,r){if(!yB(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function kB(e){var t;for(t=0;e>$L;e>>=YL,t+=1);return t}var ZB=function(e){return(JL<<BigInt(e-1))-YL},CB=function(e){return new Uint8Array(e)},EB=function(e){return Uint8Array.from(e)};function IB(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");var r=CB(e),i=CB(e),o=0,a=function(){r.fill(1),i.fill(0),o=0},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.apply(void 0,[i,r].concat(t))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CB();i=s(EB([0]),e),r=s(),0!==e.length&&(i=s(EB([1]),e),r=s())},u=function(){if(o++>=1e3)throw new Error("drbg: tried 1000 values");for(var e=0,n=[];e<t;){var i=(r=s()).slice();n.push(i),e+=r.length}return mB.apply(void 0,n)};return function(e,t){var n;for(a(),c(e);!(n=t(u()));)c();return a(),n}}var SB={bigint:function(e){return"bigint"==typeof e},function:function(e){return"function"==typeof e},boolean:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},stringOrUint8Array:function(e){return"string"==typeof e||XL(e)},isSafeInteger:function(e){return Number.isSafeInteger(e)},array:function(e){return Array.isArray(e)},field:function(e,t){return t.Fp.isValid(e)},hash:function(e){return"function"==typeof e&&Number.isSafeInteger(e.outputLen)}};function AB(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,n,r){var i=SB[n];if("function"!=typeof i)throw new Error("invalid validator function");var o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)},i=0,o=Object.entries(t);i<o.length;i++){var a=(0,S.Z)(o[i],2),s=a[0],c=a[1];r(s,c,!1)}for(var u=0,l=Object.entries(n);u<l.length;u++){var d=(0,S.Z)(l[u],2),f=d[0],p=d[1];r(f,p,!0)}return e}function PB(e){var t=new WeakMap;return function(n){var r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=e.apply(void 0,[n].concat(o));return t.set(n,s),s}}var OB=Object.freeze({__proto__:null,isBytes:XL,abytes:QL,abool:eB,bytesToHex:nB,numberToHexUnpadded:rB,hexToNumber:iB,hexToBytes:fB,bytesToNumberBE:pB,bytesToNumberLE:hB,numberToBytesBE:vB,numberToBytesLE:gB,numberToVarBytesBE:function(e){return fB(rB(e))},ensureBytes:wB,concatBytes:mB,equalBytes:function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},utf8ToBytes:function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))},inRange:yB,aInRange:xB,bitLen:kB,bitGet:function(e,t){return e>>BigInt(t)&YL},bitSet:function(e,t,n){return e|(n?YL:$L)<<BigInt(t)},bitMask:ZB,createHmacDrbg:IB,validateObject:AB,notImplemented:function(){throw new Error("not implemented")},memoized:PB});var _B=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,O.Z)(this,n);var o=function(){var e;if(i.cause instanceof n){if(i.cause.details)return i.cause.details;if(i.cause.shortMessage)return i.cause.shortMessage}return null!==(e=i.cause)&&void 0!==e&&e.message?i.cause.message:i.details}(),a=i.cause instanceof n&&i.cause.docsPath||i.docsPath,s="https://oxlib.sh".concat(null!==a&&void 0!==a?a:""),c=[e||"An error occurred."].concat((0,N.Z)(i.metaMessages?[""].concat((0,N.Z)(i.metaMessages)):[]),(0,N.Z)(o||a?["",o?"Details: ".concat(o):void 0,a?"See: ".concat(s):void 0]:[])).filter((function(e){return"string"==typeof e})).join("\n");return r=t.call(this,c,i.cause?{cause:i.cause}:void 0),Object.defineProperty((0,x.Z)(r),"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(r),"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(r),"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(r),"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(r),"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty((0,x.Z)(r),"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@".concat("0.1.1")}),r.cause=i.cause,r.details=o,r.docs=s,r.docsPath=a,r.shortMessage=e,r}return(0,_.Z)(n,[{key:"walk",value:function(e){return NB(this,e)}}]),n}((0,C.Z)(Error));function NB(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?NB(e.cause,t):t?null:e}function TB(e,t){if(VB(e)>t)throw new KB({givenSize:VB(e),maxSize:t})}var RB=48,LB=57,BB=65,UB=70,MB=97,jB=102;function DB(e){return e>=RB&&e<=LB?e-RB:e>=BB&&e<=UB?e-(BB-10):e>=MB&&e<=jB?e-(MB-10):void 0}function zB(e,t){if(iU(e)>t)throw new aU({givenSize:iU(e),maxSize:t})}function qB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,r=t.size,i=void 0===r?32:r;if(0===i)return e;var o=e.replace("0x","");if(o.length>2*i)throw new sU({size:Math.ceil(o.length/2),targetSize:i,type:"Hex"});return"0x".concat(o["right"===n?"padEnd":"padStart"](2*i,"0"))}var HB=new TextEncoder;function WB(e){return e instanceof Uint8Array?e:"string"==typeof e?function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).size,n=e;t&&(zB(e,t),n=rU(e,t));var r=n.slice(2);r.length%2&&(r="0".concat(r));for(var i=r.length/2,o=new Uint8Array(i),a=0,s=0;a<i;a++){var c=DB(r.charCodeAt(s++)),u=DB(r.charCodeAt(s++));if(void 0===c||void 0===u)throw new _B('Invalid byte sequence ("'.concat(r[s-2]).concat(r[s-1],'" in "').concat(r,'").'));o[a]=16*c+u}return o}(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function FB(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,r=t.size,i=void 0===r?32:r;if(0===i)return e;if(e.length>i)throw new GB({size:e.length,targetSize:i,type:"Bytes"});for(var o=new Uint8Array(i),a=0;a<i;a++){var s="right"===n;o[s?a:i-a-1]=e[s?a:e.length-a-1]}return o}(e,{dir:"right",size:t})}function VB(e){return e.length}var KB=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.givenSize,o=e.maxSize;return(0,O.Z)(this,n),r=t.call(this,"Size cannot exceed `".concat(o,"` bytes. Given size: `").concat(i,"` bytes.")),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"}),r}return(0,_.Z)(n)}(_B),GB=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.size,o=e.targetSize,a=e.type;return(0,O.Z)(this,n),r=t.call(this,"".concat(a.charAt(0).toUpperCase()).concat(a.slice(1).toLowerCase()," size (`").concat(i,"`) exceeds padding size (`").concat(o,"`).")),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"}),r}return(0,_.Z)(n)}(_B),$B=new TextEncoder,YB=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function JB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"0x".concat(t.reduce((function(e,t){return e+t.replace("0x","")}),""))}function XB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="0x".concat(Number(e));return"number"==typeof t.size?(zB(n,t.size),nU(n,t.size)):n}function QB(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="",r=0;r<e.length;r++)n+=YB[e[r]];var i="0x".concat(n);return"number"==typeof t.size?(zB(i,t.size),rU(i,t.size)):i}function eU(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.signed,i=n.size,o=BigInt(e);i?t=r?(1n<<8n*BigInt(i)-1n)-1n:Math.pow(2n,8n*BigInt(i))-1n:"number"==typeof e&&(t=BigInt(Number.MAX_SAFE_INTEGER));var a="bigint"==typeof t&&r?-t-1n:0;if(t&&o>t||o<a){var s="bigint"==typeof e?"n":"";throw new oU({max:t?"".concat(t).concat(s):void 0,min:"".concat(a).concat(s),signed:r,size:i,value:"".concat(e).concat(s)})}var c="0x".concat((r&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16));return i?nU(c,i):c}function tU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return QB($B.encode(e),t)}function nU(e,t){return qB(e,{dir:"left",size:t})}function rU(e,t){return qB(e,{dir:"right",size:t})}function iU(e){return Math.ceil((e.length-2)/2)}var oU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.max,o=e.min,a=e.signed,s=e.size,c=e.value;return(0,O.Z)(this,n),r=t.call(this,"Number `".concat(c,"` is not in safe").concat(s?" ".concat(8*s,"-bit"):"").concat(a?" signed":" unsigned"," integer range ").concat(i?"(`".concat(o,"` to `").concat(i,"`)"):"(above `".concat(o,"`)"))),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"}),r}return(0,_.Z)(n)}(_B),aU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.givenSize,o=e.maxSize;return(0,O.Z)(this,n),r=t.call(this,"Size cannot exceed `".concat(o,"` bytes. Given size: `").concat(i,"` bytes.")),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"}),r}return(0,_.Z)(n)}(_B),sU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.size,o=e.targetSize,a=e.type;return(0,O.Z)(this,n),r=t.call(this,"".concat(a.charAt(0).toUpperCase()).concat(a.slice(1).toLowerCase()," size (`").concat(i,"`) exceeds padding size (`").concat(o,"`).")),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"}),r}return(0,_.Z)(n)}(_B);var cU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,O.Z)(this,n),r=t.call(this),Object.defineProperty((0,x.Z)(r),"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.maxSize=e,r}return(0,_.Z)(n,[{key:"get",value:function(e){var t=(0,m.Z)((0,b.Z)(n.prototype),"get",this).call(this,e);return(0,m.Z)((0,b.Z)(n.prototype),"has",this).call(this,e)&&void 0!==t&&(this.delete(e),(0,m.Z)((0,b.Z)(n.prototype),"set",this).call(this,e,t)),t}},{key:"set",value:function(e,t){if((0,m.Z)((0,b.Z)(n.prototype),"set",this).call(this,e,t),this.maxSize&&this.size>this.maxSize){var r=this.keys().next().value;r&&this.delete(r)}return this}}]),n}((0,C.Z)(Map)),uU={checksum:new cU(8192)}.checksum,lU=/^0x[a-fA-F0-9]{40}$/;function dU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.strict,r=void 0===n||n;if(!lU.test(e))throw new pU({address:e,cause:new hU});if(r){if(e.toLowerCase()===e)return;if(fU(e)!==e)throw new pU({address:e,cause:new vU})}}function fU(e){if(uU.has(e))return uU.get(e);dU(e,{strict:!1});for(var t=e.substring(2).toLowerCase(),n=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).as,n=void 0===t?"string"==typeof e?"Hex":"Bytes":t,r=PT(WB(e));return"Bytes"===n?r:QB(r)}(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).size,n=HB.encode(e);return"number"==typeof t?(TB(n,t),FB(n,t)):n}(t),{as:"Bytes"}),r=t.split(""),i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(15&n[i>>1])>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());var o="0x".concat(r.join(""));return uU.set(e,o),o}var pU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.address,o=e.cause;return(0,O.Z)(this,n),r=t.call(this,'Address "'.concat(i,'" is invalid.'),{cause:o}),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"}),r}return(0,_.Z)(n)}(_B),hU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),e=t.call(this,"Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty((0,x.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"}),e}return(0,_.Z)(n)}(_B),vU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),e=t.call(this,"Address does not match its checksum counterpart."),Object.defineProperty((0,x.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"}),e}return(0,_.Z)(n)}(_B),gU=/^(.*)\[([0-9]*)\]$/,wU=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,mU=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function bU(e,t){if(e.length!==t.length)throw new xU({expectedLength:e.length,givenLength:t.length});for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t[r];n.push(bU.encode(i,o))}return JB.apply(void 0,n)}!function(e){e.encode=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("address"===t){var i=n;return dU(i),nU(i.toLowerCase(),r?32:0)}if("string"===t)return tU(n);if("bytes"===t)return n;if("bool"===t)return nU(XB(n),r?32:1);var o=t.match(mU);if(o){var a=(0,S.Z)(o,3),s=(a[0],a[1]),c=a[2],u=void 0===c?"256":c,l=Number.parseInt(u)/8;return eU(n,{size:r?32:l,signed:"int"===s})}var d=t.match(wU);if(d){var f=(0,S.Z)(d,2),p=(f[0],f[1]);if(Number.parseInt(p)!==(n.length-2)/2)throw new yU({expectedSize:Number.parseInt(p),value:n});return rU(n,r?32:0)}var h=t.match(gU);if(h&&Array.isArray(n)){for(var v=(0,S.Z)(h,2),g=(v[0],v[1]),w=[],m=0;m<n.length;m++)w.push(e(g,n[m],!0));return 0===w.length?"0x":JB.apply(void 0,w)}throw new kU(t)}}(bU||(bU={}));var yU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.expectedSize,o=e.value;return(0,O.Z)(this,n),r=t.call(this,'Size of bytes "'.concat(o,'" (bytes').concat(iU(o),") does not match expected size (bytes").concat(i,").")),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"}),r}return(0,_.Z)(n)}(_B),xU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i=e.expectedLength,o=e.givenLength;return(0,O.Z)(this,n),r=t.call(this,["ABI encoding parameters/values length mismatch.","Expected length (parameters): ".concat(i),"Given length (values): ".concat(o)].join("\n")),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"}),r}return(0,_.Z)(n)}(_B),kU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r;return(0,O.Z)(this,n),r=t.call(this,"Type `".concat(e,"` is not a valid ABI Type.")),Object.defineProperty((0,x.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"}),r}return(0,_.Z)(n)}(_B),ZU=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r){var i;(0,O.Z)(this,n),(i=t.call(this)).finished=!1,i.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");DN(e.outputLen),DN(e.blockLen)}(e);var o=tT(r);if(i.iHash=e.create(),"function"!=typeof i.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");i.blockLen=i.iHash.blockLen,i.outputLen=i.iHash.outputLen;var a=i.blockLen,s=new Uint8Array(a);s.set(o.length>a?e.create().update(o).digest():o);for(var c=0;c<s.length;c++)s[c]^=54;i.iHash.update(s),i.oHash=e.create();for(var u=0;u<s.length;u++)s[u]^=106;return i.oHash.update(s),s.fill(0),i}return(0,_.Z)(n,[{key:"update",value:function(e){return HN(this),this.iHash.update(e),this}},{key:"digestInto",value:function(e){HN(this),qN(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}},{key:"digest",value:function(){var e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}},{key:"_cloneInto",value:function(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));var t=this.oHash,n=this.iHash,r=this.finished,i=this.destroyed,o=this.blockLen,a=this.outputLen;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}},{key:"destroy",value:function(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}]),n}(rT),CU=function(e,t,n){return new ZU(e,t).update(n).digest()};CU.create=function(e,t){return new ZU(e,t)};var EU=BigInt(0),IU=BigInt(1),SU=BigInt(2),AU=BigInt(3),PU=BigInt(4),OU=BigInt(5),_U=BigInt(8);function NU(e,t){var n=e%t;return n>=EU?n:t+n}function TU(e,t,n){if(t<EU)throw new Error("invalid exponent, negatives unsupported");if(n<=EU)throw new Error("invalid modulus");if(n===IU)return EU;for(var r=IU;t>EU;)t&IU&&(r=r*e%n),e=e*e%n,t>>=IU;return r}function RU(e,t,n){for(var r=e;t-- >EU;)r*=r,r%=n;return r}function LU(e,t){if(e===EU)throw new Error("invert: expected non-zero number");if(t<=EU)throw new Error("invert: expected positive modulus, got "+t);for(var n=NU(e,t),r=t,i=EU,o=IU;n!==EU;){var a=r%n,s=i-o*(r/n);r=n,n=a,i=o,o=s}if(r!==IU)throw new Error("invert: does not exist");return NU(i,t)}function BU(e){if(e%PU===AU){var t=(e+IU)/PU;return function(e,n){var r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%_U===OU){var n=(e-OU)/_U;return function(e,t){var r=e.mul(t,SU),i=e.pow(r,n),o=e.mul(t,i),a=e.mul(e.mul(o,SU),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),t))throw new Error("Cannot find square root");return s}}return function(e){var t,n,r,i=(e-IU)/SU;for(t=e-IU,n=0;t%SU===EU;t/=SU,n++);for(r=SU;r<e&&TU(r,i,e)!==e-IU;r++)if(r>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){var o=(e+IU)/PU;return function(e,t){var n=e.pow(t,o);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}}var a=(t+IU)/SU;return function(e,o){if(e.pow(o,i)===e.neg(e.ONE))throw new Error("Cannot find square root");for(var s=n,c=e.pow(e.mul(e.ONE,r),t),u=e.pow(o,a),l=e.pow(o,t);!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;for(var d=1,f=e.sqr(l);d<s&&!e.eql(f,e.ONE);d++)f=e.sqr(f);var p=e.pow(c,IU<<BigInt(s-d-1));c=e.sqr(p),u=e.mul(u,p),l=e.mul(l,c),s=d}return u}}(e)}var UU=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function MU(e,t,n){if(n<EU)throw new Error("invalid exponent, negatives unsupported");if(n===EU)return e.ONE;if(n===IU)return t;for(var r=e.ONE,i=t;n>EU;)n&IU&&(r=e.mul(r,i)),i=e.sqr(i),n>>=IU;return r}function jU(e,t){var n=new Array(t.length),r=t.reduce((function(t,r,i){return e.is0(r)?t:(n[i]=t,e.mul(t,r))}),e.ONE),i=e.inv(r);return t.reduceRight((function(t,r,i){return e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))}),i),n}function DU(e,t){var n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function zU(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=EU)throw new Error("invalid field: expected ORDER > 0, got "+e);var i,o=DU(e,t),a=o.nBitLength,s=o.nByteLength;if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");var c=Object.freeze({ORDER:e,isLE:n,BITS:a,BYTES:s,MASK:ZB(a),ZERO:EU,ONE:IU,create:function(t){return NU(t,e)},isValid:function(t){if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return EU<=t&&t<e},is0:function(e){return e===EU},isOdd:function(e){return(e&IU)===IU},neg:function(t){return NU(-t,e)},eql:function(e,t){return e===t},sqr:function(t){return NU(t*t,e)},add:function(t,n){return NU(t+n,e)},sub:function(t,n){return NU(t-n,e)},mul:function(t,n){return NU(t*n,e)},pow:function(e,t){return MU(c,e,t)},div:function(t,n){return NU(t*LU(n,e),e)},sqrN:function(e){return e*e},addN:function(e,t){return e+t},subN:function(e,t){return e-t},mulN:function(e,t){return e*t},inv:function(t){return LU(t,e)},sqrt:r.sqrt||function(t){return i||(i=BU(e)),i(c,t)},invertBatch:function(e){return jU(c,e)},cmov:function(e,t,n){return n?t:e},toBytes:function(e){return n?gB(e,s):vB(e,s)},fromBytes:function(e){if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?hB(e):pB(e)}});return Object.freeze(c)}function qU(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");var t=e.toString(2).length;return Math.ceil(t/8)}function HU(e){var t=qU(e);return t+Math.ceil(t/2)}var WU=BigInt(0),FU=BigInt(1);function VU(e,t){var n=t.negate();return e?n:t}function KU(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function GU(e,t){return KU(e,t),{windows:Math.ceil(t/e)+1,windowSize:Math.pow(2,e-1)}}var $U=new WeakMap,YU=new WeakMap;function JU(e){return YU.get(e)||1}function XU(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((function(e,n){if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((function(e,n){if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");for(var i=e.ZERO,o=kB(BigInt(n.length)),a=o>12?o-3:o>4?o-2:o?2:1,s=(1<<a)-1,c=new Array(s+1).fill(i),u=i,l=Math.floor((t.BITS-1)/a)*a;l>=0;l-=a){c.fill(i);for(var d=0;d<r.length;d++){var f=r[d],p=Number(f>>BigInt(l)&BigInt(s));c[p]=c[p].add(n[d])}for(var h=i,v=c.length-1,g=i;v>0;v--)g=g.add(c[v]),h=h.add(g);if(u=u.add(h),0!==l)for(var w=0;w<a;w++)u=u.double()}return u}function QU(e){return function(e){var t=UU.reduce((function(e,t){return e[t]="function",e}),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});AB(e,t)}(e.Fp),AB(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,I.Z)((0,I.Z)((0,I.Z)({},DU(e.n,e.nBitLength)),e),{},{p:e.Fp.ORDER}))}function eM(e){void 0!==e.lowS&&eB("lowS",e.lowS),void 0!==e.prehash&&eB("prehash",e.prehash)}var tM=OB.bytesToNumberBE,nM=OB.hexToBytes,rM=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,O.Z)(this,n),t.call(this,e)}return(0,_.Z)(n)}((0,C.Z)(Error)),iM={Err:rM,_tlv:{encode:function(e,t){var n=iM.Err;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");var r=t.length/2,i=rB(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");var o=r>127?rB(i.length/2|128):"";return rB(e)+o+i+t},decode:function(e,t){var n=iM.Err,r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");var i=t[r++],o=0;if(!!(128&i)){var a=127&i;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");var s=t.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");var c,u=(0,R.Z)(s);try{for(u.s();!(c=u.n()).done;){o=o<<8|c.value}}catch(d){u.e(d)}finally{u.f()}if(r+=a,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;var l=t.subarray(r,r+o);if(l.length!==o)throw new n("tlv.decode: wrong value length");return{v:l,l:t.subarray(r+o)}}},_int:{encode:function(e){var t=iM.Err;if(e<oM)throw new t("integer: negative integers are not allowed");var n=rB(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode:function(e){var t=iM.Err;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return tM(e)}},toSig:function(e){var t=iM.Err,n=iM._int,r=iM._tlv,i="string"==typeof e?nM(e):e;QL(i);var o=r.decode(48,i),a=o.v;if(o.l.length)throw new t("invalid signature: left bytes after parsing");var s=r.decode(2,a),c=s.v,u=s.l,l=r.decode(2,u),d=l.v;if(l.l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig:function(e){var t=iM._tlv,n=iM._int,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},oM=BigInt(0),aM=BigInt(1);BigInt(2);var sM=BigInt(3);function cM(e){var t=function(e){var t=QU(e);AB(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});var n=t.endo,r=t.Fp,i=t.a;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze((0,I.Z)({},t))}(e),n=t.Fp,r=zU(t.n,t.nBitLength),i=t.toBytes||function(e,t,r){var i=t.toAffine();return mB(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))},o=t.fromBytes||function(e){var t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}};function a(e){var r=t.a,i=t.b,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){var n,r=t.allowedPrivateKeyLengths,i=t.nByteLength,o=t.wrapPrivateKey,a=t.n;if(r&&"bigint"!=typeof e){if(XL(e)&&(e=nB(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*i,"0")}try{n="bigint"==typeof e?e:pB(wB("private key",e,i))}catch(s){throw new Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(n=NU(n,a)),xB("private key",n,aM,a),n}function c(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}var u=PB((function(e,t){var r=e.px,i=e.py,o=e.pz;if(n.eql(o,n.ONE))return{x:r,y:i};var a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));var s=n.mul(r,t),c=n.mul(i,t),u=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:s,y:c}})),l=PB((function(e){if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}var r=e.toAffine(),i=r.x,o=r.y;if(!n.isValid(i)||!n.isValid(o))throw new Error("bad point: x or y not FE");var s=n.sqr(o),c=a(i);if(!n.eql(s,c))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0})),d=function(){function e(t,r,i){if((0,O.Z)(this,e),this.px=t,this.py=r,this.pz=i,null==t||!n.isValid(t))throw new Error("x required");if(null==r||!n.isValid(r))throw new Error("y required");if(null==i||!n.isValid(i))throw new Error("z required");Object.freeze(this)}return(0,_.Z)(e,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"_setWindowSize",value:function(e){p.setWindowSize(this,e)}},{key:"assertValidity",value:function(){l(this)}},{key:"hasEvenY",value:function(){var e=this.toAffine().y;if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}},{key:"equals",value:function(e){c(e);var t=this.px,r=this.py,i=this.pz,o=e.px,a=e.py,s=e.pz,u=n.eql(n.mul(t,s),n.mul(o,i)),l=n.eql(n.mul(r,s),n.mul(a,i));return u&&l}},{key:"negate",value:function(){return new e(this.px,n.neg(this.py),this.pz)}},{key:"double",value:function(){var r=t.a,i=t.b,o=n.mul(i,sM),a=this.px,s=this.py,c=this.pz,u=n.ZERO,l=n.ZERO,d=n.ZERO,f=n.mul(a,a),p=n.mul(s,s),h=n.mul(c,c),v=n.mul(a,s);return v=n.add(v,v),d=n.mul(a,c),d=n.add(d,d),u=n.mul(r,d),l=n.mul(o,h),l=n.add(u,l),u=n.sub(p,l),l=n.add(p,l),l=n.mul(u,l),u=n.mul(v,u),d=n.mul(o,d),h=n.mul(r,h),v=n.sub(f,h),v=n.mul(r,v),v=n.add(v,d),d=n.add(f,f),f=n.add(d,f),f=n.add(f,h),f=n.mul(f,v),l=n.add(l,f),h=n.mul(s,c),h=n.add(h,h),f=n.mul(h,v),u=n.sub(u,f),d=n.mul(h,p),d=n.add(d,d),new e(u,l,d=n.add(d,d))}},{key:"add",value:function(r){c(r);var i=this.px,o=this.py,a=this.pz,s=r.px,u=r.py,l=r.pz,d=n.ZERO,f=n.ZERO,p=n.ZERO,h=t.a,v=n.mul(t.b,sM),g=n.mul(i,s),w=n.mul(o,u),m=n.mul(a,l),b=n.add(i,o),y=n.add(s,u);b=n.mul(b,y),y=n.add(g,w),b=n.sub(b,y),y=n.add(i,a);var x=n.add(s,l);return y=n.mul(y,x),x=n.add(g,m),y=n.sub(y,x),x=n.add(o,a),d=n.add(u,l),x=n.mul(x,d),d=n.add(w,m),x=n.sub(x,d),p=n.mul(h,y),d=n.mul(v,m),p=n.add(d,p),d=n.sub(w,p),p=n.add(w,p),f=n.mul(d,p),w=n.add(g,g),w=n.add(w,g),m=n.mul(h,m),y=n.mul(v,y),w=n.add(w,m),m=n.sub(g,m),m=n.mul(h,m),y=n.add(y,m),g=n.mul(w,y),f=n.add(f,g),g=n.mul(x,y),d=n.mul(b,d),d=n.sub(d,g),g=n.mul(b,w),p=n.mul(x,p),new e(d,f,p=n.add(p,g))}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"is0",value:function(){return this.equals(e.ZERO)}},{key:"wNAF",value:function(t){return p.wNAFCached(this,t,e.normalizeZ)}},{key:"multiplyUnsafe",value:function(r){var i=t.endo,o=t.n;xB("scalar",r,oM,o);var a=e.ZERO;if(r===oM)return a;if(this.is0()||r===aM)return this;if(!i||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,r,e.normalizeZ);for(var s=i.splitScalar(r),c=s.k1neg,u=s.k1,l=s.k2neg,d=s.k2,f=a,h=a,v=this;u>oM||d>oM;)u&aM&&(f=f.add(v)),d&aM&&(h=h.add(v)),v=v.double(),u>>=aM,d>>=aM;return c&&(f=f.negate()),l&&(h=h.negate()),h=new e(n.mul(h.px,i.beta),h.py,h.pz),f.add(h)}},{key:"multiply",value:function(r){var i,o,a=t.endo,s=t.n;if(xB("scalar",r,aM,s),a){var c=a.splitScalar(r),u=c.k1neg,l=c.k1,d=c.k2neg,f=c.k2,h=this.wNAF(l),v=h.p,g=h.f,w=this.wNAF(f),m=w.p,b=w.f;v=p.constTimeNegate(u,v),m=p.constTimeNegate(d,m),m=new e(n.mul(m.px,a.beta),m.py,m.pz),i=v.add(m),o=g.add(b)}else{var y=this.wNAF(r);i=y.p,o=y.f}return e.normalizeZ([i,o])[0]}},{key:"multiplyAndAddUnsafe",value:function(t,n,r){var i=e.BASE,o=function(e,t){return t!==oM&&t!==aM&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t)},a=o(this,n).add(o(t,r));return a.is0()?void 0:a}},{key:"toAffine",value:function(e){return u(this,e)}},{key:"isTorsionFree",value:function(){var n=t.h,r=t.isTorsionFree;if(n===aM)return!0;if(r)return r(e,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}},{key:"clearCofactor",value:function(){var n=t.h,r=t.clearCofactor;return n===aM?this:r?r(e,this):this.multiplyUnsafe(t.h)}},{key:"toRawBytes",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return eB("isCompressed",t),this.assertValidity(),i(e,this,t)}},{key:"toHex",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return eB("isCompressed",e),nB(this.toRawBytes(e))}}],[{key:"fromAffine",value:function(t){var r=t||{},i=r.x,o=r.y;if(!t||!n.isValid(i)||!n.isValid(o))throw new Error("invalid affine point");if(t instanceof e)throw new Error("projective point not allowed");var a=function(e){return n.eql(e,n.ZERO)};return a(i)&&a(o)?e.ZERO:new e(i,o,n.ONE)}},{key:"normalizeZ",value:function(t){var r=n.invertBatch(t.map((function(e){return e.pz})));return t.map((function(e,t){return e.toAffine(r[t])})).map(e.fromAffine)}},{key:"fromHex",value:function(t){var n=e.fromAffine(o(wB("pointHex",t)));return n.assertValidity(),n}},{key:"fromPrivateKey",value:function(t){return e.BASE.multiply(s(t))}},{key:"msm",value:function(t,n){return XU(e,r,t,n)}}]),e}();d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);var f=t.nBitLength,p=function(e,t){return{constTimeNegate:VU,hasPrecomputes:function(e){return 1!==JU(e)},unsafeLadder:function(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;n>WU;)n&FU&&(r=r.add(i)),i=i.double(),n>>=FU;return r},precomputeWindow:function(e,n){for(var r=GU(n,t),i=r.windows,o=r.windowSize,a=[],s=e,c=s,u=0;u<i;u++){c=s,a.push(c);for(var l=1;l<o;l++)c=c.add(s),a.push(c);s=c.double()}return a},wNAF:function(n,r,i){for(var o=GU(n,t),a=o.windows,s=o.windowSize,c=e.ZERO,u=e.BASE,l=BigInt(Math.pow(2,n)-1),d=Math.pow(2,n),f=BigInt(n),p=0;p<a;p++){var h=p*s,v=Number(i&l);i>>=f,v>s&&(v-=d,i+=FU);var g=h,w=h+Math.abs(v)-1,m=p%2!==0,b=v<0;0===v?u=u.add(VU(m,r[g])):c=c.add(VU(b,r[w]))}return{p:c,f:u}},wNAFUnsafe:function(n,r,i){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO,a=GU(n,t),s=a.windows,c=a.windowSize,u=BigInt(Math.pow(2,n)-1),l=Math.pow(2,n),d=BigInt(n),f=0;f<s;f++){var p=f*c;if(i===WU)break;var h=Number(i&u);if(i>>=d,h>c&&(h-=l,i+=FU),0!==h){var v=r[p+Math.abs(h)-1];h<0&&(v=v.negate()),o=o.add(v)}}return o},getPrecomputes:function(e,t,n){var r=$U.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&$U.set(t,n(r))),r},wNAFCached:function(e,t,n){var r=JU(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe:function(e,t,n,r){var i=JU(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize:function(e,n){KU(n,t),YU.set(e,n),$U.delete(e)}}}(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:s,weierstrassEquation:a,isWithinCurveOrder:function(e){return yB(e,aM,t.n)}}}function uM(e){var t=function(e){var t=QU(e);return AB(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,I.Z)({lowS:!0},t))}(e),n=t.Fp,r=t.n,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return NU(e,r)}function s(e){return LU(e,r)}var c=cM((0,I.Z)((0,I.Z)({},t),{},{toBytes:function(e,t,r){var i=t.toAffine(),o=n.toBytes(i.x),a=mB;return eB("isCompressed",r),r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes:function(e){var t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r)return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+t)}var s=pB(a);if(!yB(s,aM,n.ORDER))throw new Error("Point is not on curve");var c,u=d(s);try{c=n.sqrt(u)}catch(Un){var l=Un instanceof Error?": "+Un.message:"";throw new Error("Point is not on curve"+l)}return 1===(1&r)!==((c&aM)===aM)&&(c=n.neg(c)),{x:s,y:c}}})),u=c.ProjectivePoint,l=c.normPrivateKeyToScalar,d=c.weierstrassEquation,f=c.isWithinCurveOrder,p=function(e){return nB(vB(e,t.nByteLength))};function h(e){return e>r>>aM}function v(e){return h(e)?a(-e):e}var g=function(e,t,n){return pB(e.slice(t,n))},w=function(){function e(t,n,r){(0,O.Z)(this,e),this.r=t,this.s=n,this.recovery=r,this.assertValidity()}return(0,_.Z)(e,[{key:"assertValidity",value:function(){xB("r",this.r,aM,r),xB("s",this.s,aM,r)}},{key:"addRecoveryBit",value:function(t){return new e(this.r,this.s,t)}},{key:"recoverPublicKey",value:function(e){var r=this.r,i=this.s,o=this.recovery,c=x(wB("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");var l=2===o||3===o?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");var d=0===(1&o)?"02":"03",f=u.fromHex(d+p(l)),h=s(l),v=a(-c*h),g=a(i*h),w=u.BASE.multiplyAndAddUnsafe(f,v,g);if(!w)throw new Error("point at infinify");return w.assertValidity(),w}},{key:"hasHighS",value:function(){return h(this.s)}},{key:"normalizeS",value:function(){return this.hasHighS()?new e(this.r,a(-this.s),this.recovery):this}},{key:"toDERRawBytes",value:function(){return fB(this.toDERHex())}},{key:"toDERHex",value:function(){return iM.hexFromSig({r:this.r,s:this.s})}},{key:"toCompactRawBytes",value:function(){return fB(this.toCompactHex())}},{key:"toCompactHex",value:function(){return p(this.r)+p(this.s)}}],[{key:"fromCompact",value:function(n){var r=t.nByteLength;return n=wB("compactSignature",n,2*r),new e(g(n,0,r),g(n,r,2*r))}},{key:"fromDER",value:function(t){var n=iM.toSig(wB("DER",t));return new e(n.r,n.s)}}]),e}(),m={isValidPrivateKey:function(e){try{return l(e),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:function(){var e=HU(t.n);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.length,i=qU(t),o=HU(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);var a=NU(n?hB(e):pB(e),t-IU)+IU;return n?gB(a,i):vB(a,i)}(t.randomBytes(e),t.n)},precompute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function b(e){var t=XL(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof u}var y=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");var n=pB(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},x=t.bits2int_modN||function(e){return a(y(e))},k=ZB(t.nBitLength);function Z(e){return xB("num < 2^"+t.nBitLength,e,oM,k),vB(e,t.nByteLength)}function C(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;if(["recovered","canonical"].some((function(e){return e in i})))throw new Error("sign() legacy options not supported");var o=t.hash,c=t.randomBytes,d=i.lowS,p=i.prehash,g=i.extraEntropy;null==d&&(d=!0),e=wB("msgHash",e),eM(i),p&&(e=wB("prehashed msgHash",o(e)));var m=x(e),b=l(r),k=[Z(b),Z(m)];if(null!=g&&!1!==g){var C=!0===g?c(n.BYTES):g;k.push(wB("extraEntropy",C))}var I=mB.apply(void 0,k),S=m;function A(e){var t=y(e);if(f(t)){var n=s(t),r=u.BASE.multiply(t).toAffine(),i=a(r.x);if(i!==oM){var o=a(n*a(S+i*b));if(o!==oM){var c=(r.x===i?0:2)|Number(r.y&aM),l=o;return d&&h(o)&&(l=v(o),c^=1),new w(i,l,c)}}}}return{seed:I,k2sig:A}}var E={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,i=C(e,n,r),o=i.seed,a=i.k2sig,s=t;return IB(s.hash.outputLen,s.nByteLength,s.hmac)(o,a)},verify:function(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S,c=e;n=wB("msgHash",n),r=wB("publicKey",r);var l=o.lowS,d=o.prehash,f=o.format;if(eM(o),"strict"in o)throw new Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw new Error("format must be compact or der");var p,h,v="string"==typeof c||XL(c),g=!v&&!f&&"object"==typeof c&&null!==c&&"bigint"==typeof c.r&&"bigint"==typeof c.s;if(!v&&!g)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(p=new w(c.r,c.s)),v){try{"compact"!==f&&(p=w.fromDER(c))}catch(A){if(!(A instanceof iM.Err))throw A}!p&&"der"!==f&&(p=w.fromCompact(c))}h=u.fromHex(r)}catch(P){return!1}if(!p||l&&p.hasHighS())return!1;d&&(n=t.hash(n));var m=p,b=m.r,y=m.s,k=x(n),Z=s(y),C=a(k*Z),E=a(b*Z),I=null===(i=u.BASE.multiplyAndAddUnsafe(h,C,E))||void 0===i?void 0:i.toAffine();return!!I&&a(I.x)===b},ProjectivePoint:u,Signature:w,utils:m}}BigInt(4);var lM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),dM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fM=BigInt(1),pM=BigInt(2),hM=function(e,t){return(e+t/pM)/t};var vM=zU(lM,void 0,void 0,{sqrt:function(e){var t=lM,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=RU(l,n,t)*l%t,f=RU(d,n,t)*l%t,p=RU(f,pM,t)*u%t,h=RU(p,i,t)*p%t,v=RU(h,o,t)*h%t,g=RU(v,s,t)*v%t,w=RU(g,c,t)*g%t,m=RU(w,s,t)*v%t,b=RU(m,n,t)*l%t,y=RU(b,a,t)*h%t,x=RU(y,r,t)*u%t,k=RU(x,pM,t);if(!vM.eql(vM.sqr(k),e))throw new Error("Cannot find square root");return k}});(function(e,t){var n=function(t){return uM((0,I.Z)((0,I.Z)({},e),function(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return CU(e,t,nT.apply(void 0,r))},randomBytes:oT}}(t)))};(0,I.Z)((0,I.Z)({},n(t)),{},{create:n})})({a:BigInt(0),b:BigInt(7),Fp:vM,n:dM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:function(e){var t=dM,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-fM*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=hM(o*e,t),c=hM(-r*e,t),u=NU(e-s*n-c*i,t),l=NU(-s*r-c*o,t),d=u>a,f=l>a;if(d&&(u=t-u),f&&(l=t-l),u>a||l>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},nL),BigInt(0);var gM=r_({tokenBalances:[],loading:!1}),wM=function(){gM.token=void 0,gM.sendTokenAmount=void 0,gM.receiverAddress=void 0,gM.receiverProfileImageUrl=void 0,gM.receiverProfileName=void 0,gM.loading=!1,gM.tokenBalances=[]},mM={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},bM={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},yM=r_({chains:function(e){var t,n,r,i=r_((n={data:Array.from(e||[]),has:function(e){return this.data.some((function(t){return t[0]===e}))},set:function(e,t){var n=this.data.find((function(t){return t[0]===e}));return n?n[1]=t:this.data.push([e,t]),this},get:function(e){var t;return null==(t=this.data.find((function(t){return t[0]===e})))?void 0:t[1]},delete:function(e){var t=this.data.findIndex((function(t){return t[0]===e}));return-1!==t&&(this.data.splice(t,1),!0)},clear:function(){this.data.splice(0)},get size(){return this.data.length},toJSON:function(){return new Map(this.data)},forEach:function(e){var t=this;this.data.forEach((function(n){e(n[1],n[0],t)}))},keys:function(){return this.data.map((function(e){return e[0]})).values()},values:function(){return this.data.map((function(e){return e[1]})).values()},entries:function(){return new Map(this.data).entries()}},(r={})[t=Symbol.toStringTag]=r[t]||{},r[t].get=function(){return"Map"},(0,T.Z)(n,Symbol.iterator,(function(){return this.entries()})),function(e,t){for(var n in t)(o=t[n]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n,o);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),i=0;i<r.length;i++){var o,a=r[i];(o=t[a]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a,o)}}(n,r),n));return Object.defineProperties(i,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(i),i}(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),xM={state:yM,subscribe:function(e){return i_(yM,(function(){e(yM)}))},subscribeKey:function(e,t){return s_(yM,e,t)},subscribeChainProp:function(e,t,n){var r;return i_(yM.chains,(function(){var i=n||yM.activeChain;if(i){var o,a=null===(o=yM.chains.get(i))||void 0===o?void 0:o[e];r!==a&&(r=a,t(a))}}))},initialize:function(e,t,n){var r,i=this,o=l_.getActiveNetworkProps(),a=o.chainId,s=o.namespace,c=null===t||void 0===t?void 0:t.find((function(e){return e.id.toString()===(null===a||void 0===a?void 0:a.toString())})),u=e.find((function(e){return(null===e||void 0===e?void 0:e.namespace)===s}))||(null===e||void 0===e?void 0:e[0]),l=new Set((0,N.Z)(null!==(r=null===t||void 0===t?void 0:t.map((function(e){return e.chainNamespace})))&&void 0!==r?r:[]));(0===(null===e||void 0===e?void 0:e.length)||!u)&&(yM.noAdapters=!0),yM.noAdapters||(yM.activeChain=null===u||void 0===u?void 0:u.namespace,yM.activeCaipNetwork=c,this.setChainNetworkData(null===u||void 0===u?void 0:u.namespace,{caipNetwork:c}),yM.activeChain&&nN.set({activeChain:null===u||void 0===u?void 0:u.namespace})),l.forEach((function(e){var r=null===t||void 0===t?void 0:t.filter((function(t){return t.chainNamespace===e}));xM.state.chains.set(e,(0,I.Z)({namespace:e,networkState:r_((0,I.Z)((0,I.Z)({},bM),{},{caipNetwork:null===r||void 0===r?void 0:r[0]})),accountState:r_(mM),caipNetworks:null!==r&&void 0!==r?r:[]},n)),i.setRequestedCaipNetworks(null!==r&&void 0!==r?r:[],e)}))},removeAdapter:function(e){if(yM.activeChain===e){var t=Array.from(yM.chains.entries()).find((function(t){return(0,S.Z)(t,1)[0]!==e}));if(t){var n,r,i=null===(n=t[1])||void 0===n||null===(r=n.caipNetworks)||void 0===r?void 0:r[0];i&&this.setActiveCaipNetwork(i)}}yM.chains.delete(e)},addAdapter:function(e,t,n){var r,i=t.networkControllerClient,o=t.connectionControllerClient;yM.chains.set(e.namespace,{namespace:e.namespace,networkState:(0,I.Z)((0,I.Z)({},bM),{},{caipNetwork:n[0]}),accountState:mM,caipNetworks:n,connectionControllerClient:o,networkControllerClient:i}),this.setRequestedCaipNetworks(null!==(r=null===n||void 0===n?void 0:n.filter((function(t){return t.chainNamespace===e.namespace})))&&void 0!==r?r:[],e.namespace)},addNetwork:function(e){var t=yM.chains.get(e.chainNamespace);if(t){var n,r=(0,N.Z)(t.caipNetworks||[]);null!==(n=t.caipNetworks)&&void 0!==n&&n.find((function(t){return t.id===e.id}))||r.push(e),yM.chains.set(e.chainNamespace,(0,I.Z)((0,I.Z)({},t),{},{caipNetworks:r})),this.setRequestedCaipNetworks(r,e.chainNamespace)}},removeNetwork:function(e,t){var n=yM.chains.get(e);if(n){var r,i,o,a=(null===(r=yM.activeCaipNetwork)||void 0===r?void 0:r.id)===t,s=(0,N.Z)((null===(i=n.caipNetworks)||void 0===i?void 0:i.filter((function(e){return e.id!==t})))||[]);a&&null!==n&&void 0!==n&&null!==(o=n.caipNetworks)&&void 0!==o&&o[0]&&this.setActiveCaipNetwork(n.caipNetworks[0]),yM.chains.set(e,(0,I.Z)((0,I.Z)({},n),{},{caipNetworks:s})),this.setRequestedCaipNetworks(s||[],e)}},setAdapterNetworkState:function(e,t){var n=yM.chains.get(e);n&&(n.networkState=(0,I.Z)((0,I.Z)({},n.networkState||bM),t),yM.chains.set(e,n))},setChainAccountData:function(e,t){if(!e)throw new Error("Chain is required to update chain account data");var n=yM.chains.get(e);if(n){var r=(0,I.Z)((0,I.Z)({},n.accountState||mM),t);yM.chains.set(e,(0,I.Z)((0,I.Z)({},n),{},{accountState:r})),(1===yM.chains.size||yM.activeChain===e)&&(t.caipAddress&&(yM.activeCaipAddress=t.caipAddress),SM.replaceState(r))}},setChainNetworkData:function(e,t){if(e){var n=yM.chains.get(e);if(n){var r=(0,I.Z)((0,I.Z)({},n.networkState||bM),t);yM.chains.set(e,(0,I.Z)((0,I.Z)({},n),{},{networkState:r}))}}},setAccountProp:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.setChainAccountData(n,(0,T.Z)({},e,t),r),"status"===e&&"disconnected"===t&&n&&q_.removeConnectorId(n)},setActiveNamespace:function(e){var t,n;yM.activeChain=e;var r=e?yM.chains.get(e):void 0,i=null===r||void 0===r||null===(t=r.networkState)||void 0===t?void 0:t.caipNetwork;(null===i||void 0===i?void 0:i.id)&&e&&(yM.activeCaipAddress=null===r||void 0===r||null===(n=r.accountState)||void 0===n?void 0:n.caipAddress,yM.activeCaipNetwork=i,this.setChainNetworkData(e,{caipNetwork:i}),l_.setActiveCaipNetworkId(null===i||void 0===i?void 0:i.caipNetworkId),nN.set({activeChain:e,selectedNetworkId:null===i||void 0===i?void 0:i.caipNetworkId}))},setActiveCaipNetwork:function(e){var t,n,r;if(e){yM.activeChain!==e.chainNamespace&&this.setIsSwitchingNamespace(!0);var i=yM.chains.get(e.chainNamespace);yM.activeChain=e.chainNamespace,yM.activeCaipNetwork=e,this.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),null!==i&&void 0!==i&&null!==(t=i.accountState)&&void 0!==t&&t.address?yM.activeCaipAddress="".concat(e.chainNamespace,":").concat(e.id,":").concat(null===i||void 0===i||null===(n=i.accountState)||void 0===n?void 0:n.address):yM.activeCaipAddress=void 0,this.setAccountProp("caipAddress",yM.activeCaipAddress,e.chainNamespace),i&&SM.replaceState(i.accountState),wM(),nN.set({activeChain:yM.activeChain,selectedNetworkId:null===(r=yM.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId}),l_.setActiveCaipNetworkId(e.caipNetworkId),!this.checkIfSupportedNetwork(e.chainNamespace)&&Z_.state.enableNetworkSwitch&&!Z_.state.allowUnsupportedChain&&!eN.state.wcBasic&&this.showUnsupportedChainUI()}},addCaipNetwork:function(e){var t;if(e){var n=yM.chains.get(e.chainNamespace);n&&(null===n||void 0===n||null===(t=n.caipNetworks)||void 0===t||t.push(e))}},switchActiveNamespace:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(r=e!==xM.state.activeChain,i=null===(n=xM.getNetworkData(e))||void 0===n?void 0:n.caipNetwork,o=xM.getCaipNetworkByNamespace(e,null===i||void 0===i?void 0:i.id),t.t0=r&&o,!t.t0){t.next=7;break}return t.next=7,xM.switchActiveNetwork(o);case 7:case"end":return t.stop()}}),t)})))()},switchActiveNetwork:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r,i,o;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((null===(r=xM.state.chains.get(xM.state.activeChain))||void 0===r||null===(i=r.caipNetworks)||void 0===i||!i.some((function(e){var t;return e.id===(null===(t=yM.activeCaipNetwork)||void 0===t?void 0:t.id)})))&&U_.goBack(),o=t.getNetworkControllerClient(e.chainNamespace),n.t0=o,!n.t0){n.next=7;break}return n.next=6,o.switchCaipNetwork(e);case 6:O_.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}});case 7:case"end":return n.stop()}}),n)})))()},getNetworkControllerClient:function(e){var t=e||yM.activeChain,n=yM.chains.get(t);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient:function(e){var t=e||yM.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");var n=yM.chains.get(t);if(null===n||void 0===n||!n.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp:function(e,t){var n,r=yM.activeChain;if(t&&(r=t),r){var i=null===(n=yM.chains.get(r))||void 0===n?void 0:n.accountState;return i?i[e]:void 0}},getNetworkProp:function(e,t){var n,r=null===(n=yM.chains.get(t))||void 0===n?void 0:n.networkState;if(r)return r[e]},getRequestedCaipNetworks:function(e){var t=yM.chains.get(e),n=(null===t||void 0===t?void 0:t.networkState)||{},r=n.approvedCaipNetworkIds,i=void 0===r?[]:r,o=n.requestedCaipNetworks,a=void 0===o?[]:o;return d_.sortRequestedNetworks(i,a)},getAllRequestedCaipNetworks:function(){var e=this,t=[];return yM.chains.forEach((function(n){var r=e.getRequestedCaipNetworks(n.namespace);t.push.apply(t,(0,N.Z)(r))})),t},setRequestedCaipNetworks:function(e,t){this.setAdapterNetworkState(t,{requestedCaipNetworks:e})},getAllApprovedCaipNetworkIds:function(){var e=this,t=[];return yM.chains.forEach((function(n){var r=e.getApprovedCaipNetworkIds(n.namespace);t.push.apply(t,(0,N.Z)(r))})),t},getActiveCaipNetwork:function(){return yM.activeCaipNetwork},getActiveCaipAddress:function(){return yM.activeCaipAddress},getApprovedCaipNetworkIds:function(e){var t,n;return(null===(t=yM.chains.get(e))||void 0===t||null===(n=t.networkState)||void 0===n?void 0:n.approvedCaipNetworkIds)||[]},setApprovedCaipNetworksData:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r,i;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===(r=t.getNetworkControllerClient())||void 0===r?void 0:r.getApprovedCaipNetworksData();case 2:i=n.sent,t.setAdapterNetworkState(e,{approvedCaipNetworkIds:null===i||void 0===i?void 0:i.approvedCaipNetworkIds,supportsAllNetworks:null===i||void 0===i?void 0:i.supportsAllNetworks});case 4:case"end":return n.stop()}}),n)})))()},checkIfSupportedNetwork:function(e,t){var n=t||yM.activeCaipNetwork,r=this.getRequestedCaipNetworks(e);return!r.length||(null===r||void 0===r?void 0:r.some((function(e){return e.id===(null===n||void 0===n?void 0:n.id)})))},checkIfSupportedChainId:function(e){var t;return!yM.activeChain||(null===(t=this.getRequestedCaipNetworks(yM.activeChain))||void 0===t?void 0:t.some((function(t){return t.id===e})))},setSmartAccountEnabledNetworks:function(e,t){this.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled:function(){var e,t,n=fO(null===(e=yM.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId),r=yM.activeChain;return!(!r||!n)&&!(null===(t=this.getNetworkProp("smartAccountEnabledNetworks",r))||void 0===t||!t.includes(Number(n)))},getActiveNetworkTokenAddress:function(){var e,t,n=(null===(e=yM.activeCaipNetwork)||void 0===e?void 0:e.chainNamespace)||"eip155",r=(null===(t=yM.activeCaipNetwork)||void 0===t?void 0:t.id)||1,i=u_.NATIVE_TOKEN_ADDRESS[n];return"".concat(n,":").concat(r,":").concat(i)},showUnsupportedChainUI:function(){PM.open({view:"UnsupportedChain"})},checkIfNamesSupported:function(){var e=yM.activeCaipNetwork;return!(null===e||void 0===e||!e.chainNamespace||!u_.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork:function(e){this.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount:function(e){var t=e;if(!t)throw new Error("Chain is required to set account prop");yM.activeCaipAddress=void 0,this.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),q_.removeConnectorId(t)},disconnect:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r,i,o;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=W_(e),n.prev=1,wM(),n.next=5,Promise.allSettled(r.map(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(n){var r,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,S.Z)(n,2),i=r[0],o=r[1],e.prev=1,s=t.getAccountData(i)||{},c=s.caipAddress,e.t0=c&&null!==(a=o.connectionControllerClient)&&void 0!==a&&a.disconnect,!e.t0){e.next=7;break}return e.next=7,o.connectionControllerClient.disconnect(i);case 7:t.resetAccount(i),t.resetNetwork(i),e.next=14;break;case 11:throw e.prev=11,e.t1=e.catch(1),new Error("Failed to disconnect chain ".concat(i,": ").concat(e.t1.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()));case 5:if(i=n.sent,eN.resetWcConnection(),o=i.filter((function(e){return"rejected"===e.status})),!(o.length>0)){n.next=10;break}throw new Error(o.map((function(e){return e.reason.message})).join(", "));case 10:l_.deleteConnectedSocialProvider(),e?q_.removeConnectorId(e):q_.resetConnectorIds(),O_.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.error(n.t0.message||"Failed to disconnect chains"),O_.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.t0.message||"Failed to disconnect chains"}});case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))()},setIsSwitchingNamespace:function(e){yM.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector:function(){var e=[];if(yM.chains.forEach((function(t){ZO.AUTH_CONNECTOR_SUPPORTED_CHAINS.find((function(e){return e===t.namespace}))&&t.namespace&&e.push(t.namespace)})),e.length>0){var t,n,r=e[0];return r?null===(t=yM.chains.get(r))||void 0===t||null===(n=t.caipNetworks)||void 0===n?void 0:n[0]:void 0}},getAccountData:function(e){var t;return e?null===(t=xM.state.chains.get(e))||void 0===t?void 0:t.accountState:SM.state},getNetworkData:function(e){var t,n=e||yM.activeChain;if(n)return null===(t=xM.state.chains.get(n))||void 0===t?void 0:t.networkState},getCaipNetworkByNamespace:function(e,t){var n,r,i;if(e){var o=xM.state.chains.get(e),a=null===o||void 0===o||null===(n=o.caipNetworks)||void 0===n?void 0:n.find((function(e){return e.id===t}));return a||(null===o||void 0===o||null===(r=o.networkState)||void 0===r?void 0:r.caipNetwork)||(null===o||void 0===o||null===(i=o.caipNetworks)||void 0===i?void 0:i[0])}},getRequestedCaipNetworkIds:function(){var e=q_.state.filterByNamespace;return(e?[yM.chains.get(e)]:Array.from(yM.chains.values())).flatMap((function(e){return(null===e||void 0===e?void 0:e.caipNetworks)||[]})).map((function(e){return e.caipNetworkId}))},getCaipNetworks:function(e){return e?xM.getRequestedCaipNetworks(e):xM.getAllRequestedCaipNetworks()}},kM={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},ZM=d_.getBlockchainApiUrl(),CM=r_({clientId:null,api:new h_({baseUrl:ZM,clientId:null}),supportedChains:{http:[],ws:[]}}),EM={state:CM,get:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=EM.getSdkProperties(),r=n.st,i=n.sv,o=Z_.state.projectId,a=(0,I.Z)((0,I.Z)({},e.params||{}),{},{st:r,sv:i,projectId:o}),t.abrupt("return",CM.api.get((0,I.Z)((0,I.Z)({},e),{},{params:a})));case 2:case"end":return t.stop()}}),t)})))()},getSdkProperties:function(){var e=Z_.state;return{st:e.sdkType||"unknown",sv:e.sdkVersion||"unknown"}},isNetworkSupported:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:if(t.prev=2,t.t0=CM.supportedChains.http.length,t.t0){t.next=7;break}return t.next=7,EM.getSupportedNetworks();case 7:t.next=12;break;case 9:return t.prev=9,t.t1=t.catch(2),t.abrupt("return",!1);case 12:return t.abrupt("return",CM.supportedChains.http.includes(e));case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},getSupportedNetworks:function(){return(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EM.get({path:"v1/supported-chains"});case 2:return t=e.sent,e.abrupt("return",(CM.supportedChains=t,t));case 4:case"end":return e.stop()}}),e)})))()},fetchIdentity:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.address,r=e.caipNetworkId,t.next=3,EM.isNetworkSupported(r);case 3:if(t.sent){t.next=5;break}return t.abrupt("return",{avatar:"",name:""});case 5:if(!(i=l_.getIdentityFromCacheForAddress(n))){t.next=8;break}return t.abrupt("return",i);case 8:return t.next=10,EM.get({path:"/v1/identity/".concat(n),params:{sender:xM.state.activeCaipAddress?d_.getPlainAddress(xM.state.activeCaipAddress):void 0}});case 10:return o=t.sent,t.abrupt("return",(l_.updateIdentityCache({address:n,identity:o,timestamp:Date.now()}),o));case 12:case"end":return t.stop()}}),t)})))()},fetchTransactions:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s,c;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.account,i=e.cursor,o=e.onramp,a=e.signal,s=e.cache,c=e.chainId,t.next=3,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 3:if(!t.sent){t.next=7;break}t.t0=EM.get({path:"/v1/account/".concat(r,"/history"),params:{cursor:i,onramp:o,chainId:c},signal:a,cache:s}),t.next=8;break;case 7:t.t0={data:[],next:void 0};case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})))()},fetchSwapQuote:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.amount,i=e.userAddress,o=e.from,a=e.to,s=e.gasPrice,t.next=3,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 3:if(!t.sent){t.next=7;break}t.t0=EM.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:r,userAddress:i,from:o,to:a,gasPrice:s}}),t.next=8;break;case 7:t.t0={quotes:[]};case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})))()},fetchSwapTokens:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.chainId,t.next=3,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 3:if(!t.sent){t.next=7;break}t.t0=EM.get({path:"/v1/convert/tokens",params:{chainId:r}}),t.next=8;break;case 7:t.t0={tokens:[]};case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})))()},fetchTokenPrice:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.addresses,t.next=3,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 3:if(!t.sent){t.next=7;break}t.t0=CM.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:r,projectId:Z_.state.projectId},headers:{"Content-Type":"application/json"}}),t.next=8;break;case 7:t.t0={fungibles:[]};case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})))()},fetchSwapAllowance:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tokenAddress,i=e.userAddress,t.next=3,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 3:if(!t.sent){t.next=7;break}t.t0=EM.get({path:"/v1/convert/allowance",params:{tokenAddress:r,userAddress:i},headers:{"Content-Type":"application/json"}}),t.next=8;break;case 7:t.t0={allowance:"0"};case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})))()},fetchGasPrice:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.chainId,i=EM.getSdkProperties(),o=i.st,a=i.sv,t.next=4,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 4:if(t.sent){t.next=6;break}throw new Error("Network not supported for Gas Price");case 6:return t.abrupt("return",EM.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:r,st:o,sv:a}}));case 7:case"end":return t.stop()}}),t)})))()},generateSwapCalldata:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.amount,i=e.from,o=e.to,a=e.userAddress,s=e.disableEstimate,t.next=3,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 3:if(t.sent){t.next=5;break}throw new Error("Network not supported for Swaps");case 5:return t.abrupt("return",CM.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:r,eip155:{slippage:u_.CONVERT_SLIPPAGE_TOLERANCE},projectId:Z_.state.projectId,from:i,to:o,userAddress:a,disableEstimate:s}}));case 6:case"end":return t.stop()}}),t)})))()},generateApproveCalldata:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s,c;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.from,i=e.to,o=e.userAddress,a=EM.getSdkProperties(),s=a.st,c=a.sv,t.next=4,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 4:if(t.sent){t.next=6;break}throw new Error("Network not supported for Swaps");case 6:return t.abrupt("return",EM.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:o,from:r,to:i,st:s,sv:c}}));case 7:case"end":return t.stop()}}),t)})))()},getBalance:function(e,t,n){return(0,P.Z)((0,A.Z)().mark((function r(){var i,o,a,s,c,u,l;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=EM.getSdkProperties(),a=o.st,s=o.sv,r.next=3,EM.isNetworkSupported(null===(i=xM.state.activeCaipNetwork)||void 0===i?void 0:i.caipNetworkId);case 3:if(r.sent){r.next=5;break}return r.abrupt("return",($_.showError("Token Balance Unavailable"),{balances:[]}));case 5:if(c="".concat(t,":").concat(e),!(u=l_.getBalanceCacheForCaipAddress(c))){r.next=8;break}return r.abrupt("return",u);case 8:return r.next=10,EM.get({path:"/v1/account/".concat(e,"/balance"),params:{currency:"usd",chainId:t,forceUpdate:n,st:a,sv:s}});case 10:return l=r.sent,r.abrupt("return",(l_.updateBalanceCache({caipAddress:c,balance:l,timestamp:Date.now()}),l));case 12:case"end":return r.stop()}}),r)})))()},lookupEnsName:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 2:if(!t.sent){t.next=6;break}t.t0=EM.get({path:"/v1/profile/account/".concat(e),params:{apiVersion:"2"}}),t.next=7;break;case 6:t.t0={addresses:{},attributes:[]};case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})))()},reverseLookupEnsName:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.address,t.next=3,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 3:if(!t.sent){t.next=7;break}t.t0=EM.get({path:"/v1/profile/reverse/".concat(r),params:{sender:SM.state.address,apiVersion:"2"}}),t.next=8;break;case 7:t.t0=[];case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})))()},getEnsNameSuggestions:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 2:if(!t.sent){t.next=6;break}t.t0=EM.get({path:"/v1/profile/suggestions/".concat(e),params:{zone:"reown.id"}}),t.next=7;break;case 6:t.t0={suggestions:[]};case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})))()},registerEnsName:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.coinType,i=e.address,o=e.message,a=e.signature,t.next=3,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 3:if(!t.sent){t.next=7;break}t.t0=CM.api.post({path:"/v1/profile/account",body:{coin_type:r,address:i,message:o,signature:a},headers:{"Content-Type":"application/json"}}),t.next=8;break;case 7:t.t0={success:!1};case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})))()},generateOnRampURL:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a,s;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.destinationWallets,i=e.partnerUserId,o=e.defaultNetwork,a=e.purchaseAmount,s=e.paymentAmount,t.next=3,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 3:if(!t.sent){t.next=9;break}return t.next=6,CM.api.post({path:"/v1/generators/onrampurl",params:{projectId:Z_.state.projectId},body:{destinationWallets:r,defaultNetwork:o,partnerUserId:i,defaultExperience:"buy",presetCryptoAmount:a,presetFiatAmount:s}});case 6:t.t0=t.sent.url,t.next=10;break;case 9:t.t0="";case 10:return t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t)})))()},getOnrampOptions:function(){return(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EM.isNetworkSupported(null===(t=xM.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",{paymentCurrencies:[],purchaseCurrencies:[]});case 4:return e.prev=4,e.next=7,EM.get({path:"/v1/onramp/options"});case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",kM);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})))()},getOnrampQuote:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.purchaseCurrency,r=e.paymentCurrency,i=e.amount,o=e.network,t.prev=1,t.next=4,EM.isNetworkSupported(null===(a=xM.state.activeCaipNetwork)||void 0===a?void 0:a.caipNetworkId);case 4:if(!t.sent){t.next=10;break}return t.next=7,CM.api.post({path:"/v1/onramp/quote",params:{projectId:Z_.state.projectId},body:{purchaseCurrency:n,paymentCurrency:r,amount:i,network:o}});case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=null;case 11:return t.abrupt("return",t.t0);case 14:return t.prev=14,t.t1=t.catch(1),t.abrupt("return",{coinbaseFee:{amount:i,currency:r.id},networkFee:{amount:i,currency:r.id},paymentSubtotal:{amount:i,currency:r.id},paymentTotal:{amount:i,currency:r.id},purchaseAmount:{amount:i,currency:r.id},quoteId:"mocked-quote-id"});case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))()},getSmartSessions:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,EM.isNetworkSupported(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId);case 2:if(!t.sent){t.next=6;break}t.t0=EM.get({path:"/v1/sessions/".concat(e)}),t.next=7;break;case 6:t.t0=[];case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})))()},revokeSmartSession:function(e,t,n){return(0,P.Z)((0,A.Z)().mark((function r(){var i;return(0,A.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,EM.isNetworkSupported(null===(i=xM.state.activeCaipNetwork)||void 0===i?void 0:i.caipNetworkId);case 2:if(!r.sent){r.next=6;break}r.t0=CM.api.post({path:"/v1/sessions/".concat(e,"/revoke"),params:{projectId:Z_.state.projectId},body:{pci:t,signature:n}}),r.next=7;break;case 6:r.t0={success:!1};case 7:return r.abrupt("return",r.t0);case 8:case"end":return r.stop()}}),r)})))()},setClientId:function(e){CM.clientId=e,CM.api=new h_({baseUrl:ZM,clientId:e})}},IM=r_({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),SM={state:IM,replaceState:function(e){e&&Object.assign(IM,a_(e))},subscribe:function(e){return xM.subscribeChainProp("accountState",(function(t){if(t)return e(t)}))},subscribeKey:function(e,t,n){var r;return xM.subscribeChainProp("accountState",(function(n){if(n){var i=n[e];r!==i&&(r=i,t(i))}}),n)},setStatus:function(e,t){xM.setAccountProp("status",e,t)},getCaipAddress:function(e){return xM.getAccountProp("caipAddress",e)},setCaipAddress:function(e,t){var n=e?d_.getPlainAddress(e):void 0;t===xM.state.activeChain&&(xM.state.activeCaipAddress=e),xM.setAccountProp("caipAddress",e,t),xM.setAccountProp("address",n,t)},setBalance:function(e,t,n){xM.setAccountProp("balance",e,n),xM.setAccountProp("balanceSymbol",t,n)},setProfileName:function(e,t){xM.setAccountProp("profileName",e,t)},setProfileImage:function(e,t){xM.setAccountProp("profileImage",e,t)},setUser:function(e,t){xM.setAccountProp("user",e,t)},setAddressExplorerUrl:function(e,t){xM.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed:function(e,t){xM.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab:function(e){xM.setAccountProp("currentTab",e,xM.state.activeChain)},setTokenBalance:function(e,t){e&&xM.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress:function(e,t){xM.setAccountProp("shouldUpdateToAddress",e,t)},setAllAccounts:function(e,t){xM.setAccountProp("allAccounts",e,t)},addAddressLabel:function(e,t,n){var r=xM.getAccountProp("addressLabels",n)||new Map;r.set(e,t),xM.setAccountProp("addressLabels",r,n)},removeAddressLabel:function(e,t){var n=xM.getAccountProp("addressLabels",t)||new Map;n.delete(e),xM.setAccountProp("addressLabels",n,t)},setConnectedWalletInfo:function(e,t){xM.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType:function(e,t){xM.setAccountProp("preferredAccountTypes",(0,I.Z)((0,I.Z)({},IM.preferredAccountTypes),{},(0,T.Z)({},t,e)),t)},setPreferredAccountTypes:function(e){IM.preferredAccountTypes=e},setSocialProvider:function(e,t){e&&xM.setAccountProp("socialProvider",e,t)},setSocialWindow:function(e,t){xM.setAccountProp("socialWindow",e?a_(e):void 0,t)},setFarcasterUrl:function(e,t){xM.setAccountProp("farcasterUrl",e,t)},fetchTokenBalance:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r,i,o,a,s,c,u;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(IM.balanceLoading=!0,o=null===(r=xM.state.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId,a=null===(i=xM.state.activeCaipNetwork)||void 0===i?void 0:i.chainNamespace,s=xM.state.activeCaipAddress,c=s?d_.getPlainAddress(s):void 0,!IM.lastRetry||d_.isAllowedRetry(IM.lastRetry,30*u_.ONE_SEC_MS)){n.next=4;break}return n.abrupt("return",(IM.balanceLoading=!1,[]));case 4:if(n.prev=4,!(c&&o&&a)){n.next=10;break}return n.next=8,EM.getBalance(c,o);case 8:return u=n.sent.balances.filter((function(e){return"0"!==e.quantity.decimals})),n.abrupt("return",(t.setTokenBalance(u,a),IM.lastRetry=void 0,IM.balanceLoading=!1,u));case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),IM.lastRetry=Date.now(),null!==e&&void 0!==e&&e(n.t0),$_.showError("Token Balance Unavailable");case 15:return n.prev=15,IM.balanceLoading=!1,n.finish(15);case 18:return n.abrupt("return",[]);case 19:case"end":return n.stop()}}),n,null,[[4,12,15,18]])})))()},resetAccount:function(e){xM.resetAccount(e)}},AM=r_({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),PM={state:AM,subscribe:function(e){return i_(AM,(function(){return e(AM)}))},subscribeKey:function(e,t){return s_(AM,e,t)},open:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r="connected"===SM.state.status,!eN.state.wcBasic){t.next=5;break}L_.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}),t.next=7;break;case 5:return t.next=7,L_.prefetch({fetchConnectorImages:!r,fetchFeaturedWallets:!r,fetchRecommendedWallets:!r});case 7:if(null===e||void 0===e||!e.namespace){t.next=13;break}return t.next=10,xM.switchActiveNamespace(e.namespace);case 10:PM.setLoading(!0,e.namespace),t.next=14;break;case 13:PM.setLoading(!0);case 14:q_.setFilterByNamespace(null===e||void 0===e?void 0:e.namespace),i=null===(n=xM.getAccountData(null===e||void 0===e?void 0:e.namespace))||void 0===n?void 0:n.caipAddress,xM.state.noAdapters&&!i?d_.isMobile()?U_.reset("AllWallets"):U_.reset("ConnectingWalletConnectBasic"):null!==e&&void 0!==e&&e.view?U_.reset(e.view,e.data):i?U_.reset("Account"):U_.reset("Connect"),AM.open=!0,nN.set({open:!0}),O_.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}});case 17:case"end":return t.stop()}}),t)})))()},close:function(){var e=Z_.state.enableEmbedded,t=!!xM.state.activeCaipAddress;AM.open&&O_.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),AM.open=!1,PM.clearLoading(),e?t?U_.replace("Account"):U_.push("Connect"):nN.set({open:!1}),eN.resetUri()},setLoading:function(e,t){t&&AM.loadingNamespaceMap.set(t,e),AM.loading=e,nN.set({loading:e})},clearLoading:function(){AM.loadingNamespaceMap.clear(),AM.loading=!1},shake:function(){AM.shake||(AM.shake=!0,setTimeout((function(){AM.shake=!1}),500))}},OM={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]};r_({providers:[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],selectedProvider:null,error:null,purchaseCurrency:OM,paymentCurrency:{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},purchaseCurrencies:[OM],paymentCurrencies:[],quotesLoading:!1}),r_({initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:u_.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0});var _M=r_({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),NM={state:_M,subscribe:function(e){return i_(_M,(function(){return e(_M)}))},subscribeKey:function(e,t){return s_(_M,e,t)},showTooltip:function(e){var t=e.message,n=e.triggerRect,r=e.variant;_M.open=!0,_M.message=t,_M.triggerRect=n,_M.variant=r},hide:function(){_M.open=!1,_M.message="",_M.triggerRect={width:0,height:0,top:0,left:0}}},TM=2147483648,RM=function(e){if(e>=TM)throw new Error("Invalid chainId");return(TM|e)>>>0},LM=r_({suggestions:[],loading:!1}),BM={state:LM,subscribe:function(e){return i_(LM,(function(){return e(LM)}))},subscribeKey:function(e,t){return s_(LM,e,t)},resolveName:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,EM.lookupEnsName(e);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),i=t.t0,new Error((null===i||void 0===i||null===(n=i.reasons)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.description)||"Error resolving name");case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},isNameRegistered:function(e){return(0,P.Z)((0,A.Z)().mark((function t(){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,EM.lookupEnsName(e);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getSuggestions:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r,i;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,LM.loading=!0,LM.suggestions=[],n.next=4,EM.getEnsNameSuggestions(e);case 4:return r=n.sent,n.abrupt("return",(LM.suggestions=r.suggestions.map((function(e){return(0,I.Z)((0,I.Z)({},e),{},{name:e.name})}))||[],LM.suggestions));case 8:throw n.prev=8,n.t0=n.catch(0),i=t.parseEnsApiError(n.t0,"Error fetching name suggestions"),new Error(i);case 12:return n.prev=12,LM.loading=!1,n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,8,12,15]])})))()},getNamesForAddress:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r,i,o;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,xM.state.activeCaipNetwork){n.next=3;break}return n.abrupt("return",[]);case 3:if(!(r=l_.getEnsFromCacheForAddress(e))){n.next=6;break}return n.abrupt("return",r);case 6:return n.next=8,EM.reverseLookupEnsName({address:e});case 8:return i=n.sent,n.abrupt("return",(l_.updateEnsCache({address:e,ens:i,timestamp:Date.now()}),i));case 12:throw n.prev=12,n.t0=n.catch(0),o=t.parseEnsApiError(n.t0,"Error fetching names for address"),new Error(o);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},registerName:function(e){var t=this;return(0,P.Z)((0,A.Z)().mark((function n(){var r,i,o,a,s,c,u,l;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=xM.state.activeCaipNetwork){n.next=3;break}throw new Error("Network not found");case 3:if(i=SM.state.address,o=q_.getAuthConnector(),i&&o){n.next=6;break}throw new Error("Address or auth connector not found");case 6:return LM.loading=!0,n.prev=7,a=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)}),U_.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel:function(){LM.loading=!1}}),n.next=12,eN.signMessage(a);case 12:if(s=n.sent,c=r.id){n.next=16;break}throw new Error("Network not found");case 16:return u=RM(Number(c)),n.next=19,EM.registerEnsName({coinType:u,address:i,signature:s,message:a});case 19:SM.setProfileName(e,r.chainNamespace),U_.replace("RegisterAccountNameSuccess"),n.next=27;break;case 23:throw n.prev=23,n.t0=n.catch(7),l=t.parseEnsApiError(n.t0,"Error registering name ".concat(e)),U_.replace("RegisterAccountName"),new Error(l);case 27:return n.prev=27,LM.loading=!1,n.finish(27);case 30:case"end":return n.stop()}}),n,null,[[7,23,27,30]])})))()},validateName:function(e){return/^[\x2D0-9A-Za-z]{4,}$/.test(e)},parseEnsApiError:function(e,t){var n,r;return(null===e||void 0===e||null===(n=e.reasons)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.description)||t}};r_({isLegalCheckboxChecked:!1});var UM="MetaMask",MM="Trust Wallet",jM="Solflare",DM="Phantom",zM="Coin98",qM="Magic Eden",HM="Backpack",WM="Bitget Wallet",FM="Frontier",VM="Xverse Wallet",KM="Leather",GM="WALLET_CONNECT",$M="INJECTED",YM="ANNOUNCED",JM={ConnectorExplorerIds:(nk={},(0,T.Z)(nk,ZO.CONNECTOR_ID.COINBASE,"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa"),(0,T.Z)(nk,ZO.CONNECTOR_ID.COINBASE_SDK,"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa"),(0,T.Z)(nk,ZO.CONNECTOR_ID.SAFE,"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f"),(0,T.Z)(nk,ZO.CONNECTOR_ID.LEDGER,"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927"),(0,T.Z)(nk,ZO.CONNECTOR_ID.OKX,"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"),(0,T.Z)(nk,UM,"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96"),(0,T.Z)(nk,MM,"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0"),(0,T.Z)(nk,jM,"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79"),(0,T.Z)(nk,DM,"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"),(0,T.Z)(nk,zM,"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01"),(0,T.Z)(nk,qM,"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6"),(0,T.Z)(nk,HM,"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0"),(0,T.Z)(nk,WM,"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662"),(0,T.Z)(nk,FM,"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041"),(0,T.Z)(nk,VM,"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b"),(0,T.Z)(nk,KM,"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"),nk),NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:(rk={},(0,T.Z)(rk,ZO.CONNECTOR_ID.COINBASE,"0c2840c3-5b04-4c44-9661-fbd4b49e1800"),(0,T.Z)(rk,ZO.CONNECTOR_ID.COINBASE_SDK,"0c2840c3-5b04-4c44-9661-fbd4b49e1800"),(0,T.Z)(rk,ZO.CONNECTOR_ID.SAFE,"461db637-8616-43ce-035a-d89b8a1d5800"),(0,T.Z)(rk,ZO.CONNECTOR_ID.LEDGER,"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300"),(0,T.Z)(rk,ZO.CONNECTOR_ID.WALLET_CONNECT,"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400"),(0,T.Z)(rk,ZO.CONNECTOR_ID.INJECTED,"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"),rk),ConnectorNamesMap:(ik={},(0,T.Z)(ik,ZO.CONNECTOR_ID.INJECTED,"Browser Wallet"),(0,T.Z)(ik,ZO.CONNECTOR_ID.WALLET_CONNECT,"WalletConnect"),(0,T.Z)(ik,ZO.CONNECTOR_ID.COINBASE,"Coinbase"),(0,T.Z)(ik,ZO.CONNECTOR_ID.COINBASE_SDK,"Coinbase"),(0,T.Z)(ik,ZO.CONNECTOR_ID.LEDGER,"Ledger"),(0,T.Z)(ik,ZO.CONNECTOR_ID.SAFE,"Safe"),ik),ConnectorTypesMap:(ok={},(0,T.Z)(ok,ZO.CONNECTOR_ID.INJECTED,"INJECTED"),(0,T.Z)(ok,ZO.CONNECTOR_ID.WALLET_CONNECT,"WALLET_CONNECT"),(0,T.Z)(ok,ZO.CONNECTOR_ID.EIP6963,"ANNOUNCED"),(0,T.Z)(ok,ZO.CONNECTOR_ID.AUTH,"AUTH"),ok),WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},XM=function(e,t){return(null===e||void 0===e?void 0:e.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())},QM={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:function(){return"Origin ".concat(typeof window<"u"?window.origin:"unknown"," not found on Allowlist - update configuration on cloud.reown.com")}},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:function(){return"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"}},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function ej(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}var tj=function(e,t,n){var r=n&&n.stringify||ej;if("object"==typeof e&&null!==e){var i=t.length+1;if(1===i)return e;var o=new Array(i);o[0]=r(e);for(var a=1;a<i;a++)o[a]=r(t[a]);return o.join(" ")}if("string"!=typeof e)return e;var s=t.length;if(0===s)return e;for(var c="",u=0,l=-1,d=e&&e.length||0,f=0;f<d;){if(37===e.charCodeAt(f)&&f+1<d){switch(l=l>-1?l:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=s||null==t[u])break;l<f&&(c+=e.slice(l,f)),c+=Number(t[u]),l=f+2,f++;break;case 105:if(u>=s||null==t[u])break;l<f&&(c+=e.slice(l,f)),c+=Math.floor(Number(t[u])),l=f+2,f++;break;case 79:case 111:case 106:if(u>=s||void 0===t[u])break;l<f&&(c+=e.slice(l,f));var p=typeof t[u];if("string"===p){c+="'"+t[u]+"'",l=f+2,f++;break}if("function"===p){c+=t[u].name||"<anonymous>",l=f+2,f++;break}c+=r(t[u]),l=f+2,f++;break;case 115:if(u>=s)break;l<f&&(c+=e.slice(l,f)),c+=String(t[u]),l=f+2,f++;break;case 37:l<f&&(c+=e.slice(l,f)),c+="%",l=f+2,f++,u--}++u}++f}return-1===l?e:(l<d&&(c+=e.slice(l)),c)};var nj=tj,rj=aj,ij=function(){function e(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},oj={mapHttpRequest:hj,mapHttpResponse:hj,wrapRequestSerializer:vj,wrapResponseSerializer:vj,wrapErrorSerializer:vj,req:hj,res:hj,err:function(e){var t={type:e.constructor.name,msg:e.message,stack:e.stack};for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}};function aj(e){(e=e||{}).browser=e.browser||{};var t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");var n=e.browser.write||ij;e.browser.write&&(e.browser.asObject=!0);var r=e.serializers||{},i=function(e,t){return Array.isArray(e)?e.filter((function(e){return"!stdSerializers.err"!==e})):!0===e&&Object.keys(t)}(e.browser.serialize,r),o=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);"function"==typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");var a=e.level||"info",s=Object.create(n);s.log||(s.log=gj),Object.defineProperty(s,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(s,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,sj(c,s,"error","log"),sj(c,s,"fatal","error"),sj(c,s,"warn","error"),sj(c,s,"info","log"),sj(c,s,"debug","log"),sj(c,s,"trace","log")}});var c={transmit:t,serialize:i,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:pj(e)};return s.levels=aj.levels,s.level=a,s.setMaxListeners=s.getMaxListeners=s.emit=s.addListener=s.on=s.prependListener=s.once=s.prependOnceListener=s.removeListener=s.removeAllListeners=s.listeners=s.listenerCount=s.eventNames=s.write=s.flush=gj,s.serializers=r,s._serialize=i,s._stdErrSerialize=o,s.child=function(n,o){if(!n)throw new Error("missing bindings for child Pino");o=o||{},i&&n.serializers&&(o.serializers=n.serializers);var a=o.serializers;if(i&&a){var s=Object.assign({},r,a),c=!0===e.browser.serialize?Object.keys(s):i;delete n.serializers,uj([n],c,s,this._stdErrSerialize)}function u(e){this._childLevel=1+(0|e._childLevel),this.error=lj(e,n,"error"),this.fatal=lj(e,n,"fatal"),this.warn=lj(e,n,"warn"),this.info=lj(e,n,"info"),this.debug=lj(e,n,"debug"),this.trace=lj(e,n,"trace"),s&&(this.serializers=s,this._serialize=c),t&&(this._logEvent=fj([].concat(e._logEvent.bindings,n)))}return u.prototype=this,new u(this)},t&&(s._logEvent=fj()),s}function sj(e,t,n,r){var i=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?gj:i[n]?i[n]:ij[n]||ij[r]||gj,function(e,t,n){!e.transmit&&t[n]===gj||(t[n]=function(r){return function(){for(var i=e.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ij?ij:this,s=0;s<o.length;s++)o[s]=arguments[s];if(e.serialize&&!e.asObject&&uj(o,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?r.call(a,cj(this,n,o,i)):r.apply(a,o),e.transmit){var c=e.transmit.level||t.level,u=aj.levels.values[c],l=aj.levels.values[n];if(l<u)return;dj(this,{ts:i,methodLevel:n,methodValue:l,transmitLevel:c,transmitValue:aj.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},o)}}}(t[n]))}(e,t,n)}function cj(e,t,n,r){e._serialize&&uj(n,e._serialize,e.serializers,e._stdErrSerialize);var i=n.slice(),o=i[0],a={};r&&(a.time=r),a.level=aj.levels.values[t];var s=1+(0|e._childLevel);if(s<1&&(s=1),null!==o&&"object"==typeof o){for(;s--&&"object"==typeof i[0];)Object.assign(a,i.shift());o=i.length?nj(i.shift(),i):void 0}else"string"==typeof o&&(o=nj(i.shift(),i));return void 0!==o&&(a.msg=o),a}function uj(e,t,n,r){for(var i in e)if(r&&e[i]instanceof Error)e[i]=aj.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(var o in e[i])t&&t.indexOf(o)>-1&&o in n&&(e[i][o]=n[o](e[i][o]))}function lj(e,t,n){return function(){var r=new Array(1+arguments.length);r[0]=t;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return e[n].apply(this,r)}}function dj(e,t,n){var r=t.send,i=t.ts,o=t.methodLevel,a=t.methodValue,s=t.val,c=e._logEvent.bindings;uj(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter((function(e){return-1===c.indexOf(e)})),e._logEvent.level.label=o,e._logEvent.level.value=a,r(o,e._logEvent,s),e._logEvent=fj(c)}function fj(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function pj(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?wj:mj}function hj(){return{}}function vj(e){return e}function gj(){}function wj(){return!1}function mj(){return Date.now()}aj.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},aj.stdSerializers=oj,aj.stdTimeFunctions=Object.assign({},{nullTime:wj,epochTime:mj,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}});function bj(e){return"string"==typeof e?e:function(e){return JSON.stringify(e,(function(e,t){return"bigint"==typeof t?t.toString()+"n":t}))}(e)||""}var yj="info",xj=1024e3,kj=function(){function e(t){(0,O.Z)(this,e),this.nodeValue=t,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}return(0,_.Z)(e,[{key:"value",get:function(){return this.nodeValue}},{key:"size",get:function(){return this.sizeInBytes}}]),e}(),Zj=function(e){function t(e){(0,O.Z)(this,t),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}return(0,_.Z)(t,[{key:"append",value:function(e){var t=new kj(e);if(t.size>this.maxSizeInBytes)throw new Error("[LinkedList] Value too big to insert into list: ".concat(e," with size ").concat(t.size));for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}},{key:"shift",value:function(){if(this.head){var e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}}},{key:"toArray",value:function(){for(var e=[],t=this.head;null!==t;)e.push(t.value),t=t.next;return e}},{key:"length",get:function(){return this.lengthInNodes}},{key:"size",get:function(){return this.sizeInBytes}},{key:"toOrderedArray",value:function(){return Array.from(this)}},{key:e,value:function(){var e=this.head;return{next:function(){if(!e)return{done:!0,value:null};var t=e.value;return e=e.next,{done:!1,value:t}}}}}]),t}(Symbol.iterator),Cj=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xj;(0,O.Z)(this,e),this.level=null!==t&&void 0!==t?t:"error",this.levelValue=rj.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Zj(this.MAX_LOG_SIZE_IN_BYTES)}return(0,_.Z)(e,[{key:"forwardToConsole",value:function(e,t){t===rj.levels.values.error?console.error(e):t===rj.levels.values.warn?console.warn(e):t===rj.levels.values.debug?console.debug(e):t===rj.levels.values.trace?console.trace(e):console.log(e)}},{key:"appendToLogs",value:function(e){this.logs.append(bj({timestamp:(new Date).toISOString(),log:e}));var t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}},{key:"getLogs",value:function(){return this.logs}},{key:"clearLogs",value:function(){this.logs=new Zj(this.MAX_LOG_SIZE_IN_BYTES)}},{key:"getLogArray",value:function(){return Array.from(this.logs)}},{key:"logsToBlob",value:function(e){var t=this.getLogArray();return t.push(bj({extraMetadata:e})),new Blob(t,{type:"application/json"})}}]),e}(),Ej=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xj;(0,O.Z)(this,e),this.baseChunkLogger=new Cj(t,n)}return(0,_.Z)(e,[{key:"write",value:function(e){this.baseChunkLogger.appendToLogs(e)}},{key:"getLogs",value:function(){return this.baseChunkLogger.getLogs()}},{key:"clearLogs",value:function(){this.baseChunkLogger.clearLogs()}},{key:"getLogArray",value:function(){return this.baseChunkLogger.getLogArray()}},{key:"logsToBlob",value:function(e){return this.baseChunkLogger.logsToBlob(e)}},{key:"downloadLogsBlobInBrowser",value:function(e){var t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download="walletconnect-logs-".concat((new Date).toISOString(),".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}]),e}(),Ij=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xj;(0,O.Z)(this,e),this.baseChunkLogger=new Cj(t,n)}return(0,_.Z)(e,[{key:"write",value:function(e){this.baseChunkLogger.appendToLogs(e)}},{key:"getLogs",value:function(){return this.baseChunkLogger.getLogs()}},{key:"clearLogs",value:function(){this.baseChunkLogger.clearLogs()}},{key:"getLogArray",value:function(){return this.baseChunkLogger.getLogArray()}},{key:"logsToBlob",value:function(e){return this.baseChunkLogger.logsToBlob(e)}}]),e}(),Sj=Object.defineProperty,Aj=Object.defineProperties,Pj=Object.getOwnPropertyDescriptors,Oj=Object.getOwnPropertySymbols,_j=Object.prototype.hasOwnProperty,Nj=Object.prototype.propertyIsEnumerable,Tj=function(e,t,n){return t in e?Sj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Rj=function(e,t){for(var n in t||(t={}))_j.call(t,n)&&Tj(e,n,t[n]);if(Oj){var r,i=(0,R.Z)(Oj(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Nj.call(t,n)&&Tj(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},Lj=function(e,t){return Aj(e,Pj(t))};function Bj(e){return Lj(Rj({},e),{level:(null===e||void 0===e?void 0:e.level)||yj})}function Uj(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n,r=new Ej(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:rj(Lj(Rj({},e.opts),{level:"trace",browser:Lj(Rj({},null==(n=e.opts)?void 0:n.browser),{write:function(e){return r.write(e)}})})),chunkLoggerController:r}}(e):function(e){var t,n=new Ij(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:rj(Lj(Rj({},e.opts),{level:"trace"})),chunkLoggerController:n}}(e)}var Mj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=Bj({level:t}),r=Uj({opts:n}),i=r.logger;return i.error=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(a instanceof Error)return void e.apply(void 0,[a].concat(n))}e.apply(void 0,[void 0].concat(n))},i};function jj(e,t){var n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}var Dj,zj=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],qj={extendRpcUrlWithProjectId:function(e,t){var n=!1;try{n="rpc.walletconnect.org"===new URL(e).host}catch(i){n=!1}if(n){var r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork:function(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace:function(e){return this.isCaipNetwork(e)?e.chainNamespace:ZO.CHAIN.EVM},getCaipNetworkId:function(e){return this.isCaipNetwork(e)?e.caipNetworkId:"".concat(ZO.CHAIN.EVM,":").concat(e.id)},getDefaultRpcUrl:function(e,t,n){var r,i,o,a=null===(r=e.rpcUrls)||void 0===r||null===(i=r.default)||void 0===i||null===(o=i.http)||void 0===o?void 0:o[0];return zj.includes(t)?jj(t,n):a||""},extendCaipNetwork:function(e,t){var n,r,i,o,a,s=t.customNetworkImageUrls,c=t.projectId,u=t.customRpcUrls,l=this.getChainNamespace(e),d=this.getCaipNetworkId(e),f=null===(n=e.rpcUrls.default.http)||void 0===n?void 0:n[0],p=this.getDefaultRpcUrl(e,d,c),h=(null===e||void 0===e||null===(r=e.rpcUrls)||void 0===r||null===(i=r.chainDefault)||void 0===i||null===(o=i.http)||void 0===o?void 0:o[0])||f,v=(null===u||void 0===u||null===(a=u[d])||void 0===a?void 0:a.map((function(e){return e.url})))||[],g=[].concat((0,N.Z)(v),[p]),w=(0,N.Z)(v);return h&&!w.includes(h)&&w.push(h),(0,I.Z)((0,I.Z)({},e),{},{chainNamespace:l,caipNetworkId:d,assets:{imageId:JM.NetworkImageIds[e.id],imageUrl:null===s||void 0===s?void 0:s[e.id]},rpcUrls:(0,I.Z)((0,I.Z)({},e.rpcUrls),{},{default:{http:g},chainDefault:{http:w}})})},extendCaipNetworks:function(e,t){var n=t.customNetworkImageUrls,r=t.projectId,i=t.customRpcUrls;return e.map((function(e){return qj.extendCaipNetwork(e,{customNetworkImageUrls:n,customRpcUrls:i,projectId:r})}))},getViemTransport:function(e,t,n){var r,i,o,a=[];return null!==n&&void 0!==n&&n.forEach((function(e){a.push(RL(e.url,e.config))})),zj.includes(e.caipNetworkId)&&a.push(RL(jj(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),null!==e&&void 0!==e&&null!==(r=e.rpcUrls)&&void 0!==r&&null!==(i=r.default)&&void 0!==i&&null!==(o=i.http)&&void 0!==o&&o.forEach((function(e){a.push(RL(e))})),SL(a)},extendWagmiTransports:function(e,t,n){return zj.includes(e.caipNetworkId)?SL([n,RL(this.getDefaultRpcUrl(e,e.caipNetworkId,t))]):n},getUnsupportedNetwork:function(e){return{id:e.split(":")[1],caipNetworkId:e,name:ZO.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage:function(e){var t,n=l_.getActiveCaipNetworkId(),r=xM.getAllRequestedCaipNetworks(),i=Array.from((null===(t=xM.state.chains)||void 0===t?void 0:t.keys())||[]),o=null===n||void 0===n?void 0:n.split(":")[0],a=!!o&&i.includes(o),s=null===r||void 0===r?void 0:r.find((function(e){return e.caipNetworkId===n}));return a&&!s&&n?this.getUnsupportedNetwork(n):s||e||(null===r||void 0===r?void 0:r[0])}},Hj={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Wj=r_({providers:(0,I.Z)({},Hj),providerIds:(0,I.Z)({},Hj)}),Fj={state:Wj,subscribeKey:function(e,t){return s_(Wj,e,t)},subscribe:function(e){return i_(Wj,(function(){e(Wj)}))},subscribeProviders:function(e){return i_(Wj.providers,(function(){return e(Wj.providers)}))},setProvider:function(e,t){t&&(Wj.providers[e]=a_(t))},getProvider:function(e){return Wj.providers[e]},setProviderId:function(e,t){t&&(Wj.providerIds[e]=t)},getProviderId:function(e){if(e)return Wj.providerIds[e]},reset:function(){Wj.providers=(0,I.Z)({},Hj),Wj.providerIds=(0,I.Z)({},Hj)},resetChain:function(e){Wj.providers[e]=void 0,Wj.providerIds[e]=void 0}};!function(e){e.Google="google",e.Github="github",e.Apple="apple",e.Facebook="facebook",e.X="x",e.Discord="discord",e.Farcaster="farcaster"}(Dj||(Dj={}));var Vj={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"?{NODE_ENV:"production",PUBLIC_URL:"/wallet-sign",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},Kj={filterOutDuplicatesByRDNS:function(e){var t=Z_.state.enableEIP6963?q_.state.connectors:[],n=l_.getRecentWallets(),r=t.map((function(e){var t;return null===(t=e.info)||void 0===t?void 0:t.rdns})).filter(Boolean),i=n.map((function(e){return e.rdns})).filter(Boolean),o=r.concat(i);if(o.includes("io.metamask.mobile")&&d_.isMobile()){var a=o.indexOf("io.metamask.mobile");o[a]="io.metamask"}return e.filter((function(e){return!o.includes(String(null===e||void 0===e?void 0:e.rdns))}))},filterOutDuplicatesByIds:function(e){var t=q_.state.connectors.filter((function(e){return"ANNOUNCED"===e.type||"INJECTED"===e.type})),n=l_.getRecentWallets(),r=t.map((function(e){return e.explorerId})),i=n.map((function(e){return e.id})),o=r.concat(i);return e.filter((function(e){return!o.includes(null===e||void 0===e?void 0:e.id)}))},filterOutDuplicateWallets:function(e){var t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled:function(e){var t=q_.state.connectors.filter((function(e){return"ANNOUNCED"===e.type})).reduce((function(e,t){var n;return null!==(n=t.info)&&void 0!==n&&n.rdns&&(e[t.info.rdns]=!0),e}),{});return e.map((function(e){var n;return(0,I.Z)((0,I.Z)({},e),{},{installed:!!e.rdns&&!!t[null!==(n=e.rdns)&&void 0!==n?n:""]})})).sort((function(e,t){return Number(t.installed)-Number(e.installed)}))},getConnectOrderMethod:function(e,t){var n,r=(null===e||void 0===e?void 0:e.connectMethodsOrder)||(null===(n=Z_.state.features)||void 0===n?void 0:n.connectMethodsOrder),i=t||q_.state.connectors;if(r)return r;var o=Gj.getConnectorsByType(i,L_.state.recommended,L_.state.featured),a=o.injected,s=o.announced,c=a.filter(Gj.showConnector),u=s.filter(Gj.showConnector);return c.length||u.length?["wallet","email","social"]:Vj.DEFAULT_CONNECT_METHOD_ORDER},isExcluded:function(e){var t=!!e.rdns&&L_.state.excludedWallets.some((function(t){return t.rdns===e.rdns})),n=!!e.name&&L_.state.excludedWallets.some((function(t){return XM(t.name,e.name)}));return t||n}},Gj={getConnectorsByType:function(e,t,n){var r=Z_.state.customWallets,i=l_.getRecentWallets(),o=Kj.filterOutDuplicateWallets(t),a=Kj.filterOutDuplicateWallets(n),s=e.filter((function(e){return"MULTI_CHAIN"===e.type})),c=e.filter((function(e){return"ANNOUNCED"===e.type})),u=e.filter((function(e){return"INJECTED"===e.type})),l=e.filter((function(e){return"EXTERNAL"===e.type}));return{custom:r,recent:i,external:l,multiChain:s,announced:c,injected:u,recommended:o,featured:a}},showConnector:function(e){var t,n=null===(t=e.info)||void 0===t?void 0:t.rdns,r=!!n&&L_.state.excludedWallets.some((function(e){return!!e.rdns&&e.rdns===n})),i=!!e.name&&L_.state.excludedWallets.some((function(t){return XM(t.name,e.name)}));return!("INJECTED"===e.type&&(!d_.isMobile()&&"Browser Wallet"===e.name||!n&&!eN.checkInstalled()||r||i)||("ANNOUNCED"===e.type||"EXTERNAL"===e.type)&&(r||i))},getIsConnectedWithWC:function(){return Array.from(xM.state.chains.values()).some((function(e){return q_.getConnectorId(e.namespace)===ZO.CONNECTOR_ID.WALLET_CONNECT}))},getConnectorTypeOrder:function(e){var t,n,r=e.recommended,i=e.featured,o=e.custom,a=e.recent,s=e.announced,c=e.injected,u=e.multiChain,l=e.external,d=e.overriddenConnectors,f=void 0===d?null!==(t=null===(n=Z_.state.features)||void 0===n?void 0:n.connectorTypeOrder)&&void 0!==t?t:[]:d,p=Gj.getIsConnectedWithWC(),h=[{type:"walletConnect",isEnabled:Z_.state.enableWalletConnect&&!p},{type:"recent",isEnabled:a.length>0},{type:"injected",isEnabled:[].concat((0,N.Z)(c),(0,N.Z)(s),(0,N.Z)(u)).length>0},{type:"featured",isEnabled:i.length>0},{type:"custom",isEnabled:o&&o.length>0},{type:"external",isEnabled:l.length>0},{type:"recommended",isEnabled:r.length>0}].filter((function(e){return e.isEnabled})),v=new Set(h.map((function(e){return e.type}))),g=f.filter((function(e){return v.has(e)})).map((function(e){return{type:e,isEnabled:!0}})),w=h.filter((function(e){var t=e.type;return!g.some((function(e){return e.type===t}))}));return Array.from(new Set([].concat((0,N.Z)(g),(0,N.Z)(w)).map((function(e){return e.type}))))}},$j=globalThis,Yj=$j.ShadowRoot&&(void 0===$j.ShadyCSS||$j.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Jj=Symbol(),Xj=new WeakMap,Qj=function(){function e(t,n,r){if((0,O.Z)(this,e),this._$cssResult$=!0,r!==Jj)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}return(0,_.Z)(e,[{key:"styleSheet",get:function(){var e=this.o,t=this.t;if(Yj&&void 0===e){var n=void 0!==t&&1===t.length;n&&(e=Xj.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&Xj.set(t,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),e}(),eD=function(e){return new Qj("string"==typeof e?e:e+"",void 0,Jj)},tD=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=1===e.length?e[0]:n.reduce((function(t,n,r){return t+function(e){if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(n)+e[r+1]}),e[0]);return new Qj(i,e,Jj)},nD=Yj?function(e){return e}:function(e){return e instanceof CSSStyleSheet?function(e){var t,n="",r=(0,R.Z)(e.cssRules);try{for(r.s();!(t=r.n()).done;){n+=t.value.cssText}}catch(i){r.e(i)}finally{r.f()}return eD(n)}(e):e},rD=Object.is,iD=Object.defineProperty,oD=Object.getOwnPropertyDescriptor,aD=Object.getOwnPropertyNames,sD=Object.getOwnPropertySymbols,cD=Object.getPrototypeOf,uD=globalThis,lD=uD.trustedTypes,dD=lD?lD.emptyScript:"",fD=uD.reactiveElementPolyfillSupport,pD=function(e,t){return e},hD={toAttribute:function(e,t){switch(t){case Boolean:e=e?dD:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){var n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(r){n=null}}return n}},vD=function(e,t){return!rD(e,t)},gD={attribute:!0,type:String,converter:hD,reflect:!1,useDefault:!1,hasChanged:vD};null!==(ak=Symbol.metadata)&&void 0!==ak||(Symbol.metadata=Symbol("metadata")),null!==(sk=uD.litPropertyMetadata)&&void 0!==sk||(uD.litPropertyMetadata=new WeakMap);var wD=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this))._$Ep=void 0,e.isUpdatePending=!1,e.hasUpdated=!1,e._$Em=null,e._$Ev(),e}return(0,_.Z)(n,[{key:"_$Ev",value:function(){var e,t=this;this._$ES=new Promise((function(e){return t.enableUpdating=e})),this._$AL=new Map,this._$E_(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((function(e){return e(t)}))}},{key:"addController",value:function(e){var t,n;(null!==(t=this._$EO)&&void 0!==t?t:this._$EO=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}},{key:"removeController",value:function(e){var t;null===(t=this._$EO)||void 0===t||t.delete(e)}},{key:"_$E_",value:function(){var e,t=new Map,n=this.constructor.elementProperties,r=(0,R.Z)(n.keys());try{for(r.s();!(e=r.n()).done;){var i=e.value;this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i])}}catch(o){r.e(o)}finally{r.f()}t.size>0&&(this._$Ep=t)}},{key:"createRenderRoot",value:function(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return function(e,t){if(Yj)e.adoptedStyleSheets=t.map((function(e){return e instanceof CSSStyleSheet?e:e.styleSheet}));else{var n,r=(0,R.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=document.createElement("style"),a=$j.litNonce;void 0!==a&&o.setAttribute("nonce",a),o.textContent=i.cssText,e.appendChild(o)}}catch(s){r.e(s)}finally{r.f()}}}(t,this.constructor.elementStyles),t}},{key:"connectedCallback",value:function(){var e,t;null!==(e=this.renderRoot)&&void 0!==e||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$EO)||void 0===t||t.forEach((function(e){var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}},{key:"enableUpdating",value:function(e){}},{key:"disconnectedCallback",value:function(){var e;null===(e=this._$EO)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}},{key:"attributeChangedCallback",value:function(e,t,n){this._$AK(e,n)}},{key:"_$ET",value:function(e,t){var n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(void 0!==r&&!0===n.reflect){var i,o=(void 0!==(null===(i=n.converter)||void 0===i?void 0:i.toAttribute)?n.converter:hD).toAttribute(t,n.type);this._$Em=e,null==o?this.removeAttribute(r):this.setAttribute(r,o),this._$Em=null}}},{key:"_$AK",value:function(e,t){var n=this.constructor,r=n._$Eh.get(e);if(void 0!==r&&this._$Em!==r){var i,o,a,s,c=n.getPropertyOptions(r),u="function"==typeof c.converter?{fromAttribute:c.converter}:void 0!==(null===(i=c.converter)||void 0===i?void 0:i.fromAttribute)?c.converter:hD;this._$Em=r,this[r]=null!==(o=null!==(a=u.fromAttribute(t,c.type))&&void 0!==a?a:null===(s=this._$Ej)||void 0===s?void 0:s.get(r))&&void 0!==o?o:null,this._$Em=null}}},{key:"requestUpdate",value:function(e,t,n){if(void 0!==e){var r,i,o,a=this.constructor,s=this[e];if(null!==(r=n)&&void 0!==r||(n=a.getPropertyOptions(e)),!((null!==(i=n.hasChanged)&&void 0!==i?i:vD)(s,t)||n.useDefault&&n.reflect&&s===(null===(o=this._$Ej)||void 0===o?void 0:o.get(e))&&!this.hasAttribute(a._$Eu(e,n))))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}},{key:"C",value:function(e,t,n,r){var i,o,a,s=n.useDefault,c=n.reflect,u=n.wrapped;s&&!(null!==(i=this._$Ej)&&void 0!==i?i:this._$Ej=new Map).has(e)&&(this._$Ej.set(e,null!==(o=null!==r&&void 0!==r?r:t)&&void 0!==o?o:this[e]),!0!==u||void 0!==r)||(this._$AL.has(e)||(this.hasUpdated||s||(t=void 0),this._$AL.set(e,t)),!0===c&&this._$Em!==e&&(null!==(a=this._$Eq)&&void 0!==a?a:this._$Eq=new Set).add(e))}},{key:"_$EP",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isUpdatePending=!0,e.prev=1,e.next=4,this._$ES;case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Promise.reject(e.t0);case 9:if(t=this.scheduleUpdate(),e.t1=null!=t,!e.t1){e.next=14;break}return e.next=14,t;case 14:return e.abrupt("return",!this.isUpdatePending);case 15:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){if(this.isUpdatePending){if(!this.hasUpdated){var e;if(null!==(e=this.renderRoot)&&void 0!==e||(this.renderRoot=this.createRenderRoot()),this._$Ep){var t,n=(0,R.Z)(this._$Ep);try{for(n.s();!(t=n.n()).done;){var r=(0,S.Z)(t.value,2),i=r[0],o=r[1];this[i]=o}}catch(w){n.e(w)}finally{n.f()}this._$Ep=void 0}var a=this.constructor.elementProperties;if(a.size>0){var s,c=(0,R.Z)(a);try{for(c.s();!(s=c.n()).done;){var u=(0,S.Z)(s.value,2),l=u[0],d=u[1],f=d.wrapped,p=this[l];!0!==f||this._$AL.has(l)||void 0===p||this.C(l,void 0,d,p)}}catch(w){c.e(w)}finally{c.f()}}}var h=!1,v=this._$AL;try{var g;(h=this.shouldUpdate(v))?(this.willUpdate(v),null!==(g=this._$EO)&&void 0!==g&&g.forEach((function(e){var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(v)):this._$EM()}catch(a){throw h=!1,this._$EM(),a}h&&this._$AE(v)}}},{key:"willUpdate",value:function(e){}},{key:"_$AE",value:function(e){var t;null!==(t=this._$EO)&&void 0!==t&&t.forEach((function(e){var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}},{key:"_$EM",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$ES}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var t=this;this._$Eq&&(this._$Eq=this._$Eq.forEach((function(e){return t._$ET(e,t[e])}))),this._$EM()}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}}],[{key:"addInitializer",value:function(e){var t;this._$Ei(),(null!==(t=this.l)&&void 0!==t?t:this.l=[]).push(e)}},{key:"observedAttributes",get:function(){return this.finalize(),this._$Eh&&(0,N.Z)(this._$Eh.keys())}},{key:"createProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gD;if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){var n=Symbol(),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&iD(this.prototype,e,r)}}},{key:"getPropertyDescriptor",value:function(e,t,n){var r,i=null!==(r=oD(this.prototype,e))&&void 0!==r?r:{get:function(){return this[t]},set:function(e){this[t]=e}},o=i.get,a=i.set;return{get:o,set:function(t){var r=null===o||void 0===o?void 0:o.call(this);null!==a&&void 0!==a&&a.call(this,t),this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){var t;return null!==(t=this.elementProperties.get(e))&&void 0!==t?t:gD}},{key:"_$Ei",value:function(){if(!this.hasOwnProperty(pD("elementProperties"))){var e=cD(this);e.finalize(),void 0!==e.l&&(this.l=(0,N.Z)(e.l)),this.elementProperties=new Map(e.elementProperties)}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(pD("finalized"))){if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(pD("properties"))){var e,t=this.properties,n=[].concat((0,N.Z)(aD(t)),(0,N.Z)(sD(t))),r=(0,R.Z)(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;this.createProperty(i,t[i])}}catch(m){r.e(m)}finally{r.f()}}var o=this[Symbol.metadata];if(null!==o){var a=litPropertyMetadata.get(o);if(void 0!==a){var s,c=(0,R.Z)(a);try{for(c.s();!(s=c.n()).done;){var u=(0,S.Z)(s.value,2),l=u[0],d=u[1];this.elementProperties.set(l,d)}}catch(m){c.e(m)}finally{c.f()}}}this._$Eh=new Map;var f,p=(0,R.Z)(this.elementProperties);try{for(p.s();!(f=p.n()).done;){var h=(0,S.Z)(f.value,2),v=h[0],g=h[1],w=this._$Eu(v,g);void 0!==w&&this._$Eh.set(w,v)}}catch(m){p.e(m)}finally{p.f()}this.elementStyles=this.finalizeStyles(this.styles)}}},{key:"finalizeStyles",value:function(e){var t=[];if(Array.isArray(e)){var n,r=new Set(e.flat(1/0).reverse()),i=(0,R.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.unshift(nD(o))}}catch(a){i.e(a)}finally{i.f()}}else void 0!==e&&t.push(nD(e));return t}},{key:"_$Eu",value:function(e,t){var n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}}]),n}((0,C.Z)(HTMLElement));wD.elementStyles=[],wD.shadowRootOptions={mode:"open"},wD[pD("elementProperties")]=new Map,wD[pD("finalized")]=new Map,null!==fD&&void 0!==fD&&fD({ReactiveElement:wD}),(null!==(ck=uD.reactiveElementVersions)&&void 0!==ck?ck:uD.reactiveElementVersions=[]).push("2.1.0");var mD=globalThis,bD=mD.trustedTypes,yD=bD?bD.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,xD="$lit$",kD="lit$".concat(Math.random().toFixed(9).slice(2),"$"),ZD="?"+kD,CD="<".concat(ZD,">"),ED=document,ID=function(){return ED.createComment("")},SD=function(e){return null===e||"object"!=typeof e&&"function"!=typeof e},AD=Array.isArray,PD=function(e){return AD(e)||"function"==typeof(null===e||void 0===e?void 0:e[Symbol.iterator])},OD="[ \t\n\f\r]",_D=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ND=/-->/g,TD=/>/g,RD=RegExp(">|".concat(OD,"(?:([^\\s\"'>=/]+)(").concat(OD,"*=").concat(OD,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),LD=/'/g,BD=/"/g,UD=/^(?:script|style|textarea|title)$/i,MD=function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return{_$litType$:e,strings:t,values:r}}},jD=MD(1),DD=MD(2),zD=Symbol.for("lit-noChange"),qD=Symbol.for("lit-nothing"),HD=new WeakMap,WD=ED.createTreeWalker(ED,129);function FD(e,t){if(!AD(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==yD?yD.createHTML(t):t}var VD=function(){function e(t,n){var r,i=t.strings,o=t._$litType$;(0,O.Z)(this,e),this.parts=[];var a=0,s=0,c=i.length-1,u=this.parts,l=function(e,t){for(var n,r=e.length-1,i=[],o=2===t?"<svg>":3===t?"<math>":"",a=_D,s=0;s<r;s++){for(var c=e[s],u=void 0,l=void 0,d=-1,f=0;f<c.length&&(a.lastIndex=f,null!==(l=a.exec(c)));){var p;f=a.lastIndex,a===_D?"!--"===l[1]?a=ND:void 0!==l[1]?a=TD:void 0!==l[2]?(UD.test(l[2])&&(n=RegExp("</"+l[2],"g")),a=RD):void 0!==l[3]&&(a=RD):a===RD?">"===l[0]?(a=null!==(p=n)&&void 0!==p?p:_D,d=-1):void 0===l[1]?d=-2:(d=a.lastIndex-l[2].length,u=l[1],a=void 0===l[3]?RD:'"'===l[3]?BD:LD):a===BD||a===LD?a=RD:a===ND||a===TD?a=_D:(a=RD,n=void 0)}var h=a===RD&&e[s+1].startsWith("/>")?" ":"";o+=a===_D?c+CD:d>=0?(i.push(u),c.slice(0,d)+xD+c.slice(d)+kD+h):c+kD+(-2===d?s:h)}return[FD(e,o+(e[r]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),i]}(i,o),d=(0,S.Z)(l,2),f=d[0],p=d[1];if(this.el=e.createElement(f,n),WD.currentNode=this.el.content,2===o||3===o){var h=this.el.content.firstChild;h.replaceWith.apply(h,(0,N.Z)(h.childNodes))}for(;null!==(r=WD.nextNode())&&u.length<c;){if(1===r.nodeType){if(r.hasAttributes()){var v,g=(0,R.Z)(r.getAttributeNames());try{for(g.s();!(v=g.n()).done;){var w=v.value;if(w.endsWith(xD)){var m=p[s++],b=r.getAttribute(w).split(kD),y=/([.?@])?(.*)/.exec(m);u.push({type:1,index:a,name:y[2],strings:b,ctor:"."===y[1]?JD:"?"===y[1]?XD:"@"===y[1]?QD:YD}),r.removeAttribute(w)}else w.startsWith(kD)&&(u.push({type:6,index:a}),r.removeAttribute(w))}}catch(E){g.e(E)}finally{g.f()}}if(UD.test(r.tagName)){var x=r.textContent.split(kD),k=x.length-1;if(k>0){r.textContent=bD?bD.emptyScript:"";for(var Z=0;Z<k;Z++)r.append(x[Z],ID()),WD.nextNode(),u.push({type:2,index:++a});r.append(x[k],ID())}}}else if(8===r.nodeType)if(r.data===ZD)u.push({type:2,index:a});else for(var C=-1;-1!==(C=r.data.indexOf(kD,C+1));)u.push({type:7,index:a}),C+=kD.length-1;a++}}return(0,_.Z)(e,null,[{key:"createElement",value:function(e,t){var n=ED.createElement("template");return n.innerHTML=e,n}}]),e}();function KD(e,t){var n,r,i,o,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,c=arguments.length>3?arguments[3]:void 0;if(t===zD)return t;var u=void 0!==c?null===(n=s._$Co)||void 0===n?void 0:n[c]:s._$Cl,l=SD(t)?void 0:t._$litDirective$;return(null===(r=u)||void 0===r?void 0:r.constructor)!==l&&(null!==(i=u)&&void 0!==i&&null!==(o=i._$AO)&&void 0!==o&&o.call(i,!1),void 0===l?u=void 0:(u=new l(e))._$AT(e,s,c),void 0!==c?(null!==(a=s._$Co)&&void 0!==a?a:s._$Co=[])[c]=u:s._$Cl=u),void 0!==u&&(t=KD(e,u._$AS(e,t.values),u,c)),t}var GD=function(){function e(t,n){(0,O.Z)(this,e),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}return(0,_.Z)(e,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,n=this._$AD,r=n.el.content,i=n.parts,o=(null!==(t=null===e||void 0===e?void 0:e.creationScope)&&void 0!==t?t:ED).importNode(r,!0);WD.currentNode=o;for(var a=WD.nextNode(),s=0,c=0,u=i[0];void 0!==u;){var l;if(s===u.index){var d=void 0;2===u.type?d=new $D(a,a.nextSibling,this,e):1===u.type?d=new u.ctor(a,u.name,u.strings,this,e):6===u.type&&(d=new ez(a,this,e)),this._$AV.push(d),u=i[++c]}s!==(null===(l=u)||void 0===l?void 0:l.index)&&(a=WD.nextNode(),s++)}return WD.currentNode=ED,o}},{key:"p",value:function(e){var t,n=0,r=(0,R.Z)(this._$AV);try{for(r.s();!(t=r.n()).done;){var i=t.value;void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,n),n+=i.strings.length-2):i._$AI(e[n])),n++}}catch(o){r.e(o)}finally{r.f()}}}]),e}(),$D=function(){function e(t,n,r,i){var o;(0,O.Z)(this,e),this.type=2,this._$AH=qD,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=null===(o=null===i||void 0===i?void 0:i.isConnected)||void 0===o||o}return(0,_.Z)(e,[{key:"_$AU",get:function(){var e,t;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cv}},{key:"parentNode",get:function(){var e,t=this._$AA.parentNode,n=this._$AM;return void 0!==n&&11===(null===(e=t)||void 0===e?void 0:e.nodeType)&&(t=n.parentNode),t}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e=KD(this,e,t),SD(e)?e===qD||null==e||""===e?(this._$AH!==qD&&this._$AR(),this._$AH=qD):e!==this._$AH&&e!==zD&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):PD(e)?this.k(e):this._(e)}},{key:"O",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"_",value:function(e){this._$AH!==qD&&SD(this._$AH)?this._$AA.nextSibling.data=e:this.T(ED.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var t,n=e.values,r=e._$litType$,i="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=VD.createElement(FD(r.h,r.h[0]),this.options)),r);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===i)this._$AH.p(n);else{var o=new GD(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}},{key:"_$AC",value:function(e){var t=HD.get(e.strings);return void 0===t&&HD.set(e.strings,t=new VD(e)),t}},{key:"k",value:function(t){AD(this._$AH)||(this._$AH=[],this._$AR());var n,r,i=this._$AH,o=0,a=(0,R.Z)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;o===i.length?i.push(n=new e(this.O(ID()),this.O(ID()),this,this.options)):n=i[o],n._$AI(s),o++}}catch(c){a.e(c)}finally{a.f()}o<i.length&&(this._$AR(n&&n._$AB.nextSibling,o),i.length=o)}},{key:"_$AR",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e&&e!==this._$AB;){var n,r=e.nextSibling;e.remove(),e=r}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$Cv=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}]),e}(),YD=function(){function e(t,n,r,i,o){(0,O.Z)(this,e),this.type=1,this._$AH=qD,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=o,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=qD}return(0,_.Z)(e,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=this.strings,o=!1;if(void 0===i)e=KD(this,e,t,0),(o=!SD(e)||e!==this._$AH&&e!==zD)&&(this._$AH=e);else{var a,s,c=e;for(e=i[0],a=0;a<i.length-1;a++){var u;(s=KD(this,c[n+a],t,a))===zD&&(s=this._$AH[a]),o||(o=!SD(s)||s!==this._$AH[a]),s===qD?e=qD:e!==qD&&(e+=(null!==(u=s)&&void 0!==u?u:"")+i[a+1]),this._$AH[a]=s}}o&&!r&&this.j(e)}},{key:"j",value:function(e){e===qD?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!==e&&void 0!==e?e:"")}}]),e}(),JD=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).type=3,e}return(0,_.Z)(n,[{key:"j",value:function(e){this.element[this.name]=e===qD?void 0:e}}]),n}(YD),XD=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).type=4,e}return(0,_.Z)(n,[{key:"j",value:function(e){this.element.toggleAttribute(this.name,!!e&&e!==qD)}}]),n}(YD),QD=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e,r,i,o,a){var s;return(0,O.Z)(this,n),(s=t.call(this,e,r,i,o,a)).type=5,s}return(0,_.Z)(n,[{key:"_$AI",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((e=null!==(t=KD(this,e,n,0))&&void 0!==t?t:qD)!==zD){var r=this._$AH,i=e===qD&&r!==qD||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==qD&&(r===qD||i);i&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}}},{key:"handleEvent",value:function(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(n=this.options)||void 0===n?void 0:n.host)&&void 0!==t?t:this.element,e):this._$AH.handleEvent(e)}}]),n}(YD),ez=function(){function e(t,n,r){(0,O.Z)(this,e),this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}return(0,_.Z)(e,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){KD(this,e)}}]),e}(),tz=mD.litHtmlPolyfillSupport;null!==tz&&void 0!==tz&&tz(VD,$D),(null!==(uk=mD.litHtmlVersions)&&void 0!==uk?uk:mD.litHtmlVersions=[]).push("3.3.0");var nz=globalThis,rz=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).renderOptions={host:(0,x.Z)(e)},e._$Do=void 0,e}return(0,_.Z)(n,[{key:"createRenderRoot",value:function(){var e,t,r=(0,m.Z)((0,b.Z)(n.prototype),"createRenderRoot",this).call(this);return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=r.firstChild),r}},{key:"update",value:function(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),(0,m.Z)((0,b.Z)(n.prototype),"update",this).call(this,e),this._$Do=function(e,t,n){var r,i=null!==(r=null===n||void 0===n?void 0:n.renderBefore)&&void 0!==r?r:t,o=i._$litPart$;if(void 0===o){var a,s=null!==(a=null===n||void 0===n?void 0:n.renderBefore)&&void 0!==a?a:null;i._$litPart$=o=new $D(t.insertBefore(ID(),s),s,void 0,null!==n&&void 0!==n?n:{})}return o._$AI(e),o}(t,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var e;(0,m.Z)((0,b.Z)(n.prototype),"connectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var e;(0,m.Z)((0,b.Z)(n.prototype),"disconnectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}},{key:"render",value:function(){return zD}}]),n}(wD);rz._$litElement$=!0,rz.finalized=!0,null===(lk=nz.litElementHydrateSupport)||void 0===lk||lk.call(nz,{LitElement:rz});var iz,oz,az,sz=nz.litElementPolyfillSupport;function cz(e){oz&&az&&("light"===e?(oz.removeAttribute("media"),az.media="enabled"):(az.removeAttribute("media"),oz.media="enabled"))}function uz(e){return{core:tD(fk||(fk=w(["\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n      @keyframes w3m-shake {\n        0% {\n          transform: scale(1) rotate(0deg);\n        }\n        20% {\n          transform: scale(1) rotate(-1deg);\n        }\n        40% {\n          transform: scale(1) rotate(1.5deg);\n        }\n        60% {\n          transform: scale(1) rotate(-1.5deg);\n        }\n        80% {\n          transform: scale(1) rotate(1deg);\n        }\n        100% {\n          transform: scale(1) rotate(0deg);\n        }\n      }\n      @keyframes w3m-iframe-fade-out {\n        0% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in {\n        0% {\n          transform: translateY(50px);\n          opacity: 0;\n        }\n        100% {\n          transform: translateY(0px);\n          opacity: 1;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in-mobile {\n        0% {\n          transform: scale(0.95);\n          opacity: 0;\n        }\n        100% {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n      :root {\n        --w3m-modal-width: 360px;\n        --w3m-color-mix-strength: ",";\n        --w3m-font-family: ",";\n        --w3m-font-size-master: ",";\n        --w3m-border-radius-master: ",";\n        --w3m-z-index: ",";\n\n        --wui-font-family: var(--w3m-font-family);\n\n        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);\n        --wui-font-size-micro: var(--w3m-font-size-master);\n        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);\n        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);\n        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);\n        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);\n        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);\n        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);\n        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);\n        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);\n\n        --wui-border-radius-5xs: var(--w3m-border-radius-master);\n        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);\n        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);\n        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);\n        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);\n        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);\n        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);\n        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);\n        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);\n\n        --wui-font-weight-light: 400;\n        --wui-font-weight-regular: 500;\n        --wui-font-weight-medium: 600;\n        --wui-font-weight-bold: 700;\n\n        --wui-letter-spacing-2xl: -1.6px;\n        --wui-letter-spacing-medium-title: -0.96px;\n        --wui-letter-spacing-title-6: -0.88px;\n        --wui-letter-spacing-large: -0.8px;\n        --wui-letter-spacing-medium: -0.72px;\n        --wui-letter-spacing-paragraph: -0.64px;\n        --wui-letter-spacing-small: -0.56px;\n        --wui-letter-spacing-tiny: -0.48px;\n        --wui-letter-spacing-micro: -0.2px;\n        --wui-letter-spacing-mini: -0.16px;\n\n        --wui-spacing-0: 0px;\n        --wui-spacing-4xs: 2px;\n        --wui-spacing-3xs: 4px;\n        --wui-spacing-xxs: 6px;\n        --wui-spacing-2xs: 7px;\n        --wui-spacing-xs: 8px;\n        --wui-spacing-1xs: 10px;\n        --wui-spacing-s: 12px;\n        --wui-spacing-m: 14px;\n        --wui-spacing-l: 16px;\n        --wui-spacing-2l: 18px;\n        --wui-spacing-xl: 20px;\n        --wui-spacing-xxl: 24px;\n        --wui-spacing-2xl: 32px;\n        --wui-spacing-3xl: 40px;\n        --wui-spacing-4xl: 90px;\n        --wui-spacing-5xl: 95px;\n\n        --wui-icon-box-size-xxs: 14px;\n        --wui-icon-box-size-xs: 20px;\n        --wui-icon-box-size-sm: 24px;\n        --wui-icon-box-size-md: 32px;\n        --wui-icon-box-size-mdl: 36px;\n        --wui-icon-box-size-lg: 40px;\n        --wui-icon-box-size-2lg: 48px;\n        --wui-icon-box-size-xl: 64px;\n\n        --wui-icon-size-inherit: inherit;\n        --wui-icon-size-xxs: 10px;\n        --wui-icon-size-xs: 12px;\n        --wui-icon-size-sm: 14px;\n        --wui-icon-size-md: 16px;\n        --wui-icon-size-mdl: 18px;\n        --wui-icon-size-lg: 20px;\n        --wui-icon-size-xl: 24px;\n        --wui-icon-size-xxl: 28px;\n\n        --wui-wallet-image-size-inherit: inherit;\n        --wui-wallet-image-size-sm: 40px;\n        --wui-wallet-image-size-md: 56px;\n        --wui-wallet-image-size-lg: 80px;\n\n        --wui-visual-size-size-inherit: inherit;\n        --wui-visual-size-sm: 40px;\n        --wui-visual-size-md: 55px;\n        --wui-visual-size-lg: 80px;\n\n        --wui-box-size-md: 100px;\n        --wui-box-size-lg: 120px;\n\n        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);\n        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);\n\n        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);\n        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);\n        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);\n\n        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);\n\n        --wui-duration-lg: 200ms;\n        --wui-duration-md: 125ms;\n        --wui-duration-sm: 75ms;\n\n        --wui-path-network-sm: path(\n          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'\n        );\n\n        --wui-path-network-md: path(\n          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'\n        );\n\n        --wui-path-network-lg: path(\n          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'\n        );\n\n        --wui-width-network-sm: 36px;\n        --wui-width-network-md: 48px;\n        --wui-width-network-lg: 86px;\n\n        --wui-height-network-sm: 40px;\n        --wui-height-network-md: 54px;\n        --wui-height-network-lg: 96px;\n\n        --wui-icon-size-network-xs: 12px;\n        --wui-icon-size-network-sm: 16px;\n        --wui-icon-size-network-md: 24px;\n        --wui-icon-size-network-lg: 42px;\n\n        --wui-color-inherit: inherit;\n\n        --wui-color-inverse-100: #fff;\n        --wui-color-inverse-000: #000;\n\n        --wui-cover: rgba(20, 20, 20, 0.8);\n\n        --wui-color-modal-bg: var(--wui-color-modal-bg-base);\n\n        --wui-color-accent-100: var(--wui-color-accent-base-100);\n        --wui-color-accent-090: var(--wui-color-accent-base-090);\n        --wui-color-accent-080: var(--wui-color-accent-base-080);\n\n        --wui-color-success-100: var(--wui-color-success-base-100);\n        --wui-color-success-125: var(--wui-color-success-base-125);\n\n        --wui-color-warning-100: var(--wui-color-warning-base-100);\n\n        --wui-color-error-100: var(--wui-color-error-base-100);\n        --wui-color-error-125: var(--wui-color-error-base-125);\n\n        --wui-color-blue-100: var(--wui-color-blue-base-100);\n        --wui-color-blue-90: var(--wui-color-blue-base-90);\n\n        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);\n        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);\n        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);\n        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);\n\n        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);\n\n        --wui-avatar-border: var(--wui-avatar-border-base);\n\n        --wui-thumbnail-border: var(--wui-thumbnail-border-base);\n\n        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);\n\n        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);\n      }\n\n      @supports (background: color-mix(in srgb, white 50%, black)) {\n        :root {\n          --wui-color-modal-bg: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-modal-bg-base)\n          );\n\n          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);\n\n          --wui-color-accent-100: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 100%,\n            transparent\n          );\n          --wui-color-accent-090: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 90%,\n            transparent\n          );\n          --wui-color-accent-080: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 80%,\n            transparent\n          );\n          --wui-color-accent-glass-090: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 90%,\n            transparent\n          );\n          --wui-color-accent-glass-080: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 80%,\n            transparent\n          );\n          --wui-color-accent-glass-020: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 20%,\n            transparent\n          );\n          --wui-color-accent-glass-015: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 15%,\n            transparent\n          );\n          --wui-color-accent-glass-010: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 10%,\n            transparent\n          );\n          --wui-color-accent-glass-005: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 5%,\n            transparent\n          );\n          --wui-color-accent-002: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 2%,\n            transparent\n          );\n\n          --wui-color-fg-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-100)\n          );\n          --wui-color-fg-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-125)\n          );\n          --wui-color-fg-150: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-150)\n          );\n          --wui-color-fg-175: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-175)\n          );\n          --wui-color-fg-200: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-200)\n          );\n          --wui-color-fg-225: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-225)\n          );\n          --wui-color-fg-250: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-250)\n          );\n          --wui-color-fg-275: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-275)\n          );\n          --wui-color-fg-300: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-300)\n          );\n          --wui-color-fg-325: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-325)\n          );\n          --wui-color-fg-350: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-350)\n          );\n\n          --wui-color-bg-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-100)\n          );\n          --wui-color-bg-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-125)\n          );\n          --wui-color-bg-150: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-150)\n          );\n          --wui-color-bg-175: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-175)\n          );\n          --wui-color-bg-200: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-200)\n          );\n          --wui-color-bg-225: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-225)\n          );\n          --wui-color-bg-250: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-250)\n          );\n          --wui-color-bg-275: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-275)\n          );\n          --wui-color-bg-300: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-300)\n          );\n          --wui-color-bg-325: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-325)\n          );\n          --wui-color-bg-350: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-350)\n          );\n\n          --wui-color-success-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-success-base-100)\n          );\n          --wui-color-success-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-success-base-125)\n          );\n\n          --wui-color-warning-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-warning-base-100)\n          );\n\n          --wui-color-error-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-error-base-100)\n          );\n          --wui-color-blue-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-blue-base-100)\n          );\n          --wui-color-blue-90: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-blue-base-90)\n          );\n          --wui-color-error-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-error-base-125)\n          );\n\n          --wui-icon-box-bg-error-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-error-base-100)\n          );\n          --wui-icon-box-bg-accent-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-blue-base-100)\n          );\n          --wui-icon-box-bg-success-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-success-base-100)\n          );\n          --wui-icon-box-bg-inverse-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-inverse-base-100)\n          );\n\n          --wui-all-wallets-bg-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-all-wallets-bg-100)\n          );\n\n          --wui-avatar-border: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-avatar-border-base)\n          );\n\n          --wui-thumbnail-border: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-thumbnail-border-base)\n          );\n\n          --wui-wallet-button-bg: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-wallet-button-bg-base)\n          );\n        }\n      }\n    "])),eD(null!==e&&void 0!==e&&e["--w3m-color-mix-strength"]?"".concat(e["--w3m-color-mix-strength"],"%"):"0%"),eD((null===e||void 0===e?void 0:e["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;"),eD((null===e||void 0===e?void 0:e["--w3m-font-size-master"])||"10px"),eD((null===e||void 0===e?void 0:e["--w3m-border-radius-master"])||"4px"),eD((null===e||void 0===e?void 0:e["--w3m-z-index"])||999)),light:tD(pk||(pk=w(["\n      :root {\n        --w3m-color-mix: ",";\n        --w3m-accent: ",";\n        --w3m-default: #fff;\n\n        --wui-color-modal-bg-base: ",";\n        --wui-color-accent-base-100: var(--w3m-accent);\n\n        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);\n        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);\n        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);\n        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);\n\n        --wui-color-fg-100: #e4e7e7;\n        --wui-color-fg-125: #d0d5d5;\n        --wui-color-fg-150: #a8b1b1;\n        --wui-color-fg-175: #a8b0b0;\n        --wui-color-fg-200: #949e9e;\n        --wui-color-fg-225: #868f8f;\n        --wui-color-fg-250: #788080;\n        --wui-color-fg-275: #788181;\n        --wui-color-fg-300: #6e7777;\n        --wui-color-fg-325: #9a9a9a;\n        --wui-color-fg-350: #363636;\n\n        --wui-color-bg-100: #141414;\n        --wui-color-bg-125: #191a1a;\n        --wui-color-bg-150: #1e1f1f;\n        --wui-color-bg-175: #222525;\n        --wui-color-bg-200: #272a2a;\n        --wui-color-bg-225: #2c3030;\n        --wui-color-bg-250: #313535;\n        --wui-color-bg-275: #363b3b;\n        --wui-color-bg-300: #3b4040;\n        --wui-color-bg-325: #252525;\n        --wui-color-bg-350: #ffffff;\n\n        --wui-color-success-base-100: #26d962;\n        --wui-color-success-base-125: #30a46b;\n\n        --wui-color-warning-base-100: #f3a13f;\n\n        --wui-color-error-base-100: #f25a67;\n        --wui-color-error-base-125: #df4a34;\n\n        --wui-color-blue-base-100: rgba(102, 125, 255, 1);\n        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);\n\n        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);\n        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);\n        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);\n        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);\n        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);\n        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);\n        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);\n        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);\n        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);\n        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);\n\n        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);\n\n        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);\n\n        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);\n        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);\n        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);\n        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);\n        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);\n        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);\n        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);\n        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);\n        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);\n        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);\n\n        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);\n\n        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);\n        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);\n        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);\n        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);\n        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);\n        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);\n        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);\n        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);\n        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);\n        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);\n        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);\n\n        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);\n\n        --wui-icon-box-bg-error-base-100: #3c2426;\n        --wui-icon-box-bg-blue-base-100: #20303f;\n        --wui-icon-box-bg-success-base-100: #1f3a28;\n        --wui-icon-box-bg-inverse-base-100: #243240;\n\n        --wui-all-wallets-bg-100: #222b35;\n\n        --wui-avatar-border-base: #252525;\n\n        --wui-thumbnail-border-base: #252525;\n\n        --wui-wallet-button-bg-base: var(--wui-color-bg-125);\n\n        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);\n      }\n    "])),eD((null===e||void 0===e?void 0:e["--w3m-color-mix"])||"#fff"),eD(VO(e,"dark")["--w3m-accent"]),eD(VO(e,"dark")["--w3m-background"])),dark:tD(hk||(hk=w(["\n      :root {\n        --w3m-color-mix: ",";\n        --w3m-accent: ",";\n        --w3m-default: #000;\n\n        --wui-color-modal-bg-base: ",";\n        --wui-color-accent-base-100: var(--w3m-accent);\n\n        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);\n        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);\n        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);\n\n        --wui-color-fg-100: #141414;\n        --wui-color-fg-125: #2d3131;\n        --wui-color-fg-150: #474d4d;\n        --wui-color-fg-175: #636d6d;\n        --wui-color-fg-200: #798686;\n        --wui-color-fg-225: #828f8f;\n        --wui-color-fg-250: #8b9797;\n        --wui-color-fg-275: #95a0a0;\n        --wui-color-fg-300: #9ea9a9;\n        --wui-color-fg-325: #9a9a9a;\n        --wui-color-fg-350: #d0d0d0;\n\n        --wui-color-bg-100: #ffffff;\n        --wui-color-bg-125: #f5fafa;\n        --wui-color-bg-150: #f3f8f8;\n        --wui-color-bg-175: #eef4f4;\n        --wui-color-bg-200: #eaf1f1;\n        --wui-color-bg-225: #e5eded;\n        --wui-color-bg-250: #e1e9e9;\n        --wui-color-bg-275: #dce7e7;\n        --wui-color-bg-300: #d8e3e3;\n        --wui-color-bg-325: #f3f3f3;\n        --wui-color-bg-350: #202020;\n\n        --wui-color-success-base-100: #26b562;\n        --wui-color-success-base-125: #30a46b;\n\n        --wui-color-warning-base-100: #f3a13f;\n\n        --wui-color-error-base-100: #f05142;\n        --wui-color-error-base-125: #df4a34;\n\n        --wui-color-blue-base-100: rgba(102, 125, 255, 1);\n        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);\n\n        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);\n        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);\n        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);\n        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);\n        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);\n        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);\n        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);\n        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);\n        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);\n        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);\n\n        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);\n\n        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);\n\n        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);\n        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);\n        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);\n        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);\n        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);\n        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);\n        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);\n        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);\n        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);\n        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);\n\n        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);\n\n        --wui-icon-box-bg-error-base-100: #f4dfdd;\n        --wui-icon-box-bg-blue-base-100: #d9ecfb;\n        --wui-icon-box-bg-success-base-100: #daf0e4;\n        --wui-icon-box-bg-inverse-base-100: #dcecfc;\n\n        --wui-all-wallets-bg-100: #e8f1fa;\n\n        --wui-avatar-border-base: #f3f4f4;\n\n        --wui-thumbnail-border-base: #eaefef;\n\n        --wui-wallet-button-bg-base: var(--wui-color-bg-125);\n\n        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);\n        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);\n        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);\n        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);\n        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);\n        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);\n        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);\n        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);\n        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);\n        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);\n        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);\n\n        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);\n\n        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);\n      }\n    "])),eD((null===e||void 0===e?void 0:e["--w3m-color-mix"])||"#000"),eD(VO(e,"light")["--w3m-accent"]),eD(VO(e,"light")["--w3m-background"]))}}null!==sz&&void 0!==sz&&sz({LitElement:rz}),(null!==(dk=nz.litElementVersions)&&void 0!==dk?dk:nz.litElementVersions=[]).push("4.2.0");var lz=tD(vk||(vk=w(["\n  *,\n  *::after,\n  *::before,\n  :host {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-style: normal;\n    text-rendering: optimizeSpeed;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: transparent;\n    font-family: var(--wui-font-family);\n    backface-visibility: hidden;\n  }\n"]))),dz=tD(gk||(gk=w(["\n  button,\n  a {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    transition:\n      color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      border var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: background-color, color, border, box-shadow, border-radius;\n    outline: none;\n    border: none;\n    column-gap: var(--wui-spacing-3xs);\n    background-color: transparent;\n    text-decoration: none;\n  }\n\n  wui-flex {\n    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius;\n  }\n\n  button:disabled > wui-wallet-image,\n  button:disabled > wui-all-wallets-image,\n  button:disabled > wui-network-image,\n  button:disabled > wui-image,\n  button:disabled > wui-transaction-visual,\n  button:disabled > wui-logo {\n    filter: grayscale(1);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    button:hover:enabled {\n      background-color: var(--wui-color-gray-glass-005);\n    }\n\n    button:active:enabled {\n      background-color: var(--wui-color-gray-glass-010);\n    }\n  }\n\n  button:disabled > wui-icon-box {\n    opacity: 0.5;\n  }\n\n  input {\n    border: none;\n    outline: none;\n    appearance: none;\n  }\n"]))),fz=tD(wk||(wk=w(["\n  .wui-color-inherit {\n    color: var(--wui-color-inherit);\n  }\n\n  .wui-color-accent-100 {\n    color: var(--wui-color-accent-100);\n  }\n\n  .wui-color-error-100 {\n    color: var(--wui-color-error-100);\n  }\n\n  .wui-color-blue-100 {\n    color: var(--wui-color-blue-100);\n  }\n\n  .wui-color-blue-90 {\n    color: var(--wui-color-blue-90);\n  }\n\n  .wui-color-error-125 {\n    color: var(--wui-color-error-125);\n  }\n\n  .wui-color-success-100 {\n    color: var(--wui-color-success-100);\n  }\n\n  .wui-color-success-125 {\n    color: var(--wui-color-success-125);\n  }\n\n  .wui-color-inverse-100 {\n    color: var(--wui-color-inverse-100);\n  }\n\n  .wui-color-inverse-000 {\n    color: var(--wui-color-inverse-000);\n  }\n\n  .wui-color-fg-100 {\n    color: var(--wui-color-fg-100);\n  }\n\n  .wui-color-fg-200 {\n    color: var(--wui-color-fg-200);\n  }\n\n  .wui-color-fg-300 {\n    color: var(--wui-color-fg-300);\n  }\n\n  .wui-color-fg-325 {\n    color: var(--wui-color-fg-325);\n  }\n\n  .wui-color-fg-350 {\n    color: var(--wui-color-fg-350);\n  }\n\n  .wui-bg-color-inherit {\n    background-color: var(--wui-color-inherit);\n  }\n\n  .wui-bg-color-blue-100 {\n    background-color: var(--wui-color-accent-100);\n  }\n\n  .wui-bg-color-error-100 {\n    background-color: var(--wui-color-error-100);\n  }\n\n  .wui-bg-color-error-125 {\n    background-color: var(--wui-color-error-125);\n  }\n\n  .wui-bg-color-success-100 {\n    background-color: var(--wui-color-success-100);\n  }\n\n  .wui-bg-color-success-125 {\n    background-color: var(--wui-color-success-100);\n  }\n\n  .wui-bg-color-inverse-100 {\n    background-color: var(--wui-color-inverse-100);\n  }\n\n  .wui-bg-color-inverse-000 {\n    background-color: var(--wui-color-inverse-000);\n  }\n\n  .wui-bg-color-fg-100 {\n    background-color: var(--wui-color-fg-100);\n  }\n\n  .wui-bg-color-fg-200 {\n    background-color: var(--wui-color-fg-200);\n  }\n\n  .wui-bg-color-fg-300 {\n    background-color: var(--wui-color-fg-300);\n  }\n\n  .wui-color-fg-325 {\n    background-color: var(--wui-color-fg-325);\n  }\n\n  .wui-color-fg-350 {\n    background-color: var(--wui-color-fg-350);\n  }\n"]))),pz=function(e,t){return Array.isArray(e)?e[t]?"var(--wui-spacing-".concat(e[t],")"):void 0:"string"==typeof e?"var(--wui-spacing-".concat(e,")"):void 0},hz=function(e){var t=e.string,n=e.charsStart,r=e.charsEnd,i=e.truncate;return t.length<=n+r?t:"end"===i?"".concat(t.substring(0,n),"..."):"start"===i?"...".concat(t.substring(t.length-r)):"".concat(t.substring(0,Math.floor(n)),"...").concat(t.substring(t.length-Math.floor(r)))},vz=function(e){var t;return e||(typeof window<"u"&&window.matchMedia?null!==(t=window.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?"dark":"light":"dark")};function gz(e){return function(t){return"function"==typeof t?function(e,t){return customElements.get(e)||customElements.define(e,t),t}(e,t):function(e,t){return{kind:t.kind,elements:t.elements,finisher:function(t){customElements.get(e)||customElements.define(e,t)}}}(e,t)}}var wz=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var a=e.length,s=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===s;)r++,n++;for(var o=(e.length-n)*c+1>>>0,u=new Uint8Array(o);n<e.length;){var l=e.charCodeAt(n);if(l>255)return;var d=t[l];if(255===d)return;for(var f=0,p=o-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=a*u[p]>>>0,u[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,n++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var v=new Uint8Array(r+(o-h)),g=r;h!==o;)v[g++]=u[h++];return v}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var d=t[i],f=0,p=c-1;(0!==d||f<r)&&-1!==p;p--,f++)d+=256*l[p]>>>0,l[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var h=c-r;h!==c&&0===l[h];)h++;for(var v=s.repeat(n);h<c;++h)v+=e.charAt(l[h]);return v},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),mz=4902,bz=5e3,yz=32603,xz={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},kz={block:VR({format:function(e){var t;return{transactions:null===(t=e.transactions)||void 0===t?void 0:t.map((function(e){if("string"==typeof e)return e;var t=WR(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?mN(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t})),stateRoot:e.stateRoot}}}),transaction:FR({format:function(e){var t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?mN(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:zL({format:function(e){return{l1GasPrice:e.l1GasPrice?mN(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?mN(e.l1GasUsed):null,l1Fee:e.l1Fee?mN(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function Zz(e,t){return function(e){return"deposit"===e.type||typeof e.sourceHash<"u"}(e)?function(e){!function(e){var t=e.from,n=e.to;if(t&&!BT(t))throw new OT({address:t});if(n&&!BT(n))throw new OT({address:n})}(e);var t=e.sourceHash,n=e.data,r=e.from,i=e.gas,o=e.isSystemTx,a=e.mint,s=e.to,c=e.value;return UT(["0x7e",TR([t,r,null!==s&&void 0!==s?s:"0x",a?xN(a):"0x",c?xN(c):"0x",i?xN(i):"0x",o?"0x1":"0x",null!==n&&void 0!==n?n:"0x"])])}(e):ML(e,t)}var Cz={contracts:xz,formatters:kz,serializers:{transaction:Zz}};(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"1",l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"5",portal:"5",l1StandardBridge:"5"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"11155111",l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})}),LL({id:53456,name:"BirdLayer",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.birdlayer.xyz","https://rpc1.birdlayer.xyz"],webSocket:["wss://rpc.birdlayer.xyz/ws"]}},blockExplorers:{default:{name:"BirdLayer Explorer",url:"https://scan.birdlayer.xyz"}}});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)({},Cz.contracts)});LL((0,I.Z)((0,I.Z)({},Cz),{},{id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:(0,T.Z)({},1,{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}),portal:(0,T.Z)({},1,{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615})}),sourceId:1}));var Ez=11155111;LL((0,I.Z)((0,I.Z)({},Cz),{},{id:808813,name:"BOB Sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://bob-sepolia.rpc.gobob.xyz"],webSocket:["wss://bob-sepolia.rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Sepolia Explorer",url:"https://bob-sepolia.explorer.gobob.xyz"}},contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:35677},l2OutputOracle:(0,T.Z)({},Ez,{address:"0x14D0069452b4AE2b250B395b8adAb771E4267d2f",blockCreated:4462615}),portal:(0,T.Z)({},Ez,{address:"0x867B1Aa872b9C8cB5E9F7755feDC45BB24Ad0ae4",blockCreated:4462615})}),testnet:!0,sourceId:Ez}));var Iz={estimateFeesPerGas:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=t.request)&&void 0!==n&&n.feeCurrency){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Promise.all([Sz(t.client,t.request.feeCurrency),Pz(t.client,t.request.feeCurrency)]);case 4:return r=e.sent,i=(0,S.Z)(r,2),o=i[0],a=i[1],e.abrupt("return",{maxFeePerGas:t.multiply(o-a)+a,maxPriorityFeePerGas:a});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function Sz(e,t){return Az.apply(this,arguments)}function Az(){return Az=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_gasPrice",params:[n]});case 2:return r=e.sent,e.abrupt("return",BigInt(r));case 4:case"end":return e.stop()}}),e)}))),Az.apply(this,arguments)}function Pz(e,t){return Oz.apply(this,arguments)}function Oz(){return Oz=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_maxPriorityFeePerGas",params:[n]});case 2:return r=e.sent,e.abrupt("return",BigInt(r));case 4:case"end":return e.stop()}}),e)}))),Oz.apply(this,arguments)}function _z(e){return 0===e||0n===e||void 0===e||null===e||"0"===e||""===e||"string"==typeof e&&("0x"===gN(e).toLowerCase()||"0x00"===gN(e).toLowerCase())}function Nz(e){return!_z(e)}function Tz(e){return"cip64"===e.type||function(e){return typeof e.maxFeePerGas<"u"&&typeof e.maxPriorityFeePerGas<"u"}(e)&&Nz(e.feeCurrency)}var Rz={block:VR({format:function(e){var t;return(0,I.Z)({transactions:null===(t=e.transactions)||void 0===t?void 0:t.map((function(e){return"string"==typeof e?e:(0,I.Z)((0,I.Z)((0,I.Z)({},WR(e)),e.gatewayFee?{gatewayFee:mN(e.gatewayFee),gatewayFeeRecipient:e.gatewayFeeRecipient}:{}),{},{feeCurrency:e.feeCurrency})}))},e.randomness?{randomness:e.randomness}:{})}}),transaction:FR({format:function(e){if("0x7e"===e.type)return{isSystemTx:e.isSystemTx,mint:e.mint?mN(e.mint):void 0,sourceHash:e.sourceHash,type:"deposit"};var t={feeCurrency:e.feeCurrency};return"0x7b"===e.type?t.type="cip64":("0x7c"===e.type&&(t.type="cip42"),t.gatewayFee=e.gatewayFee?mN(e.gatewayFee):null,t.gatewayFeeRecipient=e.gatewayFeeRecipient),t}}),transactionRequest:zR({format:function(e){var t={};return e.feeCurrency&&(t.feeCurrency=e.feeCurrency),Tz(e)&&(t.type="0x7b"),t}})};var Lz={transaction:function(e,t){return Tz(e)?function(e,t){!function(e){var t=e.chainId,n=e.maxPriorityFeePerGas,r=e.gasPrice,i=e.maxFeePerGas,o=e.to,a=e.feeCurrency;if(t<=0)throw new fL({chainId:t});if(o&&!BT(o))throw new OT({address:o});if(r)throw new sN("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(Nz(i)&&i>Bz)throw new UR({maxFeePerGas:i});if(Nz(n)&&Nz(i)&&n>i)throw new MR({maxFeePerGas:i,maxPriorityFeePerGas:n});if(Nz(a)&&!BT(a))throw new sN("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(_z(a))throw new sN("`feeCurrency` must be provided for CIP-64 transactions.")}(e);var n=e.chainId,r=e.gas,i=e.nonce,o=e.to,a=e.value,s=e.maxFeePerGas,c=e.maxPriorityFeePerGas,u=e.accessList,l=e.feeCurrency,d=e.data;return UT(["0x7b",TR([xN(n),i?xN(i):"0x",c?xN(c):"0x",s?xN(s):"0x",r?xN(r):"0x",null!==o&&void 0!==o?o:"0x",a?xN(a):"0x",null!==d&&void 0!==d?d:"0x",UL(u),l].concat((0,N.Z)(jL(e,t))))])}(e,t):Zz(e,t)}};var Bz=qR;var Uz={contracts:xz,formatters:Rz,serializers:Lz,fees:Iz};(0,I.Z)((0,I.Z)({},Uz),{},{contracts:(0,I.Z)((0,I.Z)({},Uz.contracts),{},{portal:"17000",disputeGameFactory:"17000",l2OutputOracle:"17000",l1StandardBridge:"17000"})}),LL({id:44,name:"Crab Network",nativeCurrency:{decimals:18,name:"Crab Network Native Token",symbol:"CRAB"},rpcUrls:{default:{http:["https://crab-rpc.darwinia.network"],webSocket:["wss://crab-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://crab-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3032593}}}),LL({id:66665,name:"Creator",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.creatorchain.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.creatorchain.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)({},Cz.contracts)}),(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)({},Cz.contracts)}),LL({id:53457,name:"DODOchain Testnet",nativeCurrency:{decimals:18,name:"DODO",symbol:"DODO"},rpcUrls:{default:{http:["https://dodochain-testnet.alt.technology"],webSocket:["wss://dodochain-testnet.alt.technology/ws"]}},blockExplorers:{default:{name:"DODOchain Testnet (Sepolia) Explorer",url:"https://testnet-scan.dodochain.com"}},testnet:!0});(0,I.Z)((0,I.Z)({},Cz.contracts),{},{addressManager:"1",l1CrossDomainMessenger:"1",l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"});(0,I.Z)((0,I.Z)({},Cz.contracts),{},{addressManager:"11155111",l1CrossDomainMessenger:"11155111",l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"17000",portal:"17000",l1StandardBridge:"17000"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)({},Cz.contracts)});LL((0,I.Z)((0,I.Z)({},Cz),{},{id:3397901,network:"funkiSepolia",name:"Funki Sepolia Sandbox",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://funki-testnet.alt.technology"]}},blockExplorers:{default:{name:"Funki Sepolia Sandbox Explorer",url:"https://sepolia-sandbox.funkichain.com/"}},testnet:!0,contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204}}),sourceId:11155111}));var Mz=17e3;LL((0,I.Z)((0,I.Z)({},Cz),{},{name:"Garnet Testnet",testnet:!0,id:17069,sourceId:Mz,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"],webSocket:["wss://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}},contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:(0,T.Z)({},Mz,{address:"0x57ee40586fbE286AfC75E67cb69511A6D9aF5909",blockCreated:1274684}),l2OutputOracle:(0,T.Z)({},Mz,{address:"0xCb8E7AC561b8EF04F2a15865e9fbc0766FEF569B",blockCreated:1274684}),l1StandardBridge:(0,T.Z)({},Mz,{address:"0x09bcDd311FE398F80a78BE37E489f5D440DB95DE",blockCreated:1274684})})}));(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"11155111",portal:"11155111",l1StandardBridge:"11155111"})}),LL({id:701,name:"Koi Network",nativeCurrency:{decimals:18,name:"Koi Network Native Token",symbol:"KRING"},rpcUrls:{default:{http:["https://koi-rpc.darwinia.network"],webSocket:["wss://koi-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://koi-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:180001}},testnet:!0});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})});(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"56",portal:"56",l1StandardBridge:"56"});(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"97",portal:"97",l1StandardBridge:"97"});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"1",l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"5",portal:"5",l1StandardBridge:"5"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"11155111",l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})});var jz=11155111;LL((0,I.Z)((0,I.Z)({},Cz),{},{name:"Pyrope Testnet",testnet:!0,id:695569,sourceId:jz,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.pyropechain.com"],webSocket:["wss://rpc.pyropechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://pyrope.blockscout.com"}},contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l1StandardBridge:(0,T.Z)({},jz,{address:"0xC24932c31D9621aE9e792576152B7ef010cFC2F8"})})}));LL((0,I.Z)((0,I.Z)({},Cz),{},{name:"Redstone",id:690,sourceId:1,nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.redstonechain.com"],webSocket:["wss://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz"}},contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:(0,T.Z)({},1,{address:"0xC7bCb0e8839a28A1cFadd1CF716de9016CdA51ae",blockCreated:19578329}),l2OutputOracle:(0,T.Z)({},1,{address:"0xa426A052f657AEEefc298b3B5c35a470e4739d69",blockCreated:19578337}),l1StandardBridge:(0,T.Z)({},1,{address:"0xc473ca7E02af24c129c2eEf51F2aDf0411c1Df69",blockCreated:19578331})})}));(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)({},Cz.contracts)});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"1",l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"11155111",l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"1",l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"11155111",l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"1",l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{portal:"11155111",l1StandardBridge:"11155111"})}),(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)({},Cz.contracts)}),(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)({},Cz.contracts)});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{portal:"11155111",l1StandardBridge:"11155111",disputeGameFactory:"11155111"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"1",l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{disputeGameFactory:"11155111",l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"1",portal:"1",l1StandardBridge:"1"})});(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{l2OutputOracle:"11155111",portal:"11155111",l1StandardBridge:"11155111"})});function Dz(e){return(0,I.Z)({formatters:void 0,fees:void 0,serializers:void 0},e)}(0,I.Z)((0,I.Z)({},Cz),{},{contracts:(0,I.Z)((0,I.Z)({},Cz.contracts),{},{portal:"5"})});var zz=Dz({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),qz=Dz({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Dz({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),Dz({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),Dz({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});var Hz={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Wz={getMethodsByChainNamespace:function(e){return Hz[e]||[]},createDefaultNamespace:function(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides:function(e,t){var n=this;if(!t)return(0,I.Z)({},e);var r=(0,I.Z)({},e),i=new Set;if(t.methods&&Object.keys(t.methods).forEach((function(e){return i.add(e)})),t.chains&&Object.keys(t.chains).forEach((function(e){return i.add(e)})),t.events&&Object.keys(t.events).forEach((function(e){return i.add(e)})),t.rpcMap&&Object.keys(t.rpcMap).forEach((function(e){var t=e.split(":"),n=(0,S.Z)(t,1)[0];n&&i.add(n)})),i.forEach((function(e){r[e]||(r[e]=n.createDefaultNamespace(e))})),t.methods&&Object.entries(t.methods).forEach((function(e){var t=(0,S.Z)(e,2),n=t[0],i=t[1];r[n]&&(r[n].methods=i)})),t.chains&&Object.entries(t.chains).forEach((function(e){var t=(0,S.Z)(e,2),n=t[0],i=t[1];r[n]&&(r[n].chains=i)})),t.events&&Object.entries(t.events).forEach((function(e){var t=(0,S.Z)(e,2),n=t[0],i=t[1];r[n]&&(r[n].events=i)})),t.rpcMap){var o=new Set;Object.entries(t.rpcMap).forEach((function(e){var t=(0,S.Z)(e,2),n=t[0],i=t[1],a=n.split(":"),s=(0,S.Z)(a,2),c=s[0],u=s[1];!c||!u||!r[c]||(r[c].rpcMap||(r[c].rpcMap={}),o.has(c)||(r[c].rpcMap={},o.add(c)),r[c].rpcMap[u]=i)}))}return r},createNamespaces:function(e,t){var n=this,r=e.reduce((function(e,t){var r=t.id,i=t.chainNamespace,o=t.rpcUrls.default.http[0];e[i]||(e[i]=n.createDefaultNamespace(i));var a="".concat(i,":").concat(r),s=e[i];switch(s.chains.push(a),a){case zz.caipNetworkId:s.chains.push(zz.deprecatedCaipNetworkId);break;case qz.caipNetworkId:s.chains.push(qz.deprecatedCaipNetworkId)}return null!==s&&void 0!==s&&s.rpcMap&&o&&(s.rpcMap[r]=o),e}),{});return this.applyNamespaceOverrides(r,t)},resolveReownName:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BM.resolveName(t);case 2:return r=e.sent,e.abrupt("return",(null===(n=(Object.values(null===r||void 0===r?void 0:r.addresses)||[])[0])||void 0===n?void 0:n.address)||!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getChainsFromNamespaces:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).flatMap((function(e){var t=e.chains||[],n=e.accounts.map((function(e){var t=e.split(":"),n=(0,S.Z)(t,2),r=n[0],i=n[1];return"".concat(r,":").concat(i)}));return Array.from(new Set([].concat((0,N.Z)(t),(0,N.Z)(n))))}))},isSessionEventData:function(e){return"object"==typeof e&&null!==e&&"id"in e&&"topic"in e&&"params"in e&&"object"==typeof e.params&&null!==e.params&&"chainId"in e.params&&"event"in e.params&&"object"==typeof e.params.event&&null!==e.params.event}},Fz=function(){function e(t){var n=t.provider,r=t.namespace;(0,O.Z)(this,e),this.id=ZO.CONNECTOR_ID.WALLET_CONNECT,this.name=JM.ConnectorNamesMap[ZO.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=JM.ConnectorImageIds[ZO.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=xM.getCaipNetworks.bind(xM),this.caipNetworks=this.getCaipNetworks(),this.provider=n,this.chain=r}return(0,_.Z)(e,[{key:"chains",get:function(){return this.getCaipNetworks()}},{key:"connectWalletConnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authenticate();case 2:if(e.sent){e.next=6;break}return t=this.getCaipNetworks(),n=Z_.state.universalProviderConfigOverride,r=Wz.createNamespaces(t,n),e.next=6,this.provider.connect({optionalNamespaces:r});case 6:return e.next=8,this.provider.client.core.crypto.getClientId();case 8:return e.t0=e.sent,e.t1=this.provider.session,e.abrupt("return",{clientId:e.t0,session:e.t1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.disconnect();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.chains.map((function(e){return e.caipNetworkId})),e.abrupt("return",Y_.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:Vz}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vz=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Kz=function(){function e(t){(0,O.Z)(this,e),this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=function(e){return xM.getCaipNetworks(e)},t&&this.construct(t)}return(0,_.Z)(e,[{key:"construct",value:function(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}},{key:"connectors",get:function(){return this.availableConnectors}},{key:"networks",get:function(){return this.getCaipNetworks(this.namespace)}},{key:"setAuthProvider",value:function(e){this.addConnector({id:ZO.CONNECTOR_ID.AUTH,type:"AUTH",name:ZO.CONNECTOR_NAMES.AUTH,provider:e,imageId:JM.ConnectorImageIds[ZO.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}},{key:"addConnector",value:function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.availableConnectors=[].concat(n,(0,N.Z)(this.availableConnectors)).filter((function(t){return!e.has(t.id)&&(e.add(t.id),!0)})),this.emit("connectors",this.availableConnectors)}},{key:"setStatus",value:function(e,t){SM.setStatus(e,t)}},{key:"on",value:function(e,t){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),null===(n=this.eventListeners.get(e))||void 0===n||n.add(t)}},{key:"off",value:function(e,t){var n=this.eventListeners.get(e);n&&n.delete(t)}},{key:"removeAllEventListeners",value:function(){this.eventListeners.forEach((function(e){e.clear()}))}},{key:"emit",value:function(e,t){var n=this.eventListeners.get(e);n&&n.forEach((function(e){return e(t)}))}},{key:"connectWalletConnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWalletConnectConnector().connectWalletConnect();case 2:return e.t0=e.sent.clientId,e.abrupt("return",{clientId:e.t0});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"switchNetwork",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.caipNetwork,r=t.providerType,t.provider){e.next=3;break}return e.abrupt("return");case 3:if(i="provider"in t.provider?t.provider.provider:t.provider,"WALLET_CONNECT"!==r){e.next=7;break}return i.setDefaultChain(n.caipNetworkId),e.abrupt("return");case 7:if(!i||"AUTH"!==r){e.next=15;break}return a=i,s=null===(o=SM.state.preferredAccountTypes)||void 0===o?void 0:o[n.chainNamespace],e.next=11,a.switchNetwork(n.caipNetworkId);case 11:return e.next=13,a.getUser({chainId:n.caipNetworkId,preferredAccountType:s});case 13:c=e.sent,this.emit("switchNetwork",c);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getWalletConnectConnector",value:function(){var e=this.connectors.find((function(e){return e instanceof Fz}));if(!e)throw new Error("WalletConnectConnector not found");return e}}]),e}(),Gz=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"setUniversalProvider",value:function(e){this.addConnector(new Fz({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}},{key:"connect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getWalletConnectConnector().disconnect();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn("UniversalAdapter:disconnect - error",e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.namespace,c=(null===(n=this.provider)||void 0===n||null===(r=n.session)||void 0===r||null===(i=r.namespaces)||void 0===i||null===(o=i[s])||void 0===o||null===(a=o.accounts)||void 0===a?void 0:a.map((function(e){var t=e.split(":");return(0,S.Z)(t,3)[2]})).filter((function(e,t,n){return n.indexOf(e)===t})))||[],e.abrupt("return",Promise.resolve({accounts:c.map((function(e){return d_.createAccount(s,e,"bip122"===s?"payment":"eoa")}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"syncConnectors",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.caipNetwork&&u_.BALANCE_SUPPORTED_CHAINS.includes(null===(n=t.caipNetwork)||void 0===n?void 0:n.chainNamespace)&&(null===(r=t.caipNetwork)||void 0===r||!r.testnet)){e.next=2;break}return e.abrupt("return",{balance:"0.00",symbol:(null===(i=t.caipNetwork)||void 0===i?void 0:i.nativeCurrency.symbol)||""});case 2:if(!SM.state.balanceLoading||t.chainId!==(null===(o=xM.state.activeCaipNetwork)||void 0===o?void 0:o.id)){e.next=4;break}return e.abrupt("return",{balance:SM.state.balance||"0.00",symbol:SM.state.balanceSymbol||""});case 4:return e.next=6,SM.fetchTokenBalance();case 6:return s=e.sent.find((function(e){var n,r;return e.chainId==="".concat(null===(n=t.caipNetwork)||void 0===n?void 0:n.chainNamespace,":").concat(t.chainId)&&e.symbol===(null===(r=t.caipNetwork)||void 0===r?void 0:r.nativeCurrency.symbol)})),e.abrupt("return",{balance:(null===s||void 0===s?void 0:s.quantity.numeric)||"0.00",symbol:(null===s||void 0===s?void 0:s.symbol)||(null===(a=t.caipNetwork)||void 0===a?void 0:a.nativeCurrency.symbol)||""});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.provider,a=t.message,s=t.address,o){e.next=3;break}throw new Error("UniversalAdapter:signMessage - provider is undefined");case 3:if(c="",(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.chainNamespace)!==ZO.CHAIN.SOLANA){e.next=10;break}return e.next=7,o.request({method:"solana_signMessage",params:{message:wz.encode((new TextEncoder).encode(a)),pubkey:s}},null===(r=xM.state.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId);case 7:c=e.sent.signature,e.next=13;break;case 10:return e.next=12,o.request({method:"personal_sign",params:[a,s]},null===(i=xM.state.activeCaipNetwork)||void 0===i?void 0:i.caipNetworkId);case 12:c=e.sent;case 13:return e.abrupt("return",{signature:c});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"estimateGas",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({gas:BigInt(0)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({profileImage:"",profileName:""}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({hash:""}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"walletGetAssets",value:function(e){return Promise.resolve({})}},{key:"writeContract",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({hash:""}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getEnsAddress",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({address:!1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"parseUnits",value:function(){return 0n}},{key:"formatUnits",value:function(){return"0"}},{key:"getCapabilities",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"grantPermissions",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"revokePermissions",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve("0x"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"syncConnection",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switchNetwork",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.caipNetwork,r=this.getWalletConnectConnector(),n.chainNamespace!==ZO.CHAIN.EVM){e.next=18;break}return e.prev=2,e.next=5,null===(i=r.provider)||void 0===i?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:xN(n.id)}]});case 5:e.next=18;break;case 7:if(e.prev=7,e.t0=e.catch(2),e.t0.code!==mz&&e.t0.code!==yz&&e.t0.code!==bz&&(null===e.t0||void 0===e.t0||null===(o=e.t0.data)||void 0===o||null===(a=o.originalError)||void 0===a?void 0:a.code)!==mz){e.next=18;break}return e.prev=10,e.next=13,null===(s=r.provider)||void 0===s?void 0:s.request({method:"wallet_addEthereumChain",params:[{chainId:xN(n.id),rpcUrls:[null===n||void 0===n||null===(c=n.rpcUrls.chainDefault)||void 0===c?void 0:c.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[null===(u=n.blockExplorers)||void 0===u?void 0:u.default.url]}]});case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(10),new Error("Chain is not supported");case 18:r.provider.setDefaultChain(n.caipNetworkId);case 19:case"end":return e.stop()}}),e,this,[[2,7],[10,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getWalletConnectProvider",value:function(){var e;return null===(e=this.connectors.find((function(e){return"WALLET_CONNECT"===e.type})))||void 0===e?void 0:e.provider}}]),n}(Kz),$z=function(){function e(t){var n=this;(0,O.Z)(this,e),this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=function(e,t){if(e){var r,i,o,a,s=null===(r=xM.getNetworkData(e))||void 0===r||null===(i=r.requestedCaipNetworks)||void 0===i?void 0:i.find((function(e){return e.id===t}));return s||((null===(o=xM.getNetworkData(e))||void 0===o?void 0:o.caipNetwork)||(null===(a=xM.getRequestedCaipNetworks(e).filter((function(t){return t.chainNamespace===e})))||void 0===a?void 0:a[0]))}return xM.state.activeCaipNetwork||n.defaultCaipNetwork},this.getCaipNetworkId=function(){var e=n.getCaipNetwork();if(e)return e.id},this.getCaipNetworks=function(e){return xM.getCaipNetworks(e)},this.getActiveChainNamespace=function(){return xM.state.activeChain},this.setRequestedCaipNetworks=function(e,t){xM.setRequestedCaipNetworks(e,t)},this.getApprovedCaipNetworkIds=function(){return xM.getAllApprovedCaipNetworkIds()},this.getCaipAddress=function(e){return xM.state.activeChain!==e&&e?xM.getAccountProp("caipAddress",e):xM.state.activeCaipAddress},this.setClientId=function(e){EM.setClientId(e)},this.getProvider=function(e){return Fj.getProvider(e)},this.getProviderType=function(e){return Fj.getProviderId(e)},this.getPreferredAccountType=function(e){var t;return null===(t=SM.state.preferredAccountTypes)||void 0===t?void 0:t[e]},this.setCaipAddress=function(e,t){SM.setCaipAddress(e,t)},this.setBalance=function(e,t,n){SM.setBalance(e,t,n)},this.setProfileName=function(e,t){SM.setProfileName(e,t)},this.setProfileImage=function(e,t){SM.setProfileImage(e,t)},this.setUser=function(e,t){SM.setUser(e,t),Z_.state.enableEmbedded&&PM.close()},this.resetAccount=function(e){SM.resetAccount(e)},this.setCaipNetwork=function(e){xM.setActiveCaipNetwork(e)},this.setCaipNetworkOfNamespace=function(e,t){xM.setChainNetworkData(t,{caipNetwork:e})},this.setAllAccounts=function(e,t){SM.setAllAccounts(e,t),Z_.setHasMultipleAddresses((null===e||void 0===e?void 0:e.length)>1)},this.setStatus=function(e,t){SM.setStatus(e,t),q_.isConnected()?l_.setConnectionStatus("connected"):l_.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=function(e){return xM.getAccountProp("address",e)},this.setConnectors=function(e){var t=[].concat((0,N.Z)(q_.state.allConnectors),(0,N.Z)(e));q_.setConnectors(t)},this.fetchIdentity=function(e){return EM.fetchIdentity(e)},this.getReownName=function(e){return BM.getNamesForAddress(e)},this.getConnectors=function(){return q_.getConnectors()},this.getConnectorImage=function(e){return y_.getConnectorImage(e)},this.setConnectedWalletInfo=function(e,t){var n=Fj.getProviderId(t),r=e?(0,I.Z)((0,I.Z)({},e),{},{type:n}):void 0;SM.setConnectedWalletInfo(r,t)},this.getIsConnectedState=function(){return!!xM.state.activeCaipAddress},this.addAddressLabel=function(e,t,n){SM.addAddressLabel(e,t,n)},this.removeAddressLabel=function(e,t){SM.removeAddressLabel(e,t)},this.getAddress=function(e){return xM.state.activeChain!==e&&e?xM.getAccountProp("address",e):SM.state.address},this.setApprovedCaipNetworksData=function(e){return xM.setApprovedCaipNetworksData(e)},this.resetNetwork=function(e){xM.resetNetwork(e)},this.addConnector=function(e){q_.addConnector(e)},this.resetWcConnection=function(){eN.resetWcConnection()},this.setAddressExplorerUrl=function(e,t){SM.setAddressExplorerUrl(e,t)},this.setSmartAccountDeployed=function(e,t){SM.setSmartAccountDeployed(e,t)},this.setSmartAccountEnabledNetworks=function(e,t){xM.setSmartAccountEnabledNetworks(e,t)},this.setPreferredAccountType=function(e,t){SM.setPreferredAccountType(e,t)},this.setEIP6963Enabled=function(e){Z_.setEIP6963Enabled(e)},this.handleUnsafeRPCRequest=function(){if(n.isOpen()){if(n.isTransactionStackEmpty())return;n.redirect("ApproveTransaction")}else n.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.initialize(t)}return(0,_.Z)(e,[{key:"getChainNamespacesSet",value:function(e,t){var n=null===e||void 0===e?void 0:e.map((function(e){return e.namespace})).filter((function(e){return!!e}));if(null!==n&&void 0!==n&&n.length)return(0,N.Z)(new Set(n));var r=null===t||void 0===t?void 0:t.map((function(e){return e.chainNamespace}));return(0,N.Z)(new Set(r))}},{key:"initialize",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initControllers(t),e.next=3,this.initChainAdapters();case 3:return e.next=5,this.injectModalUi();case 5:return this.sendInitializeEvent(t),nN.set({initialized:!0}),e.next=9,this.syncExistingConnection();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendInitializeEvent",value:function(e){var t,n=Object.assign({},e);delete n.adapters,delete n.universalProvider,O_.sendEvent({type:"track",event:"INITIALIZE",properties:(0,I.Z)((0,I.Z)({},n),{},{networks:e.networks.map((function(e){return e.id})),siweConfig:{options:(null===(t=e.siweConfig)||void 0===t?void 0:t.options)||{}}})})}},{key:"initControllers",value:function(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}},{key:"initializeThemeController",value:function(e){e.themeMode&&j_.setThemeMode(e.themeMode),e.themeVariables&&j_.setThemeVariables(e.themeVariables)}},{key:"initializeChainController",value:function(e){var t;if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");xM.initialize(null!==(t=e.adapters)&&void 0!==t?t:[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});var n=this.getDefaultNetwork();n&&xM.setActiveCaipNetwork(n)}},{key:"initializeConnectionController",value:function(e){var t;eN.setWcBasic(null!==(t=e.basic)&&void 0!==t&&t)}},{key:"initializeConnectorController",value:function(){q_.initialize(this.chainNamespaces)}},{key:"initializeOptionsController",value:function(e){var t;Z_.setDebug(!1!==e.debug),Z_.setEnableWalletConnect(!1!==e.enableWalletConnect),Z_.setEnableWalletGuide(!1!==e.enableWalletGuide),Z_.setEnableWallets(!1!==e.enableWallets),Z_.setEIP6963Enabled(!1!==e.enableEIP6963),Z_.setEnableNetworkSwitch(!1!==e.enableNetworkSwitch),Z_.setEnableAuthLogger(!1!==e.enableAuthLogger),Z_.setCustomRpcUrls(e.customRpcUrls),Z_.setSdkVersion(e.sdkVersion),Z_.setProjectId(e.projectId),Z_.setEnableEmbedded(e.enableEmbedded),Z_.setAllWallets(e.allWallets),Z_.setIncludeWalletIds(e.includeWalletIds),Z_.setExcludeWalletIds(e.excludeWalletIds),Z_.setFeaturedWalletIds(e.featuredWalletIds),Z_.setTokens(e.tokens),Z_.setTermsConditionsUrl(e.termsConditionsUrl),Z_.setPrivacyPolicyUrl(e.privacyPolicyUrl),Z_.setCustomWallets(e.customWallets),Z_.setFeatures(e.features),Z_.setAllowUnsupportedChain(e.allowUnsupportedChain),Z_.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Z_.setDefaultAccountTypes(e.defaultAccountTypes);var n=l_.getPreferredAccountTypes(),r=(0,I.Z)((0,I.Z)({},Z_.state.defaultAccountTypes),n);SM.setPreferredAccountTypes(r);var i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),Z_.setMetadata(e.metadata),Z_.setDisableAppend(e.disableAppend),Z_.setEnableEmbedded(e.enableEmbedded),Z_.setSIWX(e.siwx),e.projectId){if(null!==(t=e.adapters)&&void 0!==t&&t.find((function(e){return e.namespace===ZO.CHAIN.EVM}))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Z_.setSIWX(e.siweConfig.mapToSIWX())}}else E_.open(QM.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}},{key:"getDefaultMetaData",value:function(){var e,t,n,r;return typeof window<"u"&&typeof document<"u"?{name:(null===(e=document.getElementsByTagName("title"))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.textContent)||"",description:(null===(n=document.querySelector('meta[property="og:description"]'))||void 0===n?void 0:n.content)||"",url:window.location.origin,icons:[(null===(r=document.querySelector('link[rel~="icon"]'))||void 0===r?void 0:r.href)||""]}:null}},{key:"setUnsupportedNetwork",value:function(e){var t=this.getActiveChainNamespace();if(t){var n=qj.getUnsupportedNetwork("".concat(t,":").concat(e));xM.setActiveCaipNetwork(n)}}},{key:"getDefaultNetwork",value:function(){return qj.getCaipNetworkFromStorage(this.defaultCaipNetwork)}},{key:"extendCaipNetwork",value:function(e,t){return qj.extendCaipNetwork(e,{customNetworkImageUrls:t.chainImages,projectId:t.projectId})}},{key:"extendCaipNetworks",value:function(e){return qj.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}},{key:"extendDefaultCaipNetwork",value:function(e){var t=e.networks.find((function(t){var n;return t.id===(null===(n=e.defaultNetwork)||void 0===n?void 0:n.id)}));return t?qj.extendCaipNetwork(t,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}},{key:"createClients",value:function(){var e=this;this.connectionControllerClient={connectWalletConnect:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=xM.state.activeChain,i=e.getAdapter(r),o=null===(n=e.getCaipNetwork(r))||void 0===n?void 0:n.id,i){t.next=3;break}throw new Error("Adapter not found");case 3:return t.next=5,i.connectWalletConnect(o);case 5:return a=t.sent,e.close(),e.setClientId((null===a||void 0===a?void 0:a.clientId)||null),l_.setConnectedNamespaces((0,N.Z)(xM.state.chains.keys())),e.chainNamespaces.forEach((function(e){q_.setConnectorId(GM,e)})),t.next=12,e.syncWalletConnectAccount();case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),connectExternal:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o,a,s,c,u,l,d,f,p,h,v,g,w,m,b,y,x,k;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.id,l=n.info,d=n.type,f=n.provider,p=n.chain,h=n.caipNetwork,v=xM.state.activeChain,g=p||v,w=e.getAdapter(g),p&&p!==v&&!h&&(m=e.getCaipNetworks().find((function(e){return e.chainNamespace===p})),m&&e.setCaipNetwork(m)),w){t.next=5;break}throw new Error("Adapter not found");case 5:return b=e.getCaipNetwork(g),t.next=8,w.connect({id:u,info:l,type:d,provider:f,chainId:(null===h||void 0===h?void 0:h.id)||(null===b||void 0===b?void 0:b.id),rpcUrl:(null===h||void 0===h||null===(r=h.rpcUrls)||void 0===r||null===(i=r.default)||void 0===i||null===(o=i.http)||void 0===o?void 0:o[0])||(null===b||void 0===b||null===(a=b.rpcUrls)||void 0===a||null===(s=a.default)||void 0===s||null===(c=s.http)||void 0===c?void 0:c[0])});case 8:if(y=t.sent){t.next=11;break}return t.abrupt("return");case 11:return l_.addConnectedNamespace(g),e.syncProvider((0,I.Z)((0,I.Z)({},y),{},{chainNamespace:g})),t.next=14,w.getAccounts({namespace:g,id:u});case 14:x=t.sent,k=x.accounts,e.setAllAccounts(k,g),e.setStatus("connected",g);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),reconnectExternal:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o,a,s,c,u;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.id,o=n.info,a=n.type,s=n.provider,c=xM.state.activeChain,u=e.getAdapter(c),t.t0=null===u||void 0===u?void 0:u.reconnect,!t.t0){t.next=7;break}return t.next=6,null===u||void 0===u?void 0:u.reconnect({id:i,info:o,type:a,provider:s,chainId:null===(r=e.getCaipNetwork())||void 0===r?void 0:r.id});case 6:l_.addConnectedNamespace(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),disconnect:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n||xM.state.activeChain,i=e.getAdapter(r),o=Fj.getProvider(r),a=Fj.getProviderId(r),t.next=3,null===i||void 0===i?void 0:i.disconnect({provider:o,providerType:a});case 3:l_.removeConnectedNamespace(r),Fj.resetChain(r),e.setUser(void 0,r),e.setStatus("disconnected",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),checkInstalled:function(e){return e?e.some((function(e){var t;return!(null===(t=window.ethereum)||void 0===t||!t[String(e)])})):!!window.ethereum},signMessage:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(i=e.getAdapter(xM.state.activeChain))||void 0===i?void 0:i.signMessage({message:n,address:SM.state.address,provider:Fj.getProvider(xM.state.activeChain)});case 2:if(t.t2=r=t.sent,t.t1=null===t.t2,t.t1){t.next=6;break}t.t1=void 0===r;case 6:if(!t.t1){t.next=10;break}t.t3=void 0,t.next=11;break;case 10:t.t3=r.signature;case 11:if(t.t0=t.t3,t.t0){t.next=14;break}t.t0="";case 14:return t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),sendTransaction:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.chainNamespace!==ZO.CHAIN.EVM){t.next=17;break}return i=e.getAdapter(xM.state.activeChain),o=Fj.getProvider(xM.state.activeChain),t.next=4,null===i||void 0===i?void 0:i.sendTransaction((0,I.Z)((0,I.Z)({},n),{},{caipNetwork:e.getCaipNetwork(),provider:o}));case 4:if(t.t2=r=t.sent,t.t1=null===t.t2,t.t1){t.next=8;break}t.t1=void 0===r;case 8:if(!t.t1){t.next=12;break}t.t3=void 0,t.next=13;break;case 12:t.t3=r.hash;case 13:if(t.t0=t.t3,t.t0){t.next=16;break}t.t0="";case 16:return t.abrupt("return",t.t0);case 17:return t.abrupt("return","");case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),estimateGas:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.chainNamespace!==ZO.CHAIN.EVM){t.next=19;break}if(i=e.getAdapter(xM.state.activeChain),o=Fj.getProvider(xM.state.activeChain),a=e.getCaipNetwork()){t.next=4;break}throw new Error("CaipNetwork is undefined");case 4:return t.next=6,null===i||void 0===i?void 0:i.estimateGas((0,I.Z)((0,I.Z)({},n),{},{provider:o,caipNetwork:a}));case 6:if(t.t2=r=t.sent,t.t1=null===t.t2,t.t1){t.next=10;break}t.t1=void 0===r;case 10:if(!t.t1){t.next=14;break}t.t3=void 0,t.next=15;break;case 14:t.t3=r.gas;case 15:if(t.t0=t.t3,t.t0){t.next=18;break}t.t0=0n;case 18:return t.abrupt("return",t.t0);case 19:return t.abrupt("return",0n);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getEnsAvatar:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(){var n,r,i;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(r=e.getAdapter(xM.state.activeChain))||void 0===r?void 0:r.getProfile({address:SM.state.address,chainId:Number(null===(i=e.getCaipNetwork())||void 0===i?void 0:i.id)});case 2:if(t.t2=n=t.sent,t.t1=null===t.t2,t.t1){t.next=6;break}t.t1=void 0===n;case 6:if(!t.t1){t.next=10;break}t.t3=void 0,t.next=11;break;case 10:t.t3=n.profileImage;case 11:if(t.t0=t.t3,t.t0){t.next=14;break}t.t0=!1;case 14:return t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getEnsAddress:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.getAdapter(xM.state.activeChain),o=e.getCaipNetwork(),t.t1=o,!t.t1){t.next=15;break}return t.next=5,null===i||void 0===i?void 0:i.getEnsAddress({name:n,caipNetwork:o});case 5:if(t.t3=r=t.sent,t.t2=null===t.t3,t.t2){t.next=9;break}t.t2=void 0===r;case 9:if(!t.t2){t.next=13;break}t.t4=void 0,t.next=14;break;case 13:t.t4=r.address;case 14:t.t1=t.t4;case 15:if(t.t0=t.t1,t.t0){t.next=18;break}t.t0=!1;case 18:return t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),writeContract:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i,o,a,s;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.getAdapter(xM.state.activeChain),o=e.getCaipNetwork(),a=e.getCaipAddress(),s=Fj.getProvider(xM.state.activeChain),o&&a){t.next=3;break}throw new Error("CaipNetwork or CaipAddress is undefined");case 3:return t.next=5,null===i||void 0===i?void 0:i.writeContract((0,I.Z)((0,I.Z)({},n),{},{caipNetwork:o,provider:s,caipAddress:a}));case 5:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=9;break}t.t0=void 0===r;case 9:if(!t.t0){t.next=13;break}t.t2=void 0,t.next=14;break;case 13:t.t2=r.hash;case 14:return t.abrupt("return",t.t2);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),parseUnits:function(t,n){var r,i;return null!==(r=null===(i=e.getAdapter(xM.state.activeChain))||void 0===i?void 0:i.parseUnits({value:t,decimals:n}))&&void 0!==r?r:0n},formatUnits:function(t,n){var r,i;return null!==(r=null===(i=e.getAdapter(xM.state.activeChain))||void 0===i?void 0:i.formatUnits({value:t,decimals:n}))&&void 0!==r?r:"0"},getCapabilities:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(r=e.getAdapter(xM.state.activeChain))||void 0===r?void 0:r.getCapabilities(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),grantPermissions:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(r=e.getAdapter(xM.state.activeChain))||void 0===r?void 0:r.grantPermissions(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),revokePermissions:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=e.getAdapter(xM.state.activeChain))||void 0===r||!r.revokePermissions){t.next=7;break}return t.next=4,r.revokePermissions(n);case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0="0x";case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),walletGetAssets:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){var r,i;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(i=e.getAdapter(xM.state.activeChain))||void 0===i?void 0:i.walletGetAssets(n);case 2:if(t.t1=r=t.sent,t.t0=null!==t.t1,!t.t0){t.next=6;break}t.t0=void 0!==r;case 6:if(!t.t0){t.next=10;break}t.t2=r,t.next=11;break;case 10:t.t2={};case 11:return t.abrupt("return",t.t2);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},this.networkControllerClient={switchCaipNetwork:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(n){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.switchCaipNetwork(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getApprovedCaipNetworksData:function(){var t=(0,P.Z)((0,A.Z)().mark((function t(){return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.getApprovedCaipNetworksData());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},eN.setClient(this.connectionControllerClient)}},{key:"getApprovedCaipNetworksData",value:function(){if(Fj.getProviderId(xM.state.activeChain)===GM){var e,t,n,r,i,o=null===(e=this.universalProvider)||void 0===e||null===(t=e.session)||void 0===t?void 0:t.namespaces;return{supportsAllNetworks:"MetaMask Wallet"===(null===(n=this.universalProvider)||void 0===n||null===(r=n.session)||void 0===r||null===(i=r.peer)||void 0===i?void 0:i.metadata.name),approvedCaipNetworkIds:this.getChainsFromNamespaces(o)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}},{key:"switchCaipNetwork",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.chainNamespace,!this.getAddressByChainNamespace(t.chainNamespace)){e.next=13;break}if(i=Fj.getProvider(n),o=Fj.getProviderId(n),t.chainNamespace!==xM.state.activeChain){e.next=10;break}return e.next=8,null===(r=this.getAdapter(n))||void 0===r?void 0:r.switchNetwork({caipNetwork:t,provider:i,providerType:o});case 8:e.next=11;break;case 10:this.setCaipNetwork(t),o===GM?this.syncWalletConnectAccount():(a=this.getAddressByChainNamespace(n))&&this.syncAccount({address:a,chainId:t.id,chainNamespace:n});case 11:e.next=14;break;case 13:this.setCaipNetwork(t);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChainsFromNamespaces",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).flatMap((function(e){var t=e.chains||[],n=e.accounts.map((function(e){var t=EO(e),n=t.chainId,r=t.chainNamespace;return"".concat(r,":").concat(n)}));return Array.from(new Set([].concat((0,N.Z)(t),(0,N.Z)(n))))}))}},{key:"createAdapters",value:function(e){var t=this;return this.createClients(),this.chainNamespaces.reduce((function(n,r){var i,o=null===e||void 0===e?void 0:e.find((function(e){return e.namespace===r}));return o?(o.construct({namespace:r,projectId:null===(i=t.options)||void 0===i?void 0:i.projectId,networks:t.getCaipNetworks()}),n[r]=o):n[r]=new Gz({namespace:r,networks:t.getCaipNetworks()}),n}),{})}},{key:"initChainAdapter",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onConnectors(t),this.listenAdapter(t),null!==(n=this.chainAdapters)&&void 0!==n&&n[t].syncConnectors(this.options,this),e.next=5,this.createUniversalProviderForAdapter(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initChainAdapters",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.chainNamespaces.map(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initChainAdapter(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onConnectors",value:function(e){var t;null===(t=this.getAdapter(e))||void 0===t||t.on("connectors",this.setConnectors.bind(this))}},{key:"listenAdapter",value:function(e){var t=this,n=this.getAdapter(e);if(n){var r=l_.getConnectionStatus();"connected"===r?this.setStatus("connecting",e):"disconnected"===r?(l_.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",(function(n){var r=n.address,i=n.chainId,o=t.getCaipNetworks().find((function(e){return e.id===i||e.caipNetworkId===i})),a=xM.state.activeChain===e,s=xM.getAccountProp("address",e);if(o){var c=a&&r?r:s;c&&t.syncAccount({address:c,chainId:o.id,chainNamespace:e})}else t.setUnsupportedNetwork(i)})),n.on("disconnect",this.disconnect.bind(this,e)),n.on("pendingTransactions",(function(){var e=SM.state.address,n=xM.state.activeCaipNetwork;!e||null===n||void 0===n||!n.id||t.updateNativeBalance(e,n.id,n.chainNamespace)})),n.on("accountChanged",(function(n){var r,i,o=n.address,a=n.chainId,s=xM.state.activeChain===e;s&&a?t.syncAccount({address:o,chainId:a,chainNamespace:e}):s&&null!==(r=xM.state.activeCaipNetwork)&&void 0!==r&&r.id?t.syncAccount({address:o,chainId:null===(i=xM.state.activeCaipNetwork)||void 0===i?void 0:i.id,chainNamespace:e}):t.syncAccountInfo(o,a,e)}))}}},{key:"createUniversalProviderForAdapter",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUniversalProvider();case 2:this.universalProvider&&(null===(n=this.chainAdapters)||void 0===n||null===(r=n[t])||void 0===r||null===(i=r.setUniversalProvider)||void 0===i||i.call(r,this.universalProvider));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"syncExistingConnection",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled(this.chainNamespaces.map((function(e){return t.syncNamespaceConnection(e)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"syncNamespaceConnection",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=q_.getConnectorId(t),e.t0=(this.setStatus("connecting",t),n),e.next=e.t0===ZO.CONNECTOR_ID.WALLET_CONNECT?5:e.t0===ZO.CONNECTOR_ID.AUTH?8:9;break;case 5:return e.next=7,this.syncWalletConnectAccount();case 7:case 8:return e.abrupt("break",11);case 9:return e.next=11,this.syncAdapterConnection(t);case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),console.warn("AppKit couldn't sync existing connection",e.t1),this.setStatus("disconnected",t);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"syncAdapterConnection",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c,u,l;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getAdapter(t),r=q_.getConnectorId(t),i=this.getCaipNetwork(t),o=q_.getConnectors(t).find((function(e){return e.id===r})),e.prev=1,n&&o){e.next=4;break}throw new Error("Adapter or connector not found for namespace ".concat(t));case 4:if(null!==i&&void 0!==i&&i.id){e.next=6;break}throw new Error("CaipNetwork not found");case 6:return e.next=8,null===n||void 0===n?void 0:n.syncConnection({namespace:t,id:o.id,chainId:i.id,rpcUrl:null===i||void 0===i||null===(a=i.rpcUrls)||void 0===a||null===(s=a.default)||void 0===s||null===(c=s.http)||void 0===c?void 0:c[0]});case 8:if(!(u=e.sent)){e.next=20;break}return e.next=12,null===n||void 0===n?void 0:n.getAccounts({namespace:t,id:o.id});case 12:return(l=e.sent)&&l.accounts.length>0?this.setAllAccounts(l.accounts,t):this.setAllAccounts([d_.createAccount(t,u.address,"eoa")],t),this.syncProvider((0,I.Z)((0,I.Z)({},u),{},{chainNamespace:t})),e.next=17,this.syncAccount((0,I.Z)((0,I.Z)({},u),{},{chainNamespace:t}));case 17:this.setStatus("connected",t),e.next=21;break;case 20:this.setStatus("disconnected",t);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),this.setStatus("disconnected",t);case 26:case"end":return e.stop()}}),e,this,[[1,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"syncWalletConnectAccount",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.chainNamespaces.map(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var r,i,o,a,s,c,u,l,d,f,p,h,v,g;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.getAdapter(t),u=(null===(r=n.universalProvider)||void 0===r||null===(i=r.session)||void 0===i||null===(o=i.namespaces)||void 0===o||null===(a=o[t])||void 0===a?void 0:a.accounts)||[],l=null===(s=xM.state.activeCaipNetwork)||void 0===s?void 0:s.id,d=u.find((function(e){return EO(e).chainId===(null===l||void 0===l?void 0:l.toString())}))||u[0],!d){e.next=11;break}return f=CO(d),p=EO(f),h=p.chainId,v=p.address,Fj.setProviderId(t,GM),n.caipNetworks&&xM.state.activeCaipNetwork&&(null===c||void 0===c?void 0:c.namespace)!==ZO.CHAIN.EVM?(g=null===c||void 0===c?void 0:c.getWalletConnectProvider({caipNetworks:n.getCaipNetworks(),provider:n.universalProvider,activeCaipNetwork:xM.state.activeCaipNetwork}),Fj.setProvider(t,g)):Fj.setProvider(t,n.universalProvider),q_.setConnectorId(ZO.CONNECTOR_ID.WALLET_CONNECT,t),l_.addConnectedNamespace(t),n.syncWalletConnectAccounts(t),e.next=9,n.syncAccount({address:v,chainId:h,chainNamespace:t});case 9:e.next=12;break;case 11:n.setStatus("disconnected",t);case 12:return e.next=14,xM.setApprovedCaipNetworksData(t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"syncWalletConnectAccounts",value:function(e){var t,n,r,i,o,a=null===(t=this.universalProvider)||void 0===t||null===(n=t.session)||void 0===n||null===(r=n.namespaces)||void 0===r||null===(i=r[e])||void 0===i||null===(o=i.accounts)||void 0===o?void 0:o.map((function(e){return EO(e).address})).filter((function(e,t,n){return n.indexOf(e)===t}));a&&this.setAllAccounts(a.map((function(t){return d_.createAccount(e,t,"bip122"===e?"payment":"eoa")})),e)}},{key:"syncProvider",value:function(e){var t=e.type,n=e.provider,r=e.id,i=e.chainNamespace;Fj.setProviderId(i,t),Fj.setProvider(i,n),q_.setConnectorId(r,i)}},{key:"syncAccount",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r,i,o,a,s,c,u,l,d,f,p,h,v,g,w,m,b;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.chainNamespace===xM.state.activeChain,i=xM.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),o=t.address,a=t.chainId,s=t.chainNamespace,c=l_.getActiveNetworkProps(),u=c.chainId,l=a||u,d=(null===(n=xM.state.activeCaipNetwork)||void 0===n?void 0:n.name)===ZO.UNSUPPORTED_NETWORK_NAME,f=xM.getNetworkProp("supportsAllNetworks",s),this.setStatus("connected",s),d&&!f||!l){e.next=15;break}if(h=this.getCaipNetworks().find((function(e){return e.id.toString()===l.toString()})),v=this.getCaipNetworks().find((function(e){return e.chainNamespace===s})),f||h||v||(g=this.getApprovedCaipNetworkIds()||[],w=g.find((function(e){var t;return(null===(t=IO(e))||void 0===t?void 0:t.chainId)===l.toString()})),m=g.find((function(e){var t;return(null===(t=IO(e))||void 0===t?void 0:t.chainNamespace)===s})),h=this.getCaipNetworks().find((function(e){return e.caipNetworkId===w})),v=this.getCaipNetworks().find((function(e){return e.caipNetworkId===m||"deprecatedCaipNetworkId"in e&&e.deprecatedCaipNetworkId===m}))),(null===(b=h||v)||void 0===b?void 0:b.chainNamespace)===xM.state.activeChain?Z_.state.enableNetworkSwitch&&!Z_.state.allowUnsupportedChain&&(null===(p=xM.state.activeCaipNetwork)||void 0===p?void 0:p.name)===ZO.UNSUPPORTED_NETWORK_NAME?xM.showUnsupportedChainUI():this.setCaipNetwork(b):r||i&&this.setCaipNetworkOfNamespace(i,s),this.syncConnectedWalletInfo(s),XM(o,SM.state.address)||this.syncAccountInfo(o,null===b||void 0===b?void 0:b.id,s),!r){e.next=13;break}return e.next=11,this.syncBalance({address:o,chainId:null===b||void 0===b?void 0:b.id,chainNamespace:s});case 11:e.next=15;break;case 13:return e.next=15,this.syncBalance({address:o,chainId:null===i||void 0===i?void 0:i.id,chainNamespace:s});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"syncAccountInfo",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.getCaipAddress(r),o=n||(null===i||void 0===i?void 0:i.split(":")[1])){e.next=3;break}return e.abrupt("return");case 3:return a="".concat(r,":").concat(o,":").concat(t),this.setCaipAddress(a,r),e.next=7,this.syncIdentity({address:t,chainId:o,chainNamespace:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"syncReownName",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n){var r,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getReownName(t);case 3:(r=e.sent)[0]?(i=r[0],this.setProfileName(i.name,n)):this.setProfileName(null,n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setProfileName(null,n);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncConnectedWalletInfo",value:function(e){var t=q_.getConnectorId(e),n=Fj.getProviderId(e);if(n===YM||n===$M){if(t){var r=this.getConnectors().find((function(e){return e.id===t}));if(r){var i=r.info,o=r.name,a=r.imageUrl||this.getConnectorImage(r);this.setConnectedWalletInfo((0,I.Z)({name:o,icon:a},i),e)}}}else if(n===GM){var s,c=Fj.getProvider(e);(null===c||void 0===c?void 0:c.session)&&this.setConnectedWalletInfo((0,I.Z)((0,I.Z)({},c.session.peer.metadata),{},{name:c.session.peer.metadata.name,icon:null===(s=c.session.peer.metadata.icons)||void 0===s?void 0:s[0]}),e)}else if(t)if(t===ZO.CONNECTOR_ID.COINBASE){var u=this.getConnectors().find((function(e){return e.id===ZO.CONNECTOR_ID.COINBASE}));this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(u)},e)}else this.setConnectedWalletInfo({name:t},e)}},{key:"syncBalance",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!pO(this.getCaipNetworks(),t.chainNamespace).find((function(e){var n;return e.id.toString()===(null===(n=t.chainId)||void 0===n?void 0:n.toString())}))||!t.chainId,e.t0){e.next=4;break}return e.next=4,this.updateNativeBalance(t.address,t.chainId,t.chainNamespace);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateNativeBalance",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t,n,r){var i,o,a;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.getAdapter(r),o=xM.getCaipNetworkByNamespace(r,n),!i){e.next=6;break}return e.next=4,i.getBalance({address:t,chainId:n,caipNetwork:o,tokens:this.options.tokens});case 4:a=e.sent,this.setBalance(a.balance,a.symbol,r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"initializeUniversalAdapter",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i,o,a,s,c,u,l,d,f,p,h=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=Mj((function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&h.handleAlertError(e),(t=console).error.apply(t,r)})),p={projectId:null===(t=this.options)||void 0===t?void 0:t.projectId,metadata:{name:null!==(n=this.options)&&void 0!==n&&n.metadata?null===(r=this.options)||void 0===r?void 0:r.metadata.name:"",description:null!==(i=this.options)&&void 0!==i&&i.metadata?null===(o=this.options)||void 0===o?void 0:o.metadata.description:"",url:null!==(a=this.options)&&void 0!==a&&a.metadata?null===(s=this.options)||void 0===s?void 0:s.metadata.url:"",icons:null!==(c=this.options)&&void 0!==c&&c.metadata?null===(u=this.options)||void 0===u?void 0:u.metadata.icons:[""]},logger:f},Z_.setManualWCControl(!(null===(l=this.options)||void 0===l||!l.manualWCControl)),null===(d=this.options.universalProvider)||void 0===d){e.next=6;break}e.t0=d,e.next=9;break;case 6:return e.next=8,AP.init(p);case 8:e.t0=e.sent;case 9:this.universalProvider=e.t0,this.listenWalletConnect();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listenWalletConnect",value:function(){var e=this;this.universalProvider&&(this.universalProvider.on("display_uri",(function(e){eN.setUri(e)})),this.universalProvider.on("connect",eN.finalizeWcConnection),this.universalProvider.on("disconnect",(function(){e.chainNamespaces.forEach((function(t){e.resetAccount(t)})),eN.resetWcConnection()})),this.universalProvider.on("chainChanged",(function(t){var n=e.getCaipNetworks().find((function(e){return e.id==t})),r=e.getCaipNetwork();n?(null===r||void 0===r?void 0:r.id)!==(null===n||void 0===n?void 0:n.id)&&e.setCaipNetwork(n):e.setUnsupportedNetwork(t)})),this.universalProvider.on("session_event",(function(t){if(Wz.isSessionEventData(t)){var n=t.params.event,r=n.name,i=n.data;"accountsChanged"===r&&Array.isArray(i)&&d_.isCaipAddress(i[0])&&e.syncAccount(EO(i[0]))}})))}},{key:"createUniversalProvider",value:function(){var e;return!this.universalProviderInitPromise&&d_.isClient()&&null!==(e=this.options)&&void 0!==e&&e.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}},{key:"getUniversalProvider",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.universalProvider){e.next=9;break}return e.prev=1,e.next=4,this.createUniversalProvider();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),O_.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e.t0 instanceof Error?e.t0.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e.t0);case 9:return e.abrupt("return",this.universalProvider);case 10:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleAlertError",value:function(e){var t=Object.entries(QM.UniversalProviderErrors).find((function(t){var n=(0,S.Z)(t,2)[1].message;return e.message.includes(n)})),n=null!==t&&void 0!==t?t:[],r=(0,S.Z)(n,2),i=r[0],o=r[1],a=null!==o&&void 0!==o?o:{},s=a.message,c=a.alertErrorKey;if(i&&s&&!this.reportedAlertErrors[i]){var u=QM.ALERT_ERRORS[c];u&&(E_.open(u,"error"),this.reportedAlertErrors[i]=!0)}}},{key:"getAdapter",value:function(e){var t;if(e)return null===(t=this.chainAdapters)||void 0===t?void 0:t[e]}},{key:"createAdapter",value:function(e){var t;if(e){var n=e.namespace;if(n){this.createClients();var r=e;r.namespace=n,r.construct({namespace:n,projectId:null===(t=this.options)||void 0===t?void 0:t.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}}}},{key:"open",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.injectModalUi();case 2:if(null!==t&&void 0!==t&&t.uri&&eN.setUri(t.uri),null===t||void 0===t||!t.arguments){e.next=8;break}e.t0=null===t||void 0===t?void 0:t.view,e.next="Swap"===e.t0?7:8;break;case 7:return e.abrupt("return",PM.open((0,I.Z)((0,I.Z)({},t),{},{data:{swap:t.arguments}})));case 8:return e.abrupt("return",PM.open(t));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.injectModalUi();case 2:PM.close();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLoading",value:function(e,t){PM.setLoading(e,t)}},{key:"disconnect",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eN.disconnect(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getError",value:function(){return""}},{key:"getChainId",value:function(){var e;return null===(e=xM.state.activeCaipNetwork)||void 0===e?void 0:e.id}},{key:"switchNetwork",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getCaipNetworks().find((function(e){return e.id===t.id})),n){e.next=4;break}return E_.open(QM.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error"),e.abrupt("return");case 4:return e.next=6,xM.switchActiveNetwork(n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getWalletProvider",value:function(){return xM.state.activeChain?Fj.state.providers[xM.state.activeChain]:null}},{key:"getWalletProviderType",value:function(){return Fj.getProviderId(xM.state.activeChain)}},{key:"subscribeProviders",value:function(e){return Fj.subscribeProviders(e)}},{key:"getThemeMode",value:function(){return j_.state.themeMode}},{key:"getThemeVariables",value:function(){return j_.state.themeVariables}},{key:"setThemeMode",value:function(e){j_.setThemeMode(e),cz(j_.state.themeMode)}},{key:"setTermsConditionsUrl",value:function(e){Z_.setTermsConditionsUrl(e)}},{key:"setPrivacyPolicyUrl",value:function(e){Z_.setPrivacyPolicyUrl(e)}},{key:"setThemeVariables",value:function(e){j_.setThemeVariables(e),function(e){iz&&oz&&az&&(iz.textContent=uz(e).core.cssText,oz.textContent=uz(e).dark.cssText,az.textContent=uz(e).light.cssText)}(j_.state.themeVariables)}},{key:"subscribeTheme",value:function(e){return j_.subscribe(e)}},{key:"getWalletInfo",value:function(){return SM.state.connectedWalletInfo}},{key:"getAccount",value:function(e){var t,n=q_.getAuthConnector(e),r=xM.getAccountData(e),i=xM.state.activeChain;if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:d_.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n?{user:r.user?(0,I.Z)((0,I.Z)({},r.user),{},{username:l_.getConnectedSocialUsername()}):void 0,authProvider:r.socialProvider||"email",accountType:null===(t=r.preferredAccountTypes)||void 0===t?void 0:t[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}},{key:"subscribeAccount",value:function(e,t){var n=this,r=function(){var r=n.getAccount(t);r&&e(r)};t?xM.subscribeChainProp("accountState",r,t):xM.subscribe(r),q_.subscribe(r)}},{key:"subscribeNetwork",value:function(e){return xM.subscribe((function(t){var n=t.activeCaipNetwork;e({caipNetwork:n,chainId:null===n||void 0===n?void 0:n.id,caipNetworkId:null===n||void 0===n?void 0:n.caipNetworkId})}))}},{key:"subscribeWalletInfo",value:function(e){return SM.subscribeKey("connectedWalletInfo",e)}},{key:"subscribeShouldUpdateToAddress",value:function(e){SM.subscribeKey("shouldUpdateToAddress",e)}},{key:"subscribeCaipNetworkChange",value:function(e){xM.subscribeKey("activeCaipNetwork",e)}},{key:"getState",value:function(){return nN.state}},{key:"subscribeState",value:function(e){return nN.subscribe(e)}},{key:"showErrorMessage",value:function(e){$_.showError(e)}},{key:"showSuccessMessage",value:function(e){$_.showSuccess(e)}},{key:"getEvent",value:function(){return(0,I.Z)({},O_.state)}},{key:"subscribeEvents",value:function(e){return O_.subscribe(e)}},{key:"replace",value:function(e){U_.replace(e)}},{key:"redirect",value:function(e){U_.push(e)}},{key:"popTransactionStack",value:function(e){U_.popTransactionStack(e)}},{key:"isOpen",value:function(){return PM.state.open}},{key:"isTransactionStackEmpty",value:function(){return 0===U_.state.transactionStack.length}},{key:"isTransactionShouldReplaceView",value:function(){var e;return null===(e=U_.state.transactionStack[U_.state.transactionStack.length-1])||void 0===e?void 0:e.replace}},{key:"updateFeatures",value:function(e){Z_.setFeatures(e)}},{key:"updateOptions",value:function(e){var t=(0,I.Z)((0,I.Z)({},Z_.state||{}),e);Z_.setOptions(t)}},{key:"setConnectMethodsOrder",value:function(e){Z_.setConnectMethodsOrder(e)}},{key:"setWalletFeaturesOrder",value:function(e){Z_.setWalletFeaturesOrder(e)}},{key:"setCollapseWallets",value:function(e){Z_.setCollapseWallets(e)}},{key:"setSocialsOrder",value:function(e){Z_.setSocialsOrder(e)}},{key:"getConnectMethodsOrder",value:function(){return Kj.getConnectOrderMethod(Z_.state.features,q_.getConnectors())}},{key:"addNetwork",value:function(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error("Adapter for namespace ".concat(e," doesn't exist"));var n=this.extendCaipNetwork(t,this.options);this.getCaipNetworks().find((function(e){return e.id===n.id}))||xM.addNetwork(n)}},{key:"removeNetwork",value:function(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error("Adapter for namespace ".concat(e," doesn't exist"));this.getCaipNetworks().find((function(e){return e.id===t}))&&xM.removeNetwork(e,t)}}],[{key:"getInstance",value:function(){return this.instance}}]),e}(),Yz=!1,Jz=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"open",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=q_.isConnected(),e.t0){e.next=4;break}return e.next=4,(0,m.Z)((0,b.Z)(n.prototype),"open",this).call(this,t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Z)((0,b.Z)(n.prototype),"close",this).call(this);case 2:this.options.manualWCControl&&eN.finalizeWcConnection();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"syncIdentity",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"syncBalance",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"injectModalUi",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yz||!d_.isClient()){e.next=9;break}return e.next=3,Promise.resolve().then((function(){return GV}));case 3:return e.next=5,Promise.resolve().then((function(){return NK}));case 5:if(document.querySelector("w3m-modal")){e.next=8;break}t=document.createElement("w3m-modal"),!Z_.state.disableAppend&&!Z_.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",t);case 8:Yz=!0;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}($z);var Xz=Object.freeze({__proto__:null,createAppKit:function(e){return new Jz((0,I.Z)((0,I.Z)({},e),{},{basic:!0,sdkVersion:"html-core-".concat("1.7.3")}))},AppKit:Jz}),Qz=Object.defineProperty,eq=Object.defineProperties,tq=Object.getOwnPropertyDescriptors,nq=Object.getOwnPropertySymbols,rq=Object.prototype.hasOwnProperty,iq=Object.prototype.propertyIsEnumerable,oq=function(e,t,n){return t in e?Qz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},aq=function(e,t){for(var n in t||(t={}))rq.call(t,n)&&oq(e,n,t[n]);if(nq){var r,i=(0,R.Z)(nq(t));try{for(i.s();!(r=i.n()).done;){n=r.value;iq.call(t,n)&&oq(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},sq=function(e,t){return eq(e,tq(t))};function cq(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}var uq=function(e){var t=e.split(":"),n=(0,S.Z)(t,2),r=n[0];return Dz({id:n[1],caipNetworkId:e,chainNamespace:r,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};var lq=Object.freeze({__proto__:null,convertWCMToAppKitOptions:function(e){var t,n,r,i,o,a,s,c=null==(t=e.chains)?void 0:t.map(uq).filter(Boolean);if(0===c.length)throw new Error("At least one chain must be specified");var u=c.find((function(t){var n;return t.id===(null==(n=e.defaultChain)?void 0:n.id)})),l={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:cq(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:u,metadata:sq(aq({},e.metadata),{name:(null==(n=e.metadata)?void 0:n.name)||"WalletConnect",description:(null==(r=e.metadata)?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:(null==(i=e.metadata)?void 0:i.url)||"https://walletconnect.org",icons:(null==(o=e.metadata)?void 0:o.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:"NONE"===e.explorerRecommendedWalletIds?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:"ALL"===e.explorerExcludedWalletIds?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if(null!=(a=e.mobileWallets)&&a.length||null!=(s=e.desktopWallets)&&s.length){var d=[].concat((0,N.Z)((e.mobileWallets||[]).map((function(e){return{id:e.id,name:e.name,links:e.links}}))),(0,N.Z)((e.desktopWallets||[]).map((function(e){return{id:e.id,name:e.name,links:{native:e.links.native,universal:e.links.universal}}})))),f=[].concat((0,N.Z)(l.featuredWalletIds||[]),(0,N.Z)(l.excludeWalletIds||[])),p=d.filter((function(e){return!f.includes(e.id)}));p.length&&(l.customWallets=p)}return l}}),dq={attribute:!0,type:String,converter:hD,reflect:!1,hasChanged:vD};function fq(e){return function(t,n){return"object"==typeof n?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dq,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=n.kind,i=n.metadata,o=globalThis.litPropertyMetadata.get(i);if(void 0===o&&globalThis.litPropertyMetadata.set(i,o=new Map),"setter"===r&&((e=Object.create(e)).wrapped=!0),o.set(n.name,e),"accessor"===r){var a=n.name;return{set:function(n){var r=t.get.call(this);t.set.call(this,n),this.requestUpdate(a,r,e)},init:function(t){return void 0!==t&&this.C(a,void 0,e,t),t}}}if("setter"===r){var s=n.name;return function(n){var r=this[s];t.call(this,n),this.requestUpdate(s,r,e)}}throw Error("Unsupported decorator location: "+r)}(e,t,n):function(e,t,n){var r=t.hasOwnProperty(n);return t.constructor.createProperty(n,e),r?Object.getOwnPropertyDescriptor(t,n):void 0}(e,t,n)}}function pq(e){return fq((0,I.Z)((0,I.Z)({},e),{},{state:!0,attribute:!1}))}var hq=tD(mk||(mk=w(["\n  :host {\n    display: flex;\n    width: inherit;\n    height: inherit;\n  }\n"]))),vq=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},gq=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"render",value:function(){return this.style.cssText="\n      flex-direction: ".concat(this.flexDirection,";\n      flex-wrap: ").concat(this.flexWrap,";\n      flex-basis: ").concat(this.flexBasis,";\n      flex-grow: ").concat(this.flexGrow,";\n      flex-shrink: ").concat(this.flexShrink,";\n      align-items: ").concat(this.alignItems,";\n      justify-content: ").concat(this.justifyContent,";\n      column-gap: ").concat(this.columnGap&&"var(--wui-spacing-".concat(this.columnGap,")"),";\n      row-gap: ").concat(this.rowGap&&"var(--wui-spacing-".concat(this.rowGap,")"),";\n      gap: ").concat(this.gap&&"var(--wui-spacing-".concat(this.gap,")"),";\n      padding-top: ").concat(this.padding&&pz(this.padding,0),";\n      padding-right: ").concat(this.padding&&pz(this.padding,1),";\n      padding-bottom: ").concat(this.padding&&pz(this.padding,2),";\n      padding-left: ").concat(this.padding&&pz(this.padding,3),";\n      margin-top: ").concat(this.margin&&pz(this.margin,0),";\n      margin-right: ").concat(this.margin&&pz(this.margin,1),";\n      margin-bottom: ").concat(this.margin&&pz(this.margin,2),";\n      margin-left: ").concat(this.margin&&pz(this.margin,3),";\n    "),jD(bk||(bk=w(["<slot></slot>"])))}}]),n}(rz);gq.styles=[lz,hq],vq([fq()],gq.prototype,"flexDirection",void 0),vq([fq()],gq.prototype,"flexWrap",void 0),vq([fq()],gq.prototype,"flexBasis",void 0),vq([fq()],gq.prototype,"flexGrow",void 0),vq([fq()],gq.prototype,"flexShrink",void 0),vq([fq()],gq.prototype,"alignItems",void 0),vq([fq()],gq.prototype,"justifyContent",void 0),vq([fq()],gq.prototype,"columnGap",void 0),vq([fq()],gq.prototype,"rowGap",void 0),vq([fq()],gq.prototype,"gap",void 0),vq([fq()],gq.prototype,"padding",void 0),vq([fq()],gq.prototype,"margin",void 0),gq=vq([gz("wui-flex")],gq);var wq=function(e){return null!==e&&void 0!==e?e:qD},mq=1,bq=2,yq=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{_$litDirective$:e,values:n}}},xq=function(){function e(t){(0,O.Z)(this,e)}return(0,_.Z)(e,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}},{key:"_$AS",value:function(e,t){return this.update(e,t)}},{key:"update",value:function(e,t){return this.render.apply(this,(0,N.Z)(t))}}]),e}(),kq=function e(t,n){var r=t._$AN;if(void 0===r)return!1;var i,o=(0,R.Z)(r);try{for(o.s();!(i=o.n()).done;){var a,s=i.value;null!==(a=s._$AO)&&void 0!==a&&a.call(s,n,!1),e(s,n)}}catch(c){o.e(c)}finally{o.f()}return!0},Zq=function(e){var t,n;do{var r;if(void 0===(t=e._$AM))break;(n=t._$AN).delete(e),e=t}while(0===(null===(r=n)||void 0===r?void 0:r.size))},Cq=function(e){for(var t;t=e._$AM;e=t){var n=t._$AN;if(void 0===n)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),Sq(t)}};function Eq(e){void 0!==this._$AN?(Zq(this),this._$AM=e,Cq(this)):this._$AM=e}function Iq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(r))for(var o=n;o<r.length;o++)kq(r[o],!1),Zq(r[o]);else null!=r&&(kq(r,!1),Zq(r));else kq(this,e)}var Sq=function(e){var t,n;e.type==bq&&(null!==(t=e._$AP)&&void 0!==t||(e._$AP=Iq),null!==(n=e._$AQ)&&void 0!==n||(e._$AQ=Eq))},Aq=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments))._$AN=void 0,e}return(0,_.Z)(n,[{key:"_$AT",value:function(e,t,r){(0,m.Z)((0,b.Z)(n.prototype),"_$AT",this).call(this,e,t,r),Cq(this),this.isConnected=e._$AU}},{key:"_$AO",value:function(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e!==this.isConnected&&(this.isConnected=e,e?null===(t=this.reconnected)||void 0===t||t.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),r&&(kq(this,e),Zq(this))}},{key:"setValue",value:function(e){if(function(e){return void 0===e.strings}(this._$Ct))this._$Ct._$AI(e,this);else{var t=(0,N.Z)(this._$Ct._$AH);t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}},{key:"disconnected",value:function(){}},{key:"reconnected",value:function(){}}]),n}(xq),Pq=function(){function e(t){(0,O.Z)(this,e),this.G=t}return(0,_.Z)(e,[{key:"disconnect",value:function(){this.G=void 0}},{key:"reconnect",value:function(e){this.G=e}},{key:"deref",value:function(){return this.G}}]),e}(),Oq=function(){function e(){(0,O.Z)(this,e),this.Y=void 0,this.Z=void 0}return(0,_.Z)(e,[{key:"get",value:function(){return this.Y}},{key:"pause",value:function(){var e,t=this;null!==(e=this.Y)&&void 0!==e||(this.Y=new Promise((function(e){return t.Z=e})))}},{key:"resume",value:function(){var e;null!==(e=this.Z)&&void 0!==e&&e.call(this),this.Y=this.Z=void 0}}]),e}(),_q=function(e){return!function(e){return null===e||"object"!=typeof e&&"function"!=typeof e}(e)&&"function"==typeof e.then},Nq=1073741823,Tq=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments))._$Cwt=Nq,e._$Cbt=[],e._$CK=new Pq((0,x.Z)(e)),e._$CX=new Oq,e}return(0,_.Z)(n,[{key:"render",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!==(e=n.find((function(e){return!_q(e)})))&&void 0!==e?e:zD}},{key:"update",value:function(e,t){var n=this,r=this._$Cbt,i=r.length;this._$Cbt=t;var o=this._$CK,a=this._$CX;this.isConnected||this.disconnected();for(var s=function(e){var s=t[e];if(!_q(s))return{v:(n._$Cwt=e,s)};e<i&&s===r[e]||(n._$Cwt=Nq,i=0,Promise.resolve(s).then(function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.get()){e.next=5;break}return e.next=3,a.get();case 3:e.next=0;break;case 5:void 0!==(n=o.deref())&&(r=n._$Cbt.indexOf(s))>-1&&r<n._$Cwt&&(n._$Cwt=r,n.setValue(t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},c=0;c<t.length&&!(c>this._$Cwt);c++){var u=s(c);if("object"===typeof u)return u.v}return zD}},{key:"disconnected",value:function(){this._$CK.disconnect(),this._$CX.pause()}},{key:"reconnected",value:function(){this._$CK.reconnect(this),this._$CX.resume()}}]),n}(Aq),Rq=yq(Tq),Lq=function(){function e(){(0,O.Z)(this,e),this.cache=new Map}return(0,_.Z)(e,[{key:"set",value:function(e,t){this.cache.set(e,t)}},{key:"get",value:function(e){return this.cache.get(e)}},{key:"has",value:function(e){return this.cache.has(e)}},{key:"delete",value:function(e){this.cache.delete(e)}},{key:"clear",value:function(){this.cache.clear()}}]),e}(),Bq=new Lq,Uq=tD(yk||(yk=w(["\n  :host {\n    display: flex;\n    aspect-ratio: var(--local-aspect-ratio);\n    color: var(--local-color);\n    width: var(--local-width);\n  }\n\n  svg {\n    width: inherit;\n    height: inherit;\n    object-fit: contain;\n    object-position: center;\n  }\n\n  .fallback {\n    width: var(--local-width);\n    height: var(--local-height);\n  }\n"]))),Mq=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},jq={add:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return RK}));case 2:return e.abrupt("return",e.sent.addSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),allWallets:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return BK}));case 2:return e.abrupt("return",e.sent.allWalletsSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),arrowBottomCircle:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return MK}));case 2:return e.abrupt("return",e.sent.arrowBottomCircleSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),appStore:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return DK}));case 2:return e.abrupt("return",e.sent.appStoreSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),apple:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return qK}));case 2:return e.abrupt("return",e.sent.appleSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),arrowBottom:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return WK}));case 2:return e.abrupt("return",e.sent.arrowBottomSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),arrowLeft:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return VK}));case 2:return e.abrupt("return",e.sent.arrowLeftSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),arrowRight:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return GK}));case 2:return e.abrupt("return",e.sent.arrowRightSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),arrowTop:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return YK}));case 2:return e.abrupt("return",e.sent.arrowTopSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bank:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return XK}));case 2:return e.abrupt("return",e.sent.bankSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),browser:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return eG}));case 2:return e.abrupt("return",e.sent.browserSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),card:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return nG}));case 2:return e.abrupt("return",e.sent.cardSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),checkmark:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return iG}));case 2:return e.abrupt("return",e.sent.checkmarkSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),checkmarkBold:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return aG}));case 2:return e.abrupt("return",e.sent.checkmarkBoldSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),chevronBottom:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return cG}));case 2:return e.abrupt("return",e.sent.chevronBottomSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),chevronLeft:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return lG}));case 2:return e.abrupt("return",e.sent.chevronLeftSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),chevronRight:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return fG}));case 2:return e.abrupt("return",e.sent.chevronRightSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),chevronTop:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return hG}));case 2:return e.abrupt("return",e.sent.chevronTopSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),chromeStore:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return gG}));case 2:return e.abrupt("return",e.sent.chromeStoreSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),clock:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return mG}));case 2:return e.abrupt("return",e.sent.clockSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),close:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return yG}));case 2:return e.abrupt("return",e.sent.closeSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),compass:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return kG}));case 2:return e.abrupt("return",e.sent.compassSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),coinPlaceholder:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return CG}));case 2:return e.abrupt("return",e.sent.coinPlaceholderSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),copy:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return IG}));case 2:return e.abrupt("return",e.sent.copySvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cursor:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return AG}));case 2:return e.abrupt("return",e.sent.cursorSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cursorTransparent:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return OG}));case 2:return e.abrupt("return",e.sent.cursorTransparentSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),desktop:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return NG}));case 2:return e.abrupt("return",e.sent.desktopSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),disconnect:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return RG}));case 2:return e.abrupt("return",e.sent.disconnectSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),discord:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return BG}));case 2:return e.abrupt("return",e.sent.discordSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),etherscan:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return MG}));case 2:return e.abrupt("return",e.sent.etherscanSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),extension:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return DG}));case 2:return e.abrupt("return",e.sent.extensionSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),externalLink:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return qG}));case 2:return e.abrupt("return",e.sent.externalLinkSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),facebook:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return WG}));case 2:return e.abrupt("return",e.sent.facebookSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),farcaster:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return VG}));case 2:return e.abrupt("return",e.sent.farcasterSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),filters:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return GG}));case 2:return e.abrupt("return",e.sent.filtersSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),github:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return YG}));case 2:return e.abrupt("return",e.sent.githubSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),google:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return XG}));case 2:return e.abrupt("return",e.sent.googleSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),helpCircle:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return e$}));case 2:return e.abrupt("return",e.sent.helpCircleSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),image:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return n$}));case 2:return e.abrupt("return",e.sent.imageSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),id:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return i$}));case 2:return e.abrupt("return",e.sent.idSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),infoCircle:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return a$}));case 2:return e.abrupt("return",e.sent.infoCircleSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lightbulb:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return c$}));case 2:return e.abrupt("return",e.sent.lightbulbSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mail:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return l$}));case 2:return e.abrupt("return",e.sent.mailSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mobile:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return f$}));case 2:return e.abrupt("return",e.sent.mobileSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),more:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return h$}));case 2:return e.abrupt("return",e.sent.moreSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),networkPlaceholder:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return g$}));case 2:return e.abrupt("return",e.sent.networkPlaceholderSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nftPlaceholder:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return m$}));case 2:return e.abrupt("return",e.sent.nftPlaceholderSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),off:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return y$}));case 2:return e.abrupt("return",e.sent.offSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),playStore:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return k$}));case 2:return e.abrupt("return",e.sent.playStoreSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),plus:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return C$}));case 2:return e.abrupt("return",e.sent.plusSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qrCode:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return I$}));case 2:return e.abrupt("return",e.sent.qrCodeIcon);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),recycleHorizontal:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return A$}));case 2:return e.abrupt("return",e.sent.recycleHorizontalSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),refresh:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return O$}));case 2:return e.abrupt("return",e.sent.refreshSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),search:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return N$}));case 2:return e.abrupt("return",e.sent.searchSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),send:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return R$}));case 2:return e.abrupt("return",e.sent.sendSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),swapHorizontal:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return B$}));case 2:return e.abrupt("return",e.sent.swapHorizontalSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),swapHorizontalMedium:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return M$}));case 2:return e.abrupt("return",e.sent.swapHorizontalMediumSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),swapHorizontalBold:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return D$}));case 2:return e.abrupt("return",e.sent.swapHorizontalBoldSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),swapHorizontalRoundedBold:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return q$}));case 2:return e.abrupt("return",e.sent.swapHorizontalRoundedBoldSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),swapVertical:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return W$}));case 2:return e.abrupt("return",e.sent.swapVerticalSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),telegram:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return V$}));case 2:return e.abrupt("return",e.sent.telegramSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),threeDots:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return G$}));case 2:return e.abrupt("return",e.sent.threeDotsSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),twitch:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return Y$}));case 2:return e.abrupt("return",e.sent.twitchSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),twitter:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return X$}));case 2:return e.abrupt("return",e.sent.xSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),twitterIcon:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return eY}));case 2:return e.abrupt("return",e.sent.twitterIconSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),verify:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return nY}));case 2:return e.abrupt("return",e.sent.verifySvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),verifyFilled:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return iY}));case 2:return e.abrupt("return",e.sent.verifyFilledSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wallet:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return aY}));case 2:return e.abrupt("return",e.sent.walletSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),walletConnect:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return lY}));case 2:return e.abrupt("return",e.sent.walletConnectSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),walletConnectLightBrown:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return lY}));case 2:return e.abrupt("return",e.sent.walletConnectLightBrownSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),walletConnectBrown:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return lY}));case 2:return e.abrupt("return",e.sent.walletConnectBrownSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),walletPlaceholder:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return fY}));case 2:return e.abrupt("return",e.sent.walletPlaceholderSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),warningCircle:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return hY}));case 2:return e.abrupt("return",e.sent.warningCircleSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return X$}));case 2:return e.abrupt("return",e.sent.xSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),info:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return gY}));case 2:return e.abrupt("return",e.sent.infoSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),exclamationTriangle:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return mY}));case 2:return e.abrupt("return",e.sent.exclamationTriangleSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),reown:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return yY}));case 2:return e.abrupt("return",e.sent.reownSvg);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};function Dq(){return Dq=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bq.has(t)){e.next=2;break}return e.abrupt("return",Bq.get(t));case 2:return r=(null!==(n=jq[t])&&void 0!==n?n:jq.copy)(),e.abrupt("return",(Bq.set(t,r),r));case 4:case"end":return e.stop()}}),e)}))),Dq.apply(this,arguments)}var zq=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).size="md",e.name="copy",e.color="fg-300",e.aspectRatio="1 / 1",e}return(0,_.Z)(n,[{key:"render",value:function(){return this.style.cssText="\n      --local-color: ".concat("var(--wui-color-".concat(this.color,");"),"\n      --local-width: ","var(--wui-icon-size-".concat(this.size,");"),"\n      --local-aspect-ratio: ",this.aspectRatio,"\n    "),jD(xk||(xk=w(["",""])),Rq(function(e){return Dq.apply(this,arguments)}(this.name),jD(kk||(kk=w(['<div class="fallback"></div>'])))))}}]),n}(rz);zq.styles=[lz,fz,Uq],Mq([fq()],zq.prototype,"size",void 0),Mq([fq()],zq.prototype,"name",void 0),Mq([fq()],zq.prototype,"color",void 0),Mq([fq()],zq.prototype,"aspectRatio",void 0),zq=Mq([gz("wui-icon")],zq);var qq=yq(function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(e){var r,i;if((0,O.Z)(this,n),i=t.call(this,e),e.type!==mq||"class"!==e.name||(null===(r=e.strings)||void 0===r?void 0:r.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return(0,y.Z)(i)}return(0,_.Z)(n,[{key:"render",value:function(e){return" "+Object.keys(e).filter((function(t){return e[t]})).join(" ")+" "}},{key:"update",value:function(e,t){var n=(0,S.Z)(t,1)[0];if(void 0===this.st){for(var r in this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((function(e){return""!==e})))),n){var i;n[r]&&(null===(i=this.nt)||void 0===i||!i.has(r))&&this.st.add(r)}return this.render(n)}var o,a=e.element.classList,s=(0,R.Z)(this.st);try{for(s.s();!(o=s.n()).done;){var c=o.value;c in n||(a.remove(c),this.st.delete(c))}}catch(f){s.e(f)}finally{s.f()}for(var u in n){var l,d=!!n[u];d===this.st.has(u)||(null===(l=this.nt)||void 0===l?void 0:l.has(u))||(d?(a.add(u),this.st.add(u)):(a.remove(u),this.st.delete(u)))}return zD}}]),n}(xq)),Hq=tD(Zk||(Zk=w(["\n  :host {\n    display: inline-flex !important;\n  }\n\n  slot {\n    width: 100%;\n    display: inline-block;\n    font-style: normal;\n    font-family: var(--wui-font-family);\n    font-feature-settings:\n      'tnum' on,\n      'lnum' on,\n      'case' on;\n    line-height: 130%;\n    font-weight: var(--wui-font-weight-regular);\n    overflow: inherit;\n    text-overflow: inherit;\n    text-align: var(--local-align);\n    color: var(--local-color);\n  }\n\n  .wui-line-clamp-1 {\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 1;\n  }\n\n  .wui-line-clamp-2 {\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n  }\n\n  .wui-font-medium-400 {\n    font-size: var(--wui-font-size-medium);\n    font-weight: var(--wui-font-weight-light);\n    letter-spacing: var(--wui-letter-spacing-medium);\n  }\n\n  .wui-font-medium-600 {\n    font-size: var(--wui-font-size-medium);\n    letter-spacing: var(--wui-letter-spacing-medium);\n  }\n\n  .wui-font-title-600 {\n    font-size: var(--wui-font-size-title);\n    letter-spacing: var(--wui-letter-spacing-title);\n  }\n\n  .wui-font-title-6-600 {\n    font-size: var(--wui-font-size-title-6);\n    letter-spacing: var(--wui-letter-spacing-title-6);\n  }\n\n  .wui-font-mini-700 {\n    font-size: var(--wui-font-size-mini);\n    letter-spacing: var(--wui-letter-spacing-mini);\n    text-transform: uppercase;\n  }\n\n  .wui-font-large-500,\n  .wui-font-large-600,\n  .wui-font-large-700 {\n    font-size: var(--wui-font-size-large);\n    letter-spacing: var(--wui-letter-spacing-large);\n  }\n\n  .wui-font-2xl-500,\n  .wui-font-2xl-600,\n  .wui-font-2xl-700 {\n    font-size: var(--wui-font-size-2xl);\n    letter-spacing: var(--wui-letter-spacing-2xl);\n  }\n\n  .wui-font-paragraph-400,\n  .wui-font-paragraph-500,\n  .wui-font-paragraph-600,\n  .wui-font-paragraph-700 {\n    font-size: var(--wui-font-size-paragraph);\n    letter-spacing: var(--wui-letter-spacing-paragraph);\n  }\n\n  .wui-font-small-400,\n  .wui-font-small-500,\n  .wui-font-small-600 {\n    font-size: var(--wui-font-size-small);\n    letter-spacing: var(--wui-letter-spacing-small);\n  }\n\n  .wui-font-tiny-400,\n  .wui-font-tiny-500,\n  .wui-font-tiny-600 {\n    font-size: var(--wui-font-size-tiny);\n    letter-spacing: var(--wui-letter-spacing-tiny);\n  }\n\n  .wui-font-micro-700,\n  .wui-font-micro-600 {\n    font-size: var(--wui-font-size-micro);\n    letter-spacing: var(--wui-letter-spacing-micro);\n    text-transform: uppercase;\n  }\n\n  .wui-font-tiny-400,\n  .wui-font-small-400,\n  .wui-font-medium-400,\n  .wui-font-paragraph-400 {\n    font-weight: var(--wui-font-weight-light);\n  }\n\n  .wui-font-large-700,\n  .wui-font-paragraph-700,\n  .wui-font-micro-700,\n  .wui-font-mini-700 {\n    font-weight: var(--wui-font-weight-bold);\n  }\n\n  .wui-font-medium-600,\n  .wui-font-medium-title-600,\n  .wui-font-title-6-600,\n  .wui-font-large-600,\n  .wui-font-paragraph-600,\n  .wui-font-small-600,\n  .wui-font-tiny-600,\n  .wui-font-micro-600 {\n    font-weight: var(--wui-font-weight-medium);\n  }\n\n  :host([disabled]) {\n    opacity: 0.4;\n  }\n"]))),Wq=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Fq=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).variant="paragraph-500",e.color="fg-300",e.align="left",e.lineClamp=void 0,e}return(0,_.Z)(n,[{key:"render",value:function(){var e,t=(e={},(0,T.Z)(e,"wui-font-".concat(this.variant),!0),(0,T.Z)(e,"wui-color-".concat(this.color),!0),(0,T.Z)(e,"wui-line-clamp-".concat(this.lineClamp),!!this.lineClamp),e);return this.style.cssText="\n      --local-align: ".concat(this.align,";\n      --local-color: var(--wui-color-").concat(this.color,");\n    "),jD(Ck||(Ck=w(["<slot class=","></slot>"])),qq(t))}}]),n}(rz);Fq.styles=[lz,Hq],Wq([fq()],Fq.prototype,"variant",void 0),Wq([fq()],Fq.prototype,"color",void 0),Wq([fq()],Fq.prototype,"align",void 0),Wq([fq()],Fq.prototype,"lineClamp",void 0),Fq=Wq([gz("wui-text")],Fq);var Vq=tD(Ek||(Ek=w(["\n  :host {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    overflow: hidden;\n    background-color: var(--wui-color-gray-glass-020);\n    border-radius: var(--local-border-radius);\n    border: var(--local-border);\n    box-sizing: content-box;\n    width: var(--local-size);\n    height: var(--local-size);\n    min-height: var(--local-size);\n    min-width: var(--local-size);\n  }\n\n  @supports (background: color-mix(in srgb, white 50%, black)) {\n    :host {\n      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);\n    }\n  }\n"]))),Kq=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Gq=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).size="md",e.backgroundColor="accent-100",e.iconColor="accent-100",e.background="transparent",e.border=!1,e.borderColor="wui-color-bg-125",e.icon="copy",e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this.iconSize||this.size,t="lg"===this.size,n="xl"===this.size,r=t?"12%":"16%",i=t?"xxs":n?"s":"3xl",o="gray"===this.background,a="opaque"===this.background,s="accent-100"===this.backgroundColor&&a||"success-100"===this.backgroundColor&&a||"error-100"===this.backgroundColor&&a||"inverse-100"===this.backgroundColor&&a,c="var(--wui-color-".concat(this.backgroundColor,")");return s?c="var(--wui-icon-box-bg-".concat(this.backgroundColor,")"):o&&(c="var(--wui-color-gray-".concat(this.backgroundColor,")")),this.style.cssText="\n       --local-bg-value: ".concat(c,";\n       --local-bg-mix: ").concat(s||o?"100%":r,";\n       --local-border-radius: var(--wui-border-radius-").concat(i,");\n       --local-size: var(--wui-icon-box-size-").concat(this.size,");\n       --local-border: ").concat("wui-color-bg-125"===this.borderColor?"2px":"1px"," solid ").concat(this.border?"var(--".concat(this.borderColor,")"):"transparent","\n   "),jD(Ik||(Ik=w([" <wui-icon color="," size="," name=","></wui-icon> "])),this.iconColor,e,this.icon)}}]),n}(rz);Gq.styles=[lz,dz,Vq],Kq([fq()],Gq.prototype,"size",void 0),Kq([fq()],Gq.prototype,"backgroundColor",void 0),Kq([fq()],Gq.prototype,"iconColor",void 0),Kq([fq()],Gq.prototype,"iconSize",void 0),Kq([fq()],Gq.prototype,"background",void 0),Kq([fq({type:Boolean})],Gq.prototype,"border",void 0),Kq([fq()],Gq.prototype,"borderColor",void 0),Kq([fq()],Gq.prototype,"icon",void 0),Gq=Kq([gz("wui-icon-box")],Gq);var $q=tD(Sk||(Sk=w(["\n  :host {\n    display: block;\n    width: var(--local-width);\n    height: var(--local-height);\n  }\n\n  img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    object-position: center center;\n    border-radius: inherit;\n  }\n"]))),Yq=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Jq=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).src="./path/to/image.jpg",e.alt="Image",e.size=void 0,e}return(0,_.Z)(n,[{key:"render",value:function(){return this.style.cssText="\n      --local-width: ".concat(this.size?"var(--wui-icon-size-".concat(this.size,");"):"100%",";\n      --local-height: ").concat(this.size?"var(--wui-icon-size-".concat(this.size,");"):"100%",";\n      "),jD(Ak||(Ak=w(["<img src="," alt="," @error="," />"])),this.src,this.alt,this.handleImageError)}},{key:"handleImageError",value:function(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}}]),n}(rz);Jq.styles=[lz,fz,$q],Yq([fq()],Jq.prototype,"src",void 0),Yq([fq()],Jq.prototype,"alt",void 0),Yq([fq()],Jq.prototype,"size",void 0),Jq=Yq([gz("wui-image")],Jq);var Xq=tD(Pk||(Pk=w(["\n  :host {\n    position: relative;\n    background-color: var(--wui-color-gray-glass-002);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: var(--local-size);\n    height: var(--local-size);\n    border-radius: inherit;\n    border-radius: var(--local-border-radius);\n  }\n\n  :host > wui-flex {\n    overflow: hidden;\n    border-radius: inherit;\n    border-radius: var(--local-border-radius);\n  }\n\n  :host::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: inherit;\n    border: 1px solid var(--wui-color-gray-glass-010);\n    pointer-events: none;\n  }\n\n  :host([name='Extension'])::after {\n    border: 1px solid var(--wui-color-accent-glass-010);\n  }\n\n  :host([data-wallet-icon='allWallets']) {\n    background-color: var(--wui-all-wallets-bg-100);\n  }\n\n  :host([data-wallet-icon='allWallets'])::after {\n    border: 1px solid var(--wui-color-accent-glass-010);\n  }\n\n  wui-icon[data-parent-size='inherit'] {\n    width: 75%;\n    height: 75%;\n    align-items: center;\n  }\n\n  wui-icon[data-parent-size='sm'] {\n    width: 18px;\n    height: 18px;\n  }\n\n  wui-icon[data-parent-size='md'] {\n    width: 24px;\n    height: 24px;\n  }\n\n  wui-icon[data-parent-size='lg'] {\n    width: 42px;\n    height: 42px;\n  }\n\n  wui-icon[data-parent-size='full'] {\n    width: 100%;\n    height: 100%;\n  }\n\n  :host > wui-icon-box {\n    position: absolute;\n    overflow: hidden;\n    right: -1px;\n    bottom: -2px;\n    z-index: 1;\n    border: 2px solid var(--wui-color-bg-150, #1e1f1f);\n    padding: 1px;\n  }\n"]))),Qq=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},eH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).size="md",e.name="",e.installed=!1,e.badgeSize="xs",e}return(0,_.Z)(n,[{key:"render",value:function(){var e="xxs";return e="lg"===this.size?"m":"md"===this.size?"xs":"xxs",this.style.cssText="\n       --local-border-radius: var(--wui-border-radius-".concat(e,");\n       --local-size: var(--wui-wallet-image-size-").concat(this.size,");\n   "),this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),jD(Ok||(Ok=w(['\n      <wui-flex justifyContent="center" alignItems="center"> '," </wui-flex>\n    "])),this.templateVisual())}},{key:"templateVisual",value:function(){return this.imageSrc?jD(_k||(_k=w(["<wui-image src="," alt=","></wui-image>"])),this.imageSrc,this.name):this.walletIcon?jD(Nk||(Nk=w(['<wui-icon\n        data-parent-size="md"\n        size="md"\n        color="inherit"\n        name=',"\n      ></wui-icon>"])),this.walletIcon):jD(Tk||(Tk=w(["<wui-icon\n      data-parent-size=",'\n      size="inherit"\n      color="inherit"\n      name="walletPlaceholder"\n    ></wui-icon>'])),this.size)}}]),n}(rz);eH.styles=[dz,lz,Xq],Qq([fq()],eH.prototype,"size",void 0),Qq([fq()],eH.prototype,"name",void 0),Qq([fq()],eH.prototype,"imageSrc",void 0),Qq([fq()],eH.prototype,"walletIcon",void 0),Qq([fq({type:Boolean})],eH.prototype,"installed",void 0),Qq([fq()],eH.prototype,"badgeSize",void 0),eH=Qq([gz("wui-wallet-image")],eH);var tH=tD(Rk||(Rk=w(["\n  :host {\n    position: relative;\n    border-radius: var(--wui-border-radius-xxs);\n    width: 40px;\n    height: 40px;\n    overflow: hidden;\n    background: var(--wui-color-gray-glass-002);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: var(--wui-spacing-4xs);\n    padding: 3.75px !important;\n  }\n\n  :host::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: inherit;\n    border: 1px solid var(--wui-color-gray-glass-010);\n    pointer-events: none;\n  }\n\n  :host > wui-wallet-image {\n    width: 14px;\n    height: 14px;\n    border-radius: var(--wui-border-radius-5xs);\n  }\n\n  :host > wui-flex {\n    padding: 2px;\n    position: fixed;\n    overflow: hidden;\n    left: 34px;\n    bottom: 8px;\n    background: var(--dark-background-150, #1e1f1f);\n    border-radius: 50%;\n    z-index: 2;\n    display: flex;\n  }\n"]))),nH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},rH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).walletImages=[],e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this.walletImages.length<4;return jD(Lk||(Lk=w(["","\n      ",'\n      <wui-flex>\n        <wui-icon-box\n          size="xxs"\n          iconSize="xxs"\n          iconcolor="success-100"\n          backgroundcolor="success-100"\n          icon="checkmark"\n          background="opaque"\n        ></wui-icon-box>\n      </wui-flex>'])),this.walletImages.slice(0,4).map((function(e){var t=e.src,n=e.walletName;return jD(Bk||(Bk=w(['\n            <wui-wallet-image\n              size="inherit"\n              imageSrc=',"\n              name=","\n            ></wui-wallet-image>\n          "])),t,wq(n))})),e?(0,N.Z)(Array(4-this.walletImages.length)).map((function(){return jD(Uk||(Uk=w([' <wui-wallet-image size="inherit" name=""></wui-wallet-image>'])))})):null)}}]),n}(rz);rH.styles=[lz,tH],nH([fq({type:Array})],rH.prototype,"walletImages",void 0),rH=nH([gz("wui-all-wallets-image")],rH);var iH=tD(Mk||(Mk=w(["\n  :host {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: var(--wui-spacing-m);\n    padding: 0 var(--wui-spacing-3xs) !important;\n    border-radius: var(--wui-border-radius-5xs);\n    transition:\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius, background-color;\n  }\n\n  :host > wui-text {\n    transform: translateY(5%);\n  }\n\n  :host([data-variant='main']) {\n    background-color: var(--wui-color-accent-glass-015);\n    color: var(--wui-color-accent-100);\n  }\n\n  :host([data-variant='shade']) {\n    background-color: var(--wui-color-gray-glass-010);\n    color: var(--wui-color-fg-200);\n  }\n\n  :host([data-variant='success']) {\n    background-color: var(--wui-icon-box-bg-success-100);\n    color: var(--wui-color-success-100);\n  }\n\n  :host([data-variant='error']) {\n    background-color: var(--wui-icon-box-bg-error-100);\n    color: var(--wui-color-error-100);\n  }\n\n  :host([data-size='lg']) {\n    padding: 11px 5px !important;\n  }\n\n  :host([data-size='lg']) > wui-text {\n    transform: translateY(2%);\n  }\n"]))),oH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},aH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).variant="main",e.size="lg",e}return(0,_.Z)(n,[{key:"render",value:function(){this.dataset.variant=this.variant,this.dataset.size=this.size;var e="md"===this.size?"mini-700":"micro-700";return jD(jk||(jk=w(["\n      <wui-text data-variant="," variant=",' color="inherit">\n        <slot></slot>\n      </wui-text>\n    '])),this.variant,e)}}]),n}(rz);aH.styles=[lz,iH],oH([fq()],aH.prototype,"variant",void 0),oH([fq()],aH.prototype,"size",void 0),aH=oH([gz("wui-tag")],aH);var sH=tD(Dk||(Dk=w(["\n  button {\n    column-gap: var(--wui-spacing-s);\n    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);\n    width: 100%;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-xs);\n    color: var(--wui-color-fg-100);\n  }\n\n  button > wui-text:nth-child(2) {\n    display: flex;\n    flex: 1;\n  }\n\n  button:disabled {\n    background-color: var(--wui-color-gray-glass-015);\n    color: var(--wui-color-gray-glass-015);\n  }\n\n  button:disabled > wui-tag {\n    background-color: var(--wui-color-gray-glass-010);\n    color: var(--wui-color-fg-300);\n  }\n\n  wui-icon {\n    color: var(--wui-color-fg-200) !important;\n  }\n"]))),cH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},uH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).walletImages=[],e.imageSrc="",e.name="",e.tabIdx=void 0,e.installed=!1,e.disabled=!1,e.showAllWallets=!1,e.loading=!1,e.loadingSpinnerColor="accent-100",e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(zk||(zk=w(["\n      <button ?disabled="," tabindex=",">\n        "," ",'\n        <wui-text variant="paragraph-500" color="inherit">',"</wui-text>\n        ","\n      </button>\n    "])),this.disabled,wq(this.tabIdx),this.templateAllWallets(),this.templateWalletImage(),this.name,this.templateStatus())}},{key:"templateAllWallets",value:function(){return this.showAllWallets&&this.imageSrc?jD(qk||(qk=w([" <wui-all-wallets-image .imageeSrc=","> </wui-all-wallets-image> "])),this.imageSrc):this.showAllWallets&&this.walletIcon?jD(Hk||(Hk=w([" <wui-wallet-image .walletIcon=",' size="sm"> </wui-wallet-image> '])),this.walletIcon):null}},{key:"templateWalletImage",value:function(){return!this.showAllWallets&&this.imageSrc?jD(Wk||(Wk=w(['<wui-wallet-image\n        size="sm"\n        imageSrc=',"\n        name=","\n        .installed=","\n      ></wui-wallet-image>"])),this.imageSrc,this.name,this.installed):this.showAllWallets||this.imageSrc?null:jD(Fk||(Fk=w(['<wui-wallet-image size="sm" name=',"></wui-wallet-image>"])),this.name)}},{key:"templateStatus",value:function(){return this.loading?jD(Vk||(Vk=w(['<wui-loading-spinner\n        size="lg"\n        color=',"\n      ></wui-loading-spinner>"])),this.loadingSpinnerColor):this.tagLabel&&this.tagVariant?jD(Kk||(Kk=w(["<wui-tag variant=",">","</wui-tag>"])),this.tagVariant,this.tagLabel):this.icon?jD(Gk||(Gk=w(['<wui-icon color="inherit" size="sm" name=',"></wui-icon>"])),this.icon):null}}]),n}(rz);uH.styles=[lz,dz,sH],cH([fq({type:Array})],uH.prototype,"walletImages",void 0),cH([fq()],uH.prototype,"imageSrc",void 0),cH([fq()],uH.prototype,"name",void 0),cH([fq()],uH.prototype,"tagLabel",void 0),cH([fq()],uH.prototype,"tagVariant",void 0),cH([fq()],uH.prototype,"icon",void 0),cH([fq()],uH.prototype,"walletIcon",void 0),cH([fq()],uH.prototype,"tabIdx",void 0),cH([fq({type:Boolean})],uH.prototype,"installed",void 0),cH([fq({type:Boolean})],uH.prototype,"disabled",void 0),cH([fq({type:Boolean})],uH.prototype,"showAllWallets",void 0),cH([fq({type:Boolean})],uH.prototype,"loading",void 0),cH([fq({type:String})],uH.prototype,"loadingSpinnerColor",void 0),uH=cH([gz("wui-list-wallet")],uH);var lH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},dH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.tabIdx=void 0,e.connectors=q_.state.connectors,e.count=L_.state.count,e.isFetchingRecommendedWallets=L_.state.isFetchingRecommendedWallets,e.unsubscribe.push(q_.subscribeKey("connectors",(function(t){return e.connectors=t})),L_.subscribeKey("count",(function(t){return e.count=t})),L_.subscribeKey("isFetchingRecommendedWallets",(function(t){return e.isFetchingRecommendedWallets=t}))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){var e=this.connectors.find((function(e){return"walletConnect"===e.id})),t=Z_.state.allWallets;if(!e||"HIDE"===t||"ONLY_MOBILE"===t&&!d_.isMobile())return null;var n=L_.state.featured.length,r=this.count+n,i=r<10?r:10*Math.floor(r/10),o=i<r?"".concat(i,"+"):"".concat(i);return jD($k||($k=w(['\n      <wui-list-wallet\n        name="All Wallets"\n        walletIcon="allWallets"\n        showAllWallets\n        @click=',"\n        tagLabel=",'\n        tagVariant="shade"\n        data-testid="all-wallets"\n        tabIdx=',"\n        .loading=","\n        loadingSpinnerColor=","\n      ></wui-list-wallet>\n    "])),this.onAllWallets.bind(this),o,wq(this.tabIdx),this.isFetchingRecommendedWallets,this.isFetchingRecommendedWallets?"fg-300":"accent-100")}},{key:"onAllWallets",value:function(){O_.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),U_.push("AllWallets")}}]),n}(rz);lH([fq()],dH.prototype,"tabIdx",void 0),lH([pq()],dH.prototype,"connectors",void 0),lH([pq()],dH.prototype,"count",void 0),lH([pq()],dH.prototype,"isFetchingRecommendedWallets",void 0),dH=lH([gz("w3m-all-wallets-widget")],dH);var fH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},pH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.tabIdx=void 0,e.connectors=q_.state.connectors,e.unsubscribe.push(q_.subscribeKey("connectors",(function(t){return e.connectors=t}))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){var e=this,t=this.connectors.filter((function(e){return"ANNOUNCED"===e.type}));return null!==t&&void 0!==t&&t.length?jD(Yk||(Yk=w(['\n      <wui-flex flexDirection="column" gap="xs">\n        ',"\n      </wui-flex>\n    "])),t.filter(Gj.showConnector).map((function(t){var n;return jD(Jk||(Jk=w(["\n              <wui-list-wallet\n                imageSrc=","\n                name=","\n                @click=",'\n                tagVariant="success"\n                tagLabel="installed"\n                data-testid=',"\n                .installed=","\n                tabIdx=","\n              >\n              </wui-list-wallet>\n            "])),wq(y_.getConnectorImage(t)),null!==(n=t.name)&&void 0!==n?n:"Unknown",(function(){return e.onConnector(t)}),"wallet-selector-".concat(t.id),!0,wq(e.tabIdx))}))):(this.style.cssText="display: none",null)}},{key:"onConnector",value:function(e){"walletConnect"===e.id?d_.isMobile()?U_.push("AllWallets"):U_.push("ConnectingWalletConnect"):U_.push("ConnectingExternal",{connector:e})}}]),n}(rz);fH([fq()],pH.prototype,"tabIdx",void 0),fH([pq()],pH.prototype,"connectors",void 0),pH=fH([gz("w3m-connect-announced-widget")],pH);var hH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},vH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.tabIdx=void 0,e.connectors=q_.state.connectors,e.loading=!1,e.unsubscribe.push(q_.subscribeKey("connectors",(function(t){return e.connectors=t}))),d_.isTelegram()&&d_.isIos()&&(e.loading=!eN.state.wcUri,e.unsubscribe.push(eN.subscribeKey("wcUri",(function(t){return e.loading=!t})))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){var e=this,t=Z_.state.customWallets;if(null===t||void 0===t||!t.length)return this.style.cssText="display: none",null;var n=this.filterOutDuplicateWallets(t);return jD(Xk||(Xk=w(['<wui-flex flexDirection="column" gap="xs">\n      ',"\n    </wui-flex>"])),n.map((function(t){var n;return jD(Qk||(Qk=w(["\n          <wui-list-wallet\n            imageSrc=","\n            name=","\n            @click=","\n            data-testid=","\n            tabIdx=","\n            ?loading=","\n          >\n          </wui-list-wallet>\n        "])),wq(y_.getWalletImage(t)),null!==(n=t.name)&&void 0!==n?n:"Unknown",(function(){return e.onConnectWallet(t)}),"wallet-selector-".concat(t.id),wq(e.tabIdx),e.loading)})))}},{key:"filterOutDuplicateWallets",value:function(e){var t=l_.getRecentWallets(),n=this.connectors.map((function(e){var t;return null===(t=e.info)||void 0===t?void 0:t.rdns})).filter(Boolean),r=t.map((function(e){return e.rdns})).filter(Boolean),i=n.concat(r);if(i.includes("io.metamask.mobile")&&d_.isMobile()){var o=i.indexOf("io.metamask.mobile");i[o]="io.metamask"}return e.filter((function(e){return!i.includes(String(null===e||void 0===e?void 0:e.rdns))}))}},{key:"onConnectWallet",value:function(e){this.loading||U_.push("ConnectingWalletConnect",{wallet:e})}}]),n}(rz);hH([fq()],vH.prototype,"tabIdx",void 0),hH([pq()],vH.prototype,"connectors",void 0),hH([pq()],vH.prototype,"loading",void 0),vH=hH([gz("w3m-connect-custom-widget")],vH);var gH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},wH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.tabIdx=void 0,e.connectors=q_.state.connectors,e.unsubscribe.push(q_.subscribeKey("connectors",(function(t){return e.connectors=t}))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){var e=this,t=this.connectors.filter((function(e){return"EXTERNAL"===e.type})).filter(Gj.showConnector).filter((function(e){return e.id!==ZO.CONNECTOR_ID.COINBASE_SDK}));return null!==t&&void 0!==t&&t.length?jD(eZ||(eZ=w(['\n      <wui-flex flexDirection="column" gap="xs">\n        ',"\n      </wui-flex>\n    "])),t.map((function(t){var n;return jD(tZ||(tZ=w(["\n            <wui-list-wallet\n              imageSrc=","\n              .installed=","\n              name=","\n              data-testid=","\n              @click=","\n              tabIdx=","\n            >\n            </wui-list-wallet>\n          "])),wq(y_.getConnectorImage(t)),!0,null!==(n=t.name)&&void 0!==n?n:"Unknown","wallet-selector-external-".concat(t.id),(function(){return e.onConnector(t)}),wq(e.tabIdx))}))):(this.style.cssText="display: none",null)}},{key:"onConnector",value:function(e){U_.push("ConnectingExternal",{connector:e})}}]),n}(rz);gH([fq()],wH.prototype,"tabIdx",void 0),gH([pq()],wH.prototype,"connectors",void 0),wH=gH([gz("w3m-connect-external-widget")],wH);var mH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).tabIdx=void 0,e.wallets=[],e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this;return this.wallets.length?jD(nZ||(nZ=w(['\n      <wui-flex flexDirection="column" gap="xs">\n        ',"\n      </wui-flex>\n    "])),this.wallets.map((function(t){var n;return jD(rZ||(rZ=w(["\n            <wui-list-wallet\n              data-testid=","\n              imageSrc=","\n              name=","\n              @click=","\n              tabIdx=","\n            >\n            </wui-list-wallet>\n          "])),"wallet-selector-featured-".concat(t.id),wq(y_.getWalletImage(t)),null!==(n=t.name)&&void 0!==n?n:"Unknown",(function(){return e.onConnectWallet(t)}),wq(e.tabIdx))}))):(this.style.cssText="display: none",null)}},{key:"onConnectWallet",value:function(e){q_.selectWalletConnector(e)}}]),n}(rz);mH([fq()],bH.prototype,"tabIdx",void 0),mH([fq()],bH.prototype,"wallets",void 0),bH=mH([gz("w3m-connect-featured-widget")],bH);var yH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},xH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).tabIdx=void 0,e.connectors=[],e}return(0,_.Z)(n,[{key:"render",value:function(){var e,t=this,n=this.connectors;return null===n||void 0===n||!n.length||1===n.length&&"Browser Wallet"===(null===(e=n[0])||void 0===e?void 0:e.name)&&!d_.isMobile()?(this.style.cssText="display: none",null):jD(iZ||(iZ=w(['\n      <wui-flex flexDirection="column" gap="xs">\n        ',"\n      </wui-flex>\n    "])),n.map((function(e){var n,r,i=null===(n=e.info)||void 0===n?void 0:n.rdns;return d_.isMobile()||"Browser Wallet"!==e.name?i||eN.checkInstalled()?Gj.showConnector(e)?jD(oZ||(oZ=w(["\n            <wui-list-wallet\n              imageSrc=","\n              .installed=","\n              name=",'\n              tagVariant="success"\n              tagLabel="installed"\n              data-testid=',"\n              @click=","\n              tabIdx=","\n            >\n            </wui-list-wallet>\n          "])),wq(y_.getConnectorImage(e)),!0,null!==(r=e.name)&&void 0!==r?r:"Unknown","wallet-selector-".concat(e.id),(function(){return t.onConnector(e)}),wq(t.tabIdx)):null:(t.style.cssText="display: none",null):null})))}},{key:"onConnector",value:function(e){q_.setActiveConnector(e),U_.push("ConnectingExternal",{connector:e})}}]),n}(rz);yH([fq()],xH.prototype,"tabIdx",void 0),yH([fq()],xH.prototype,"connectors",void 0),xH=yH([gz("w3m-connect-injected-widget")],xH);var kH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ZH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.tabIdx=void 0,e.connectors=q_.state.connectors,e.unsubscribe.push(q_.subscribeKey("connectors",(function(t){return e.connectors=t}))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){var e=this,t=this.connectors.filter((function(e){return"MULTI_CHAIN"===e.type&&"WalletConnect"!==e.name}));return null!==t&&void 0!==t&&t.length?jD(aZ||(aZ=w(['\n      <wui-flex flexDirection="column" gap="xs">\n        ',"\n      </wui-flex>\n    "])),t.map((function(t){var n;return jD(sZ||(sZ=w(["\n            <wui-list-wallet\n              imageSrc=","\n              .installed=","\n              name=",'\n              tagVariant="shade"\n              tagLabel="multichain"\n              data-testid=',"\n              @click=","\n              tabIdx=","\n            >\n            </wui-list-wallet>\n          "])),wq(y_.getConnectorImage(t)),!0,null!==(n=t.name)&&void 0!==n?n:"Unknown","wallet-selector-".concat(t.id),(function(){return e.onConnector(t)}),wq(e.tabIdx))}))):(this.style.cssText="display: none",null)}},{key:"onConnector",value:function(e){q_.setActiveConnector(e),U_.push("ConnectingMultiChain")}}]),n}(rz);kH([fq()],ZH.prototype,"tabIdx",void 0),kH([pq()],ZH.prototype,"connectors",void 0),ZH=kH([gz("w3m-connect-multi-chain-widget")],ZH);var CH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},EH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.tabIdx=void 0,e.connectors=q_.state.connectors,e.loading=!1,e.unsubscribe.push(q_.subscribeKey("connectors",(function(t){return e.connectors=t}))),d_.isTelegram()&&d_.isIos()&&(e.loading=!eN.state.wcUri,e.unsubscribe.push(eN.subscribeKey("wcUri",(function(t){return e.loading=!t})))),e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this,t=l_.getRecentWallets().filter((function(e){return!Kj.isExcluded(e)})).filter((function(t){return!e.hasWalletConnector(t)})).filter((function(t){return e.isWalletCompatibleWithCurrentChain(t)}));return t.length?jD(cZ||(cZ=w(['\n      <wui-flex flexDirection="column" gap="xs">\n        ',"\n      </wui-flex>\n    "])),t.map((function(t){var n;return jD(uZ||(uZ=w(["\n            <wui-list-wallet\n              imageSrc=","\n              name=","\n              @click=",'\n              tagLabel="recent"\n              tagVariant="shade"\n              tabIdx=',"\n              ?loading=","\n            >\n            </wui-list-wallet>\n          "])),wq(y_.getWalletImage(t)),null!==(n=t.name)&&void 0!==n?n:"Unknown",(function(){return e.onConnectWallet(t)}),wq(e.tabIdx),e.loading)}))):(this.style.cssText="display: none",null)}},{key:"onConnectWallet",value:function(e){this.loading||q_.selectWalletConnector(e)}},{key:"hasWalletConnector",value:function(e){return this.connectors.some((function(t){return t.id===e.id||t.name===e.name}))}},{key:"isWalletCompatibleWithCurrentChain",value:function(e){var t=xM.state.activeChain;return!t||!e.chains||e.chains.some((function(e){var n=e.split(":")[0];return t===n}))}}]),n}(rz);CH([fq()],EH.prototype,"tabIdx",void 0),CH([pq()],EH.prototype,"connectors",void 0),CH([pq()],EH.prototype,"loading",void 0),EH=CH([gz("w3m-connect-recent-widget")],EH);var IH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},SH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.tabIdx=void 0,e.wallets=[],e.loading=!1,d_.isTelegram()&&d_.isIos()&&(e.loading=!eN.state.wcUri,e.unsubscribe.push(eN.subscribeKey("wcUri",(function(t){return e.loading=!t})))),e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this,t=q_.state.connectors,n=Z_.state,r=n.customWallets,i=n.featuredWalletIds,o=l_.getRecentWallets(),a=t.find((function(e){return"walletConnect"===e.id})),s=t.filter((function(e){return"INJECTED"===e.type||"ANNOUNCED"===e.type||"MULTI_CHAIN"===e.type})).filter((function(e){return"Browser Wallet"!==e.name}));if(!a)return null;if(i||r||!this.wallets.length)return this.style.cssText="display: none",null;var c=s.length+o.length,u=Math.max(0,2-c),l=Kj.filterOutDuplicateWallets(this.wallets).slice(0,u);return l.length?jD(lZ||(lZ=w(['\n      <wui-flex flexDirection="column" gap="xs">\n        ',"\n      </wui-flex>\n    "])),l.map((function(t){var n;return jD(dZ||(dZ=w(["\n            <wui-list-wallet\n              imageSrc=","\n              name=","\n              @click=","\n              tabIdx=","\n              ?loading=","\n            >\n            </wui-list-wallet>\n          "])),wq(y_.getWalletImage(t)),null!==(n=null===t||void 0===t?void 0:t.name)&&void 0!==n?n:"Unknown",(function(){return e.onConnectWallet(t)}),wq(e.tabIdx),e.loading)}))):(this.style.cssText="display: none",null)}},{key:"onConnectWallet",value:function(e){if(!this.loading){var t=q_.getConnector(e.id,e.rdns);t?U_.push("ConnectingExternal",{connector:t}):U_.push("ConnectingWalletConnect",{wallet:e})}}}]),n}(rz);IH([fq()],SH.prototype,"tabIdx",void 0),IH([fq()],SH.prototype,"wallets",void 0),IH([pq()],SH.prototype,"loading",void 0),SH=IH([gz("w3m-connect-recommended-widget")],SH);var AH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},PH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.tabIdx=void 0,e.connectors=q_.state.connectors,e.connectorImages=w_.state.connectorImages,e.unsubscribe.push(q_.subscribeKey("connectors",(function(t){return e.connectors=t})),w_.subscribeKey("connectorImages",(function(t){return e.connectorImages=t}))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){var e,t,n=this;if(d_.isMobile())return this.style.cssText="display: none",null;var r=this.connectors.find((function(e){return"walletConnect"===e.id}));if(!r)return this.style.cssText="display: none",null;var i=r.imageUrl||this.connectorImages[null!==(e=null===r||void 0===r?void 0:r.imageId)&&void 0!==e?e:""];return jD(fZ||(fZ=w(["\n      <wui-list-wallet\n        imageSrc=","\n        name=","\n        @click=",'\n        tagLabel="qr code"\n        tagVariant="main"\n        tabIdx=','\n        data-testid="wallet-selector-walletconnect"\n      >\n      </wui-list-wallet>\n    '])),wq(i),null!==(t=r.name)&&void 0!==t?t:"Unknown",(function(){return n.onConnector(r)}),wq(this.tabIdx))}},{key:"onConnector",value:function(e){q_.setActiveConnector(e),U_.push("ConnectingWalletConnect")}}]),n}(rz);AH([fq()],PH.prototype,"tabIdx",void 0),AH([pq()],PH.prototype,"connectors",void 0),AH([pq()],PH.prototype,"connectorImages",void 0),PH=AH([gz("w3m-connect-walletconnect-widget")],PH);var OH=tD(pZ||(pZ=w(["\n  :host {\n    margin-top: var(--wui-spacing-3xs);\n  }\n  wui-separator {\n    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)\n      calc(var(--wui-spacing-m) * -1);\n    width: calc(100% + var(--wui-spacing-s) * 2);\n  }\n"]))),_H=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},NH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.tabIdx=void 0,e.connectors=q_.state.connectors,e.recommended=L_.state.recommended,e.featured=L_.state.featured,e.unsubscribe.push(q_.subscribeKey("connectors",(function(t){return e.connectors=t})),L_.subscribeKey("recommended",(function(t){return e.recommended=t})),L_.subscribeKey("featured",(function(t){return e.featured=t}))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){return jD(hZ||(hZ=w(['\n      <wui-flex flexDirection="column" gap="xs"> '," </wui-flex>\n    "])),this.connectorListTemplate())}},{key:"connectorListTemplate",value:function(){var e=this,t=Gj.getConnectorsByType(this.connectors,this.recommended,this.featured),n=t.custom,r=t.recent,i=t.announced,o=t.injected,a=t.multiChain,s=t.recommended,c=t.featured,u=t.external;return Gj.getConnectorTypeOrder({custom:n,recent:r,announced:i,injected:o,multiChain:a,recommended:s,featured:c,external:u}).map((function(t){switch(t){case"injected":return jD(vZ||(vZ=w(["\n            ","\n            ","\n            ","\n          "])),a.length?jD(gZ||(gZ=w(["<w3m-connect-multi-chain-widget\n                  tabIdx=","\n                ></w3m-connect-multi-chain-widget>"])),wq(e.tabIdx)):null,i.length?jD(wZ||(wZ=w(["<w3m-connect-announced-widget\n                  tabIdx=","\n                ></w3m-connect-announced-widget>"])),wq(e.tabIdx)):null,o.length?jD(mZ||(mZ=w(["<w3m-connect-injected-widget\n                  .connectors=","\n                  tabIdx=","\n                ></w3m-connect-injected-widget>"])),o,wq(e.tabIdx)):null);case"walletConnect":return jD(bZ||(bZ=w(["<w3m-connect-walletconnect-widget\n            tabIdx=","\n          ></w3m-connect-walletconnect-widget>"])),wq(e.tabIdx));case"recent":return jD(yZ||(yZ=w(["<w3m-connect-recent-widget\n            tabIdx=","\n          ></w3m-connect-recent-widget>"])),wq(e.tabIdx));case"featured":return jD(xZ||(xZ=w(["<w3m-connect-featured-widget\n            .wallets=","\n            tabIdx=","\n          ></w3m-connect-featured-widget>"])),c,wq(e.tabIdx));case"custom":return jD(kZ||(kZ=w(["<w3m-connect-custom-widget\n            tabIdx=","\n          ></w3m-connect-custom-widget>"])),wq(e.tabIdx));case"external":return jD(ZZ||(ZZ=w(["<w3m-connect-external-widget\n            tabIdx=","\n          ></w3m-connect-external-widget>"])),wq(e.tabIdx));case"recommended":return jD(CZ||(CZ=w(["<w3m-connect-recommended-widget\n            .wallets=","\n            tabIdx=","\n          ></w3m-connect-recommended-widget>"])),s,wq(e.tabIdx));default:return console.warn("Unknown connector type: ".concat(t)),null}}))}}]),n}(rz);NH.styles=OH,_H([fq()],NH.prototype,"tabIdx",void 0),_H([pq()],NH.prototype,"connectors",void 0),_H([pq()],NH.prototype,"recommended",void 0),_H([pq()],NH.prototype,"featured",void 0),NH=_H([gz("w3m-connector-list")],NH);var TH=tD(EZ||(EZ=w(["\n  :host {\n    display: inline-flex;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-3xl);\n    padding: var(--wui-spacing-3xs);\n    position: relative;\n    height: 36px;\n    min-height: 36px;\n    overflow: hidden;\n  }\n\n  :host::before {\n    content: '';\n    position: absolute;\n    pointer-events: none;\n    top: 4px;\n    left: 4px;\n    display: block;\n    width: var(--local-tab-width);\n    height: 28px;\n    border-radius: var(--wui-border-radius-3xl);\n    background-color: var(--wui-color-gray-glass-002);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));\n    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: background-color, opacity;\n  }\n\n  :host([data-type='flex'])::before {\n    left: 3px;\n    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));\n  }\n\n  :host([data-type='flex']) {\n    display: flex;\n    padding: 0px 0px 0px 12px;\n    gap: 4px;\n  }\n\n  :host([data-type='flex']) > button > wui-text {\n    position: absolute;\n    left: 18px;\n    opacity: 0;\n  }\n\n  button[data-active='true'] > wui-icon,\n  button[data-active='true'] > wui-text {\n    color: var(--wui-color-fg-100);\n  }\n\n  button[data-active='false'] > wui-icon,\n  button[data-active='false'] > wui-text {\n    color: var(--wui-color-fg-200);\n  }\n\n  button[data-active='true']:disabled,\n  button[data-active='false']:disabled {\n    background-color: transparent;\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  button[data-active='true']:disabled > wui-text {\n    color: var(--wui-color-fg-200);\n  }\n\n  button[data-active='false']:disabled > wui-text {\n    color: var(--wui-color-fg-300);\n  }\n\n  button > wui-icon,\n  button > wui-text {\n    pointer-events: none;\n    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);\n    will-change: color;\n  }\n\n  button {\n    width: var(--local-tab-width);\n    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: background-color;\n  }\n\n  :host([data-type='flex']) > button {\n    width: 34px;\n    position: relative;\n    display: flex;\n    justify-content: flex-start;\n  }\n\n  button:hover:enabled,\n  button:active:enabled {\n    background-color: transparent !important;\n  }\n\n  button:hover:enabled > wui-icon,\n  button:active:enabled > wui-icon {\n    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);\n    color: var(--wui-color-fg-125);\n  }\n\n  button:hover:enabled > wui-text,\n  button:active:enabled > wui-text {\n    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);\n    color: var(--wui-color-fg-125);\n  }\n\n  button {\n    border-radius: var(--wui-border-radius-3xl);\n  }\n"]))),RH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},LH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).tabs=[],e.onTabChange=function(){return null},e.buttons=[],e.disabled=!1,e.localTabWidth="100px",e.activeTab=0,e.isDense=!1,e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this;return this.isDense=this.tabs.length>3,this.style.cssText="\n      --local-tab: ".concat(this.activeTab,";\n      --local-tab-width: ").concat(this.localTabWidth,";\n    "),this.dataset.type=this.isDense?"flex":"block",this.tabs.map((function(t,n){var r,i=n===e.activeTab;return jD(IZ||(IZ=w(["\n        <button\n          ?disabled=","\n          @click=","\n          data-active=",'\n          data-testid="tab-','"\n        >\n          ','\n          <wui-text variant="small-600" color="inherit"> '," </wui-text>\n        </button>\n      "])),e.disabled,(function(){return e.onTabClick(n)}),i,null===(r=t.label)||void 0===r?void 0:r.toLowerCase(),e.iconTemplate(t),t.label)}))}},{key:"firstUpdated",value:function(){var e=this;this.shadowRoot&&this.isDense&&(this.buttons=(0,N.Z)(this.shadowRoot.querySelectorAll("button")),setTimeout((function(){e.animateTabs(0,!0)}),0))}},{key:"iconTemplate",value:function(e){return e.icon?jD(SZ||(SZ=w(['<wui-icon size="xs" color="inherit" name=',"></wui-icon>"])),e.icon):null}},{key:"onTabClick",value:function(e){this.buttons&&this.animateTabs(e,!1),this.activeTab=e,this.onTabChange(e)}},{key:"animateTabs",value:function(e,t){var n=this.buttons[this.activeTab],r=this.buttons[e],i=null===n||void 0===n?void 0:n.querySelector("wui-text"),o=null===r||void 0===r?void 0:r.querySelector("wui-text"),a=null===r||void 0===r?void 0:r.getBoundingClientRect(),s=null===o||void 0===o?void 0:o.getBoundingClientRect();n&&i&&!t&&e!==this.activeTab&&(i.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),n.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),r&&a&&s&&o&&(e!==this.activeTab||t)&&(this.localTabWidth="".concat(Math.round(a.width+s.width)+6,"px"),r.animate([{width:"".concat(a.width+s.width,"px")}],{duration:t?0:500,fill:"forwards",easing:"ease"}),o.animate([{opacity:1}],{duration:t?0:125,delay:t?0:200,fill:"forwards",easing:"ease"}))}}]),n}(rz);LH.styles=[lz,dz,TH],RH([fq({type:Array})],LH.prototype,"tabs",void 0),RH([fq()],LH.prototype,"onTabChange",void 0),RH([fq({type:Array})],LH.prototype,"buttons",void 0),RH([fq({type:Boolean})],LH.prototype,"disabled",void 0),RH([fq()],LH.prototype,"localTabWidth",void 0),RH([pq()],LH.prototype,"activeTab",void 0),RH([pq()],LH.prototype,"isDense",void 0),LH=RH([gz("wui-tabs")],LH);var BH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},UH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).platformTabs=[],e.unsubscribe=[],e.platforms=[],e.onSelectPlatfrom=void 0,e.buffering=!1,e.unsubscribe.push(eN.subscribeKey("buffering",(function(t){return e.buffering=t}))),e}return(0,_.Z)(n,[{key:"disconnectCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){var e=this.generateTabs();return jD(AZ||(AZ=w(['\n      <wui-flex justifyContent="center" .padding=',">\n        <wui-tabs\n          ?disabled=","\n          .tabs=","\n          .onTabChange=","\n        ></wui-tabs>\n      </wui-flex>\n    "])),["0","0","l","0"],this.buffering,e,this.onTabChange.bind(this))}},{key:"generateTabs",value:function(){var e=this.platforms.map((function(e){return"browser"===e?{label:"Browser",icon:"extension",platform:"browser"}:"mobile"===e?{label:"Mobile",icon:"mobile",platform:"mobile"}:"qrcode"===e?{label:"Mobile",icon:"mobile",platform:"qrcode"}:"web"===e?{label:"Webapp",icon:"browser",platform:"web"}:"desktop"===e?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"}}));return this.platformTabs=e.map((function(e){return e.platform})),e}},{key:"onTabChange",value:function(e){var t,n=this.platformTabs[e];n&&(null===(t=this.onSelectPlatfrom)||void 0===t||t.call(this,n))}}]),n}(rz);BH([fq({type:Array})],UH.prototype,"platforms",void 0),BH([fq()],UH.prototype,"onSelectPlatfrom",void 0),BH([pq()],UH.prototype,"buffering",void 0),UH=BH([gz("w3m-connecting-header")],UH);var MH=tD(PZ||(PZ=w(["\n  :host {\n    display: flex;\n  }\n\n  :host([data-size='sm']) > svg {\n    width: 12px;\n    height: 12px;\n  }\n\n  :host([data-size='md']) > svg {\n    width: 16px;\n    height: 16px;\n  }\n\n  :host([data-size='lg']) > svg {\n    width: 24px;\n    height: 24px;\n  }\n\n  :host([data-size='xl']) > svg {\n    width: 32px;\n    height: 32px;\n  }\n\n  svg {\n    animation: rotate 2s linear infinite;\n  }\n\n  circle {\n    fill: none;\n    stroke: var(--local-color);\n    stroke-width: 4px;\n    stroke-dasharray: 1, 124;\n    stroke-dashoffset: 0;\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  :host([data-size='md']) > svg > circle {\n    stroke-width: 6px;\n  }\n\n  :host([data-size='sm']) > svg > circle {\n    stroke-width: 8px;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 124;\n      stroke-dashoffset: 0;\n    }\n\n    50% {\n      stroke-dasharray: 90, 124;\n      stroke-dashoffset: -35;\n    }\n\n    100% {\n      stroke-dashoffset: -125;\n    }\n  }\n"]))),jH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},DH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).color="accent-100",e.size="lg",e}return(0,_.Z)(n,[{key:"render",value:function(){return this.style.cssText="--local-color: ".concat("inherit"===this.color?"inherit":"var(--wui-color-".concat(this.color,")")),this.dataset.size=this.size,jD(OZ||(OZ=w(['<svg viewBox="25 25 50 50">\n      <circle r="20" cy="50" cx="50"></circle>\n    </svg>'])))}}]),n}(rz);DH.styles=[lz,MH],jH([fq()],DH.prototype,"color",void 0),jH([fq()],DH.prototype,"size",void 0),DH=jH([gz("wui-loading-spinner")],DH);var zH=tD(_Z||(_Z=w(["\n  :host {\n    width: var(--local-width);\n    position: relative;\n  }\n\n  button {\n    border: none;\n    border-radius: var(--local-border-radius);\n    width: var(--local-width);\n    white-space: nowrap;\n  }\n\n  /* -- Sizes --------------------------------------------------- */\n  button[data-size='md'] {\n    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);\n    height: 36px;\n  }\n\n  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {\n    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);\n  }\n\n  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {\n    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);\n  }\n\n  button[data-size='lg'] {\n    padding: var(--wui-spacing-m) var(--wui-spacing-2l);\n    height: 48px;\n  }\n\n  /* -- Variants --------------------------------------------------------- */\n  button[data-variant='main'] {\n    background-color: var(--wui-color-accent-100);\n    color: var(--wui-color-inverse-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-variant='inverse'] {\n    background-color: var(--wui-color-inverse-100);\n    color: var(--wui-color-inverse-000);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-variant='accent'] {\n    background-color: var(--wui-color-accent-glass-010);\n    color: var(--wui-color-accent-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);\n  }\n\n  button[data-variant='accent-error'] {\n    background: var(--wui-color-error-glass-015);\n    color: var(--wui-color-error-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);\n  }\n\n  button[data-variant='accent-success'] {\n    background: var(--wui-color-success-glass-015);\n    color: var(--wui-color-success-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);\n  }\n\n  button[data-variant='neutral'] {\n    background: transparent;\n    color: var(--wui-color-fg-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);\n  }\n\n  /* -- Focus states --------------------------------------------------- */\n  button[data-variant='main']:focus-visible:enabled {\n    background-color: var(--wui-color-accent-090);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0 0 0 4px var(--wui-color-accent-glass-020);\n  }\n  button[data-variant='inverse']:focus-visible:enabled {\n    background-color: var(--wui-color-inverse-100);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-gray-glass-010),\n      0 0 0 4px var(--wui-color-accent-glass-020);\n  }\n  button[data-variant='accent']:focus-visible:enabled {\n    background-color: var(--wui-color-accent-glass-010);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0 0 0 4px var(--wui-color-accent-glass-020);\n  }\n  button[data-variant='accent-error']:focus-visible:enabled {\n    background: var(--wui-color-error-glass-015);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-error-100),\n      0 0 0 4px var(--wui-color-error-glass-020);\n  }\n  button[data-variant='accent-success']:focus-visible:enabled {\n    background: var(--wui-color-success-glass-015);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-success-100),\n      0 0 0 4px var(--wui-color-success-glass-020);\n  }\n  button[data-variant='neutral']:focus-visible:enabled {\n    background: var(--wui-color-gray-glass-005);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-gray-glass-010),\n      0 0 0 4px var(--wui-color-gray-glass-002);\n  }\n\n  /* -- Hover & Active states ----------------------------------------------------------- */\n  @media (hover: hover) and (pointer: fine) {\n    button[data-variant='main']:hover:enabled {\n      background-color: var(--wui-color-accent-090);\n    }\n\n    button[data-variant='main']:active:enabled {\n      background-color: var(--wui-color-accent-080);\n    }\n\n    button[data-variant='accent']:hover:enabled {\n      background-color: var(--wui-color-accent-glass-015);\n    }\n\n    button[data-variant='accent']:active:enabled {\n      background-color: var(--wui-color-accent-glass-020);\n    }\n\n    button[data-variant='accent-error']:hover:enabled {\n      background: var(--wui-color-error-glass-020);\n      color: var(--wui-color-error-100);\n    }\n\n    button[data-variant='accent-error']:active:enabled {\n      background: var(--wui-color-error-glass-030);\n      color: var(--wui-color-error-100);\n    }\n\n    button[data-variant='accent-success']:hover:enabled {\n      background: var(--wui-color-success-glass-020);\n      color: var(--wui-color-success-100);\n    }\n\n    button[data-variant='accent-success']:active:enabled {\n      background: var(--wui-color-success-glass-030);\n      color: var(--wui-color-success-100);\n    }\n\n    button[data-variant='neutral']:hover:enabled {\n      background: var(--wui-color-gray-glass-002);\n    }\n\n    button[data-variant='neutral']:active:enabled {\n      background: var(--wui-color-gray-glass-005);\n    }\n\n    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {\n      padding-left: var(--wui-spacing-m);\n    }\n\n    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {\n      padding-right: var(--wui-spacing-m);\n    }\n  }\n\n  /* -- Disabled state --------------------------------------------------- */\n  button:disabled {\n    background-color: var(--wui-color-gray-glass-002);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    color: var(--wui-color-gray-glass-020);\n    cursor: not-allowed;\n  }\n\n  button > wui-text {\n    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: opacity;\n    opacity: var(--local-opacity-100);\n  }\n\n  ::slotted(*) {\n    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: opacity;\n    opacity: var(--local-opacity-100);\n  }\n\n  wui-loading-spinner {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    opacity: var(--local-opacity-000);\n  }\n"]))),qH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},HH={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},WH={lg:"paragraph-600",md:"small-600"},FH={lg:"md",md:"md"},VH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).size="lg",e.disabled=!1,e.fullWidth=!1,e.loading=!1,e.variant="main",e.hasIconLeft=!1,e.hasIconRight=!1,e.borderRadius="m",e}return(0,_.Z)(n,[{key:"render",value:function(){var e,t=this;this.style.cssText="\n    --local-width: ".concat(this.fullWidth?"100%":"auto",";\n    --local-opacity-100: ").concat(this.loading?0:1,";\n    --local-opacity-000: ").concat(this.loading?1:0,";\n    --local-border-radius: var(--wui-border-radius-").concat(this.borderRadius,");\n    ");var n=null!==(e=this.textVariant)&&void 0!==e?e:WH[this.size];return jD(NZ||(NZ=w(["\n      <button\n        data-variant=","\n        data-icon-left=","\n        data-icon-right=","\n        data-size=","\n        ?disabled=","\n      >\n        ",'\n        <slot name="iconLeft" @slotchange=',"></slot>\n        <wui-text variant=",' color="inherit">\n          <slot></slot>\n        </wui-text>\n        <slot name="iconRight" @slotchange=',"></slot>\n      </button>\n    "])),this.variant,this.hasIconLeft,this.hasIconRight,this.size,this.disabled,this.loadingTemplate(),(function(){return t.handleSlotLeftChange()}),n,(function(){return t.handleSlotRightChange()}))}},{key:"handleSlotLeftChange",value:function(){this.hasIconLeft=!0}},{key:"handleSlotRightChange",value:function(){this.hasIconRight=!0}},{key:"loadingTemplate",value:function(){if(this.loading){var e=FH[this.size],t=this.disabled?HH.disabled:HH[this.variant];return jD(TZ||(TZ=w(["<wui-loading-spinner color="," size=","></wui-loading-spinner>"])),t,e)}return jD(RZ||(RZ=w([""])))}}]),n}(rz);VH.styles=[lz,dz,zH],qH([fq()],VH.prototype,"size",void 0),qH([fq({type:Boolean})],VH.prototype,"disabled",void 0),qH([fq({type:Boolean})],VH.prototype,"fullWidth",void 0),qH([fq({type:Boolean})],VH.prototype,"loading",void 0),qH([fq()],VH.prototype,"variant",void 0),qH([fq({type:Boolean})],VH.prototype,"hasIconLeft",void 0),qH([fq({type:Boolean})],VH.prototype,"hasIconRight",void 0),qH([fq()],VH.prototype,"borderRadius",void 0),qH([fq()],VH.prototype,"textVariant",void 0),VH=qH([gz("wui-button")],VH);var KH=tD(LZ||(LZ=w(["\n  button {\n    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);\n    border-radius: var(--wui-border-radius-3xs);\n    background-color: transparent;\n    color: var(--wui-color-accent-100);\n  }\n\n  button:disabled {\n    background-color: transparent;\n    color: var(--wui-color-gray-glass-015);\n  }\n\n  button:hover {\n    background-color: var(--wui-color-gray-glass-005);\n  }\n"]))),GH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},$H=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).tabIdx=void 0,e.disabled=!1,e.color="inherit",e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(BZ||(BZ=w(["\n      <button ?disabled="," tabindex=",'>\n        <slot name="iconLeft"></slot>\n        <wui-text variant="small-600" color=','>\n          <slot></slot>\n        </wui-text>\n        <slot name="iconRight"></slot>\n      </button>\n    '])),this.disabled,wq(this.tabIdx),this.color)}}]),n}(rz);$H.styles=[lz,dz,KH],GH([fq()],$H.prototype,"tabIdx",void 0),GH([fq({type:Boolean})],$H.prototype,"disabled",void 0),GH([fq()],$H.prototype,"color",void 0),$H=GH([gz("wui-link")],$H);var YH=tD(UZ||(UZ=w(["\n  :host {\n    display: block;\n    width: var(--wui-box-size-md);\n    height: var(--wui-box-size-md);\n  }\n\n  svg {\n    width: var(--wui-box-size-md);\n    height: var(--wui-box-size-md);\n  }\n\n  rect {\n    fill: none;\n    stroke: var(--wui-color-accent-100);\n    stroke-width: 4px;\n    stroke-linecap: round;\n    animation: dash 1s linear infinite;\n  }\n\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0px;\n    }\n  }\n"]))),JH=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},XH=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).radius=36,e}return(0,_.Z)(n,[{key:"render",value:function(){return this.svgLoaderTemplate()}},{key:"svgLoaderTemplate",value:function(){var e=this.radius>50?50:this.radius,t=36-e,n=116+t,r=245+t,i=360+1.75*t;return jD(MZ||(MZ=w(['\n      <svg viewBox="0 0 110 110" width="110" height="110">\n        <rect\n          x="2"\n          y="2"\n          width="106"\n          height="106"\n          rx=','\n          stroke-dasharray="'," ",'"\n          stroke-dashoffset=',"\n        />\n      </svg>\n    "])),e,n,r,i)}}]),n}(rz);XH.styles=[lz,YH],JH([fq({type:Number})],XH.prototype,"radius",void 0),XH=JH([gz("wui-loading-thumbnail")],XH);var QH=tD(jZ||(jZ=w(["\n  button {\n    border: none;\n    border-radius: var(--wui-border-radius-3xl);\n  }\n\n  button[data-variant='main'] {\n    background-color: var(--wui-color-accent-100);\n    color: var(--wui-color-inverse-100);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-variant='accent'] {\n    background-color: var(--wui-color-accent-glass-010);\n    color: var(--wui-color-accent-100);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);\n  }\n\n  button[data-variant='gray'] {\n    background-color: transparent;\n    color: var(--wui-color-fg-200);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-variant='shade'] {\n    background-color: transparent;\n    color: var(--wui-color-accent-100);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-size='sm'] {\n    height: 32px;\n    padding: 0 var(--wui-spacing-s);\n  }\n\n  button[data-size='md'] {\n    height: 40px;\n    padding: 0 var(--wui-spacing-l);\n  }\n\n  button[data-size='sm'] > wui-image {\n    width: 16px;\n    height: 16px;\n  }\n\n  button[data-size='md'] > wui-image {\n    width: 24px;\n    height: 24px;\n  }\n\n  button[data-size='sm'] > wui-icon {\n    width: 12px;\n    height: 12px;\n  }\n\n  button[data-size='md'] > wui-icon {\n    width: 14px;\n    height: 14px;\n  }\n\n  wui-image {\n    border-radius: var(--wui-border-radius-3xl);\n    overflow: hidden;\n  }\n\n  button.disabled > wui-icon,\n  button.disabled > wui-image {\n    filter: grayscale(1);\n  }\n\n  button[data-variant='main'] > wui-image {\n    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);\n  }\n\n  button[data-variant='shade'] > wui-image,\n  button[data-variant='gray'] > wui-image {\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    button[data-variant='main']:focus-visible {\n      background-color: var(--wui-color-accent-090);\n    }\n\n    button[data-variant='main']:hover:enabled {\n      background-color: var(--wui-color-accent-090);\n    }\n\n    button[data-variant='main']:active:enabled {\n      background-color: var(--wui-color-accent-080);\n    }\n\n    button[data-variant='accent']:hover:enabled {\n      background-color: var(--wui-color-accent-glass-015);\n    }\n\n    button[data-variant='accent']:active:enabled {\n      background-color: var(--wui-color-accent-glass-020);\n    }\n\n    button[data-variant='shade']:focus-visible,\n    button[data-variant='gray']:focus-visible,\n    button[data-variant='shade']:hover,\n    button[data-variant='gray']:hover {\n      background-color: var(--wui-color-gray-glass-002);\n    }\n\n    button[data-variant='gray']:active,\n    button[data-variant='shade']:active {\n      background-color: var(--wui-color-gray-glass-005);\n    }\n  }\n\n  button.disabled {\n    color: var(--wui-color-gray-glass-020);\n    background-color: var(--wui-color-gray-glass-002);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    pointer-events: none;\n  }\n"]))),eW=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},tW=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).variant="accent",e.imageSrc="",e.disabled=!1,e.icon="externalLink",e.size="md",e.text="",e}return(0,_.Z)(n,[{key:"render",value:function(){var e="sm"===this.size?"small-600":"paragraph-600";return jD(DZ||(DZ=w(["\n      <button\n        class=","\n        data-variant=","\n        data-size=","\n      >\n        ","\n        <wui-text variant=",' color="inherit"> '," </wui-text>\n        <wui-icon name=",' color="inherit" size="inherit"></wui-icon>\n      </button>\n    '])),this.disabled?"disabled":"",this.variant,this.size,this.imageSrc?jD(zZ||(zZ=w(["<wui-image src=","></wui-image>"])),this.imageSrc):null,e,this.text,this.icon)}}]),n}(rz);tW.styles=[lz,dz,QH],eW([fq()],tW.prototype,"variant",void 0),eW([fq()],tW.prototype,"imageSrc",void 0),eW([fq({type:Boolean})],tW.prototype,"disabled",void 0),eW([fq()],tW.prototype,"icon",void 0),eW([fq()],tW.prototype,"size",void 0),eW([fq()],tW.prototype,"text",void 0),tW=eW([gz("wui-chip-button")],tW);var nW=tD(qZ||(qZ=w(["\n  wui-flex {\n    width: 100%;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-xs);\n  }\n"]))),rW=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},iW=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).disabled=!1,e.label="",e.buttonLabel="",e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(HZ||(HZ=w(['\n      <wui-flex\n        justifyContent="space-between"\n        alignItems="center"\n        .padding=','\n      >\n        <wui-text variant="paragraph-500" color="fg-200">','</wui-text>\n        <wui-chip-button size="sm" variant="shade" text=',' icon="chevronRight">\n        </wui-chip-button>\n      </wui-flex>\n    '])),["1xs","2l","1xs","2l"],this.label,this.buttonLabel)}}]),n}(rz);iW.styles=[lz,dz,nW],rW([fq({type:Boolean})],iW.prototype,"disabled",void 0),rW([fq()],iW.prototype,"label",void 0),rW([fq()],iW.prototype,"buttonLabel",void 0),iW=rW([gz("wui-cta-button")],iW);var oW=tD(WZ||(WZ=w(["\n  :host {\n    display: block;\n    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);\n  }\n"]))),aW=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},sW=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).wallet=void 0,e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this;if(!this.wallet)return this.style.display="none",null;var t=this.wallet,n=t.name,r=t.app_store,i=t.play_store,o=t.chrome_store,a=t.homepage,s=d_.isMobile(),c=d_.isIos(),u=d_.isAndroid(),l=[r,i,a,o].filter(Boolean).length>1,d=hz({string:n,charsStart:12,charsEnd:0,truncate:"end"});return l&&!s?jD(FZ||(FZ=w(["\n        <wui-cta-button\n          label=",'\n          buttonLabel="Get"\n          @click=',"\n        ></wui-cta-button>\n      "])),"Don't have ".concat(d,"?"),(function(){return U_.push("Downloads",{wallet:e.wallet})})):!l&&a?jD(VZ||(VZ=w(["\n        <wui-cta-button\n          label=",'\n          buttonLabel="Get"\n          @click=',"\n        ></wui-cta-button>\n      "])),"Don't have ".concat(d,"?"),this.onHomePage.bind(this)):r&&c?jD(KZ||(KZ=w(["\n        <wui-cta-button\n          label=",'\n          buttonLabel="Get"\n          @click=',"\n        ></wui-cta-button>\n      "])),"Don't have ".concat(d,"?"),this.onAppStore.bind(this)):i&&u?jD(GZ||(GZ=w(["\n        <wui-cta-button\n          label=",'\n          buttonLabel="Get"\n          @click=',"\n        ></wui-cta-button>\n      "])),"Don't have ".concat(d,"?"),this.onPlayStore.bind(this)):(this.style.display="none",null)}},{key:"onAppStore",value:function(){var e;(null===(e=this.wallet)||void 0===e?void 0:e.app_store)&&d_.openHref(this.wallet.app_store,"_blank")}},{key:"onPlayStore",value:function(){var e;(null===(e=this.wallet)||void 0===e?void 0:e.play_store)&&d_.openHref(this.wallet.play_store,"_blank")}},{key:"onHomePage",value:function(){var e;(null===(e=this.wallet)||void 0===e?void 0:e.homepage)&&d_.openHref(this.wallet.homepage,"_blank")}}]),n}(rz);sW.styles=[oW],aW([fq({type:Object})],sW.prototype,"wallet",void 0),sW=aW([gz("w3m-mobile-download-links")],sW);var cW=tD($Z||($Z=w(["\n  @keyframes shake {\n    0% {\n      transform: translateX(0);\n    }\n    25% {\n      transform: translateX(3px);\n    }\n    50% {\n      transform: translateX(-3px);\n    }\n    75% {\n      transform: translateX(3px);\n    }\n    100% {\n      transform: translateX(0);\n    }\n  }\n\n  wui-flex:first-child:not(:only-child) {\n    position: relative;\n  }\n\n  wui-loading-thumbnail {\n    position: absolute;\n  }\n\n  wui-icon-box {\n    position: absolute;\n    right: calc(var(--wui-spacing-3xs) * -1);\n    bottom: calc(var(--wui-spacing-3xs) * -1);\n    opacity: 0;\n    transform: scale(0.5);\n    transition-property: opacity, transform;\n    transition-duration: var(--wui-duration-lg);\n    transition-timing-function: var(--wui-ease-out-power-2);\n    will-change: opacity, transform;\n  }\n\n  wui-text[align='center'] {\n    width: 100%;\n    padding: 0px var(--wui-spacing-l);\n  }\n\n  [data-error='true'] wui-icon-box {\n    opacity: 1;\n    transform: scale(1);\n  }\n\n  [data-error='true'] > wui-flex:first-child {\n    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n  }\n\n  [data-retry='false'] wui-link {\n    display: none;\n  }\n\n  [data-retry='true'] wui-link {\n    display: block;\n    opacity: 1;\n  }\n"]))),uW=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},lW=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e,r,i,o,a,s,c,u,l,d;return(0,O.Z)(this,n),(d=t.call(this)).wallet=null===(e=U_.state.data)||void 0===e?void 0:e.wallet,d.connector=null===(r=U_.state.data)||void 0===r?void 0:r.connector,d.timeout=void 0,d.secondaryBtnIcon="refresh",d.onConnect=void 0,d.onRender=void 0,d.onAutoConnect=void 0,d.isWalletConnect=!0,d.unsubscribe=[],d.imageSrc=null!==(i=y_.getWalletImage(d.wallet))&&void 0!==i?i:y_.getConnectorImage(d.connector),d.name=null!==(o=null!==(a=null===(s=d.wallet)||void 0===s?void 0:s.name)&&void 0!==a?a:null===(c=d.connector)||void 0===c?void 0:c.name)&&void 0!==o?o:"Wallet",d.isRetrying=!1,d.uri=eN.state.wcUri,d.error=eN.state.wcError,d.ready=!1,d.showRetry=!1,d.secondaryBtnLabel="Try again",d.secondaryLabel="Accept connection request in the wallet",d.buffering=!1,d.isLoading=!1,d.isMobile=!1,d.onRetry=void 0,d.unsubscribe.push(eN.subscribeKey("wcUri",(function(e){var t,n;d.uri=e,d.isRetrying&&d.onRetry&&(d.isRetrying=!1,null===(t=(n=d).onConnect)||void 0===t||t.call(n))})),eN.subscribeKey("wcError",(function(e){return d.error=e})),eN.subscribeKey("buffering",(function(e){return d.buffering=e}))),(d_.isTelegram()||d_.isSafari())&&d_.isIos()&&eN.state.wcUri&&(null===(u=(l=d).onConnect)||void 0===u||u.call(l)),d}return(0,_.Z)(n,[{key:"firstUpdated",value:function(){var e;null!==(e=this.onAutoConnect)&&void 0!==e&&e.call(this),this.showRetry=!this.onAutoConnect}},{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()})),clearTimeout(this.timeout)}},{key:"render",value:function(){var e;null!==(e=this.onRender)&&void 0!==e&&e.call(this),this.onShowRetry();var t=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel,n="Continue in ".concat(this.name);return this.buffering&&(n="Connecting..."),this.error&&(n="Connection declined"),jD(YZ||(YZ=w(["\n      <wui-flex\n        data-error=","\n        data-retry=",'\n        flexDirection="column"\n        alignItems="center"\n        .padding=','\n        gap="xl"\n      >\n        <wui-flex justifyContent="center" alignItems="center">\n          <wui-wallet-image size="lg" imageSrc=',"></wui-wallet-image>\n\n          ",'\n\n          <wui-icon-box\n            backgroundColor="error-100"\n            background="opaque"\n            iconColor="error-100"\n            icon="close"\n            size="sm"\n            border\n            borderColor="wui-color-bg-125"\n          ></wui-icon-box>\n        </wui-flex>\n\n        <wui-flex flexDirection="column" alignItems="center" gap="xs">\n          <wui-text variant="paragraph-500" color=',">\n            ",'\n          </wui-text>\n          <wui-text align="center" variant="small-500" color="fg-200">',"</wui-text>\n        </wui-flex>\n\n        ","\n      </wui-flex>\n\n      ","\n\n      <w3m-mobile-download-links .wallet=","></w3m-mobile-download-links>\n    "])),wq(this.error),this.showRetry,["3xl","xl","xl","xl"],wq(this.imageSrc),this.error?null:this.loaderTemplate(),this.error?"error-100":"fg-100",n,t,this.secondaryBtnLabel?jD(JZ||(JZ=w(['\n              <wui-button\n                variant="accent"\n                size="md"\n                ?disabled=',"\n                @click=",'\n                data-testid="w3m-connecting-widget-secondary-button"\n              >\n                <wui-icon color="inherit" slot="iconLeft" name=',"></wui-icon>\n                ","\n              </wui-button>\n            "])),this.isRetrying||!this.error&&this.buffering||this.isLoading,this.onTryAgain.bind(this),this.secondaryBtnIcon,this.secondaryBtnLabel):null,this.isWalletConnect?jD(XZ||(XZ=w(["\n            <wui-flex .padding=",' justifyContent="center">\n              <wui-link @click=',' color="fg-200" data-testid="wui-link-copy">\n                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>\n                Copy link\n              </wui-link>\n            </wui-flex>\n          '])),["0","xl","xl","xl"],this.onCopyUri):null,this.wallet)}},{key:"onShowRetry",value:function(){var e,t;this.error&&!this.showRetry&&(this.showRetry=!0,null===(e=this.shadowRoot)||void 0===e||null===(t=e.querySelector("wui-button"))||void 0===t||t.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}},{key:"onTryAgain",value:function(){var e,t;this.buffering||(eN.setWcError(!1),this.onRetry?(this.isRetrying=!0,null===(e=this.onRetry)||void 0===e||e.call(this)):null===(t=this.onConnect)||void 0===t||t.call(this))}},{key:"loaderTemplate",value:function(){var e=j_.state.themeVariables["--w3m-border-radius-master"],t=e?parseInt(e.replace("px",""),10):4;return jD(QZ||(QZ=w(["<wui-loading-thumbnail radius=","></wui-loading-thumbnail>"])),9*t)}},{key:"onCopyUri",value:function(){try{this.uri&&(d_.copyToClopboard(this.uri),$_.showSuccess("Link copied"))}catch(e){$_.showError("Failed to copy")}}}]),n}(rz);lW.styles=cW,uW([pq()],lW.prototype,"isRetrying",void 0),uW([pq()],lW.prototype,"uri",void 0),uW([pq()],lW.prototype,"error",void 0),uW([pq()],lW.prototype,"ready",void 0),uW([pq()],lW.prototype,"showRetry",void 0),uW([pq()],lW.prototype,"secondaryBtnLabel",void 0),uW([pq()],lW.prototype,"secondaryLabel",void 0),uW([pq()],lW.prototype,"buffering",void 0),uW([pq()],lW.prototype,"isLoading",void 0),uW([fq({type:Boolean})],lW.prototype,"isMobile",void 0),uW([fq()],lW.prototype,"onRetry",void 0);var dW=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;if((0,O.Z)(this,n),!(e=t.call(this)).wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");return e.onConnect=e.onConnectProxy.bind((0,x.Z)(e)),e.onAutoConnect=e.onConnectProxy.bind((0,x.Z)(e)),O_.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:e.wallet.name,platform:"browser"}}),(0,y.Z)(e)}return(0,_.Z)(n,[{key:"onConnectProxy",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i,o=this;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.error=!1,n=q_.state.connectors,r=n.find((function(e){var t,n,r;return"ANNOUNCED"===e.type&&(null===(t=e.info)||void 0===t?void 0:t.rdns)===(null===(n=o.wallet)||void 0===n?void 0:n.rdns)||"INJECTED"===e.type||e.name===(null===(r=o.wallet)||void 0===r?void 0:r.name)})),!r){e.next=8;break}return e.next=6,eN.connectExternal(r,r.chain);case 6:e.next=9;break;case 8:throw new Error("w3m-connecting-wc-browser: No connector found");case 9:PM.close(),O_.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:(null===(t=this.wallet)||void 0===t?void 0:t.name)||"Unknown"}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),O_.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:null!==(i=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==i?i:"Unknown"}}),this.error=!0;case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()}]),n}(lW);dW=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([gz("w3m-connecting-wc-browser")],dW);var fW=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;if((0,O.Z)(this,n),!(e=t.call(this)).wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");return e.onConnect=e.onConnectProxy.bind((0,x.Z)(e)),e.onRender=e.onRenderProxy.bind((0,x.Z)(e)),O_.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:e.wallet.name,platform:"desktop"}}),(0,y.Z)(e)}return(0,_.Z)(n,[{key:"onRenderProxy",value:function(){var e;!this.ready&&this.uri&&(this.ready=!0,null===(e=this.onConnect)||void 0===e||e.call(this))}},{key:"onConnectProxy",value:function(){var e;if(null!==(e=this.wallet)&&void 0!==e&&e.desktop_link&&this.uri)try{this.error=!1;var t=this.wallet,n=t.desktop_link,r=t.name,i=d_.formatNativeUrl(n,this.uri),o=i.redirect,a=i.href;eN.setWcLinking({name:r,href:a}),eN.setRecentWallet(this.wallet),d_.openHref(o,"_blank")}catch(s){this.error=!0}}}]),n}(lW);fW=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([gz("w3m-connecting-wc-desktop")],fW);var pW=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;if((0,O.Z)(this,n),(e=t.call(this)).btnLabelTimeout=void 0,e.labelTimeout=void 0,e.onRender=function(){var t,n;!e.ready&&e.uri&&(e.ready=!0,null===(t=(n=e).onConnect)||void 0===t||t.call(n))},e.onConnect=function(){var t;if(null!==(t=e.wallet)&&void 0!==t&&t.mobile_link&&e.uri)try{e.error=!1;var n=e.wallet,r=n.mobile_link,i=n.name,o=d_.formatNativeUrl(r,e.uri),a=o.redirect,s=o.href;eN.setWcLinking({name:i,href:s}),eN.setRecentWallet(e.wallet);var c=d_.isIframe()?"_top":"_self";d_.openHref(a,c),clearTimeout(e.labelTimeout),e.secondaryLabel=u_.CONNECT_LABELS.MOBILE}catch(r){O_.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:r instanceof Error?r.message:"Error parsing the deeplink",uri:e.uri,mobile_link:e.wallet.mobile_link,name:e.wallet.name}}),e.error=!0}},!e.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");return e.initializeStateAndTimers(),document.addEventListener("visibilitychange",e.onBuffering.bind((0,x.Z)(e))),O_.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:e.wallet.name,platform:"mobile"}}),(0,y.Z)(e)}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){(0,m.Z)((0,b.Z)(n.prototype),"disconnectedCallback",this).call(this),document.removeEventListener("visibilitychange",this.onBuffering.bind(this)),clearTimeout(this.btnLabelTimeout),clearTimeout(this.labelTimeout)}},{key:"initializeStateAndTimers",value:function(){var e=this;this.secondaryBtnLabel=void 0,this.secondaryLabel=u_.CONNECT_LABELS.MOBILE,this.btnLabelTimeout=setTimeout((function(){e.secondaryBtnLabel="Try again",e.secondaryLabel=u_.CONNECT_LABELS.MOBILE}),u_.FIVE_SEC_MS),this.labelTimeout=setTimeout((function(){e.secondaryLabel="Hold tight... it's taking longer than expected"}),u_.THREE_SEC_MS)}},{key:"onBuffering",value:function(){var e,t=d_.isIos();"visible"===(null===(e=document)||void 0===e?void 0:e.visibilityState)&&!this.error&&t&&(eN.setBuffering(!0),setTimeout((function(){eN.setBuffering(!1)}),5e3))}},{key:"onTryAgain",value:function(){this.buffering||(clearTimeout(this.btnLabelTimeout),clearTimeout(this.labelTimeout),this.initializeStateAndTimers(),eN.setWcError(!1),this.onConnect())}}]),n}(lW);pW=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([gz("w3m-connecting-wc-mobile")],pW);var hW,vW={},gW={},wW={},mW=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];wW.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},wW.getSymbolTotalCodewords=function(e){return mW[e]},wW.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},wW.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');hW=e},wW.isKanjiModeEnabled=function(){return typeof hW<"u"},wW.toSJIS=function(e){return hW(e)};var bW={};function yW(){this.buffer=[],this.length=0}!function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(r){return n}}}(bW),yW.prototype={get:function(e){var t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1===(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var xW=yW;function kW(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}kW.prototype.set=function(e,t,n,r){var i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},kW.prototype.get=function(e,t){return this.data[e*this.size+t]},kW.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},kW.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var ZW=kW,CW={};!function(e){var t=wW.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];for(var n=Math.floor(e/7)+2,r=t(e),i=145===r?26:2*Math.ceil((r-13)/(2*n-2)),o=[r-7],a=1;a<n-1;a++)o[a]=o[a-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){for(var n=[],r=e.getRowColCoords(t),i=r.length,o=0;o<i;o++)for(var a=0;a<i;a++)0===o&&0===a||0===o&&a===i-1||o===i-1&&0===a||n.push([r[o],r[a]]);return n}}(CW);var EW={},IW=wW.getSymbolSize;EW.getPositions=function(e){var t=IW(e);return[[0,0],[t-7,0],[0,t-7]]};var SW={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t=3,n=3,r=40,i=10;function o(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2===0;case e.Patterns.PATTERN001:return n%2===0;case e.Patterns.PATTERN010:return r%3===0;case e.Patterns.PATTERN011:return(n+r)%3===0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case e.Patterns.PATTERN101:return n*r%2+n*r%3===0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){for(var n=e.size,r=0,i=0,o=0,a=null,s=null,c=0;c<n;c++){i=o=0,a=s=null;for(var u=0;u<n;u++){var l=e.get(c,u);l===a?i++:(i>=5&&(r+=t+(i-5)),a=l,i=1),(l=e.get(u,c))===s?o++:(o>=5&&(r+=t+(o-5)),s=l,o=1)}i>=5&&(r+=t+(i-5)),o>=5&&(r+=t+(o-5))}return r},e.getPenaltyN2=function(e){for(var t=e.size,r=0,i=0;i<t-1;i++)for(var o=0;o<t-1;o++){var a=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(4===a||0===a)&&r++}return r*n},e.getPenaltyN3=function(e){for(var t=e.size,n=0,i=0,o=0,a=0;a<t;a++){i=o=0;for(var s=0;s<t;s++)i=i<<1&2047|e.get(a,s),s>=10&&(1488===i||93===i)&&n++,o=o<<1&2047|e.get(s,a),s>=10&&(1488===o||93===o)&&n++}return n*r},e.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*i},e.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,o(e,i,r))},e.getBestMask=function(t,n){for(var r=Object.keys(e.Patterns).length,i=0,o=1/0,a=0;a<r;a++){n(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<o&&(o=s,i=a)}return i}}(SW);var AW={},PW=bW,OW=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],_W=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];AW.getBlocksCount=function(e,t){switch(t){case PW.L:return OW[4*(e-1)+0];case PW.M:return OW[4*(e-1)+1];case PW.Q:return OW[4*(e-1)+2];case PW.H:return OW[4*(e-1)+3];default:return}},AW.getTotalCodewordsCount=function(e,t){switch(t){case PW.L:return _W[4*(e-1)+0];case PW.M:return _W[4*(e-1)+1];case PW.Q:return _W[4*(e-1)+2];case PW.H:return _W[4*(e-1)+3];default:return}};var NW={},TW={},RW=new Uint8Array(512),LW=new Uint8Array(256);(function(){for(var e=1,t=0;t<255;t++)RW[t]=e,LW[e]=t,256&(e<<=1)&&(e^=285);for(var n=255;n<512;n++)RW[n]=RW[n-255]})(),TW.log=function(e){if(e<1)throw new Error("log("+e+")");return LW[e]},TW.exp=function(e){return RW[e]},TW.mul=function(e,t){return 0===e||0===t?0:RW[LW[e]+LW[t]]},function(e){var t=TW;e.mul=function(e,n){for(var r=new Uint8Array(e.length+n.length-1),i=0;i<e.length;i++)for(var o=0;o<n.length;o++)r[i+o]^=t.mul(e[i],n[o]);return r},e.mod=function(e,n){for(var r=new Uint8Array(e);r.length-n.length>=0;){for(var i=r[0],o=0;o<n.length;o++)r[o]^=t.mul(n[o],i);for(var a=0;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},e.generateECPolynomial=function(n){for(var r=new Uint8Array([1]),i=0;i<n;i++)r=e.mul(r,new Uint8Array([1,t.exp(i)]));return r}}(NW);var BW=NW;function UW(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}UW.prototype.initialize=function(e){this.degree=e,this.genPoly=BW.generateECPolynomial(this.degree)},UW.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new Uint8Array(e.length+this.degree);t.set(e);var n=BW.mod(t,this.genPoly),r=this.degree-n.length;if(r>0){var i=new Uint8Array(this.degree);return i.set(n,r),i}return n};var MW=UW,jW={},DW={},zW={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},qW={},HW="[0-9]+",WW="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",FW="(?:(?![A-Z0-9 $%*+\\-./:]|"+(WW=WW.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";qW.KANJI=new RegExp(WW,"g"),qW.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),qW.BYTE=new RegExp(FW,"g"),qW.NUMERIC=new RegExp(HW,"g"),qW.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var VW=new RegExp("^"+WW+"$"),KW=new RegExp("^[0-9]+$"),GW=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");qW.testKanji=function(e){return VW.test(e)},qW.testNumeric=function(e){return KW.test(e)},qW.testAlphanumeric=function(e){return GW.test(e)},function(e){var t=zW,n=qW;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(r){return n}}}(DW),function(e){var t=wW,n=AW,r=bW,i=DW,o=zW,a=t.getBCHDigit(7973);function s(e,t){return i.getCharCountIndicator(e,t)+4}function c(e,t){var n=0;return e.forEach((function(e){var r=s(e.mode,t);n+=r+e.getBitsLength()})),n}e.from=function(e,t){return o.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,r,a){if(!o.isValid(e))throw new Error("Invalid QR Code version");typeof a>"u"&&(a=i.BYTE);var c=8*(t.getSymbolTotalCodewords(e)-n.getTotalCodewordsCount(e,r));if(a===i.MIXED)return c;var u=c-s(a,e);switch(a){case i.NUMERIC:return Math.floor(u/10*3);case i.ALPHANUMERIC:return Math.floor(u/11*2);case i.KANJI:return Math.floor(u/13);case i.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,n){var o,a=r.from(n,r.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(var r=1;r<=40;r++)if(c(t,r)<=e.getCapacity(r,n,i.MIXED))return r}(t,a);if(0===t.length)return 1;o=t[0]}else o=t;return function(t,n,r){for(var i=1;i<=40;i++)if(n<=e.getCapacity(i,r,t))return i}(o.mode,o.getLength(),a)},e.getEncodedBits=function(e){if(!o.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var n=e<<12;t.getBCHDigit(n)-a>=0;)n^=7973<<t.getBCHDigit(n)-a;return e<<12|n}}(jW);var $W={},YW=wW,JW=YW.getBCHDigit(1335);$W.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,r=n<<10;YW.getBCHDigit(r)-JW>=0;)r^=1335<<YW.getBCHDigit(r)-JW;return 21522^(n<<10|r)};var XW={},QW=DW;function eF(e){this.mode=QW.NUMERIC,this.data=e.toString()}eF.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},eF.prototype.getLength=function(){return this.data.length},eF.prototype.getBitsLength=function(){return eF.getBitsLength(this.data.length)},eF.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))};var tF=eF,nF=DW,rF=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function iF(e){this.mode=nF.ALPHANUMERIC,this.data=e}iF.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},iF.prototype.getLength=function(){return this.data.length},iF.prototype.getBitsLength=function(){return iF.getBitsLength(this.data.length)},iF.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*rF.indexOf(this.data[t]);n+=rF.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(rF.indexOf(this.data[t]),6)};var oF=iF,aF=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319&&n>r+1){var o=e.charCodeAt(r+1);o>=56320&&o<=57343&&(i=1024*(i-55296)+o-56320+65536,r+=1)}i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||i>=57344&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):i>=65536&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer},sF=DW;function cF(e){this.mode=sF.BYTE,"string"==typeof e&&(e=aF(e)),this.data=new Uint8Array(e)}cF.getBitsLength=function(e){return 8*e},cF.prototype.getLength=function(){return this.data.length},cF.prototype.getBitsLength=function(){return cF.getBitsLength(this.data.length)},cF.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var uF=cF,lF=DW,dF=wW;function fF(e){this.mode=lF.KANJI,this.data=e}fF.getBitsLength=function(e){return 13*e},fF.prototype.getLength=function(){return this.data.length},fF.prototype.getBitsLength=function(){return fF.getBitsLength(this.data.length)},fF.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=dF.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}};var pF=fF,hF={exports:{}};(function(e){var t={single_source_shortest_paths:function(e,n,r){var i={},o={};o[n]=0;var a,s,c,u,l,d,f,p=t.PriorityQueue.make();for(p.push(n,0);!p.empty();)for(c in s=(a=p.pop()).value,u=a.cost,l=e[s]||{})l.hasOwnProperty(c)&&(d=u+l[c],f=o[c],(typeof o[c]>"u"||f>d)&&(o[c]=d,p.push(c,d),i[c]=s));if(typeof r<"u"&&typeof o[r]>"u"){var h=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(h)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var i=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,i={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=e.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t})(hF),function(e){var t=DW,n=tF,r=oF,i=uF,o=pF,a=qW,s=wW,c=hF.exports;function u(e){return unescape(encodeURIComponent(e)).length}function l(e,t,n){for(var r,i=[];null!==(r=e.exec(n));)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function d(e){var n,r,i=l(a.NUMERIC,t.NUMERIC,e),o=l(a.ALPHANUMERIC,t.ALPHANUMERIC,e);return s.isKanjiModeEnabled()?(n=l(a.BYTE,t.BYTE,e),r=l(a.KANJI,t.KANJI,e)):(n=l(a.BYTE_KANJI,t.BYTE,e),r=[]),i.concat(o,n,r).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function f(e,a){switch(a){case t.NUMERIC:return n.getBitsLength(e);case t.ALPHANUMERIC:return r.getBitsLength(e);case t.KANJI:return o.getBitsLength(e);case t.BYTE:return i.getBitsLength(e)}}function p(e,a){var c,u=t.getBestModeForData(e);if((c=t.from(a,u))!==t.BYTE&&c.bit<u.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(c)+".\n Suggested mode is: "+t.toString(u));switch(c===t.KANJI&&!s.isKanjiModeEnabled()&&(c=t.BYTE),c){case t.NUMERIC:return new n(e);case t.ALPHANUMERIC:return new r(e);case t.KANJI:return new o(e);case t.BYTE:return new i(e)}}e.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(p(t,null)):t.data&&e.push(p(t.data,t.mode)),e}),[])},e.fromString=function(n,r){for(var i=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r];switch(i.mode){case t.NUMERIC:n.push([i,{data:i.data,mode:t.ALPHANUMERIC,length:i.length},{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.ALPHANUMERIC:n.push([i,{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.KANJI:n.push([i,{data:i.data,mode:t.BYTE,length:u(i.data)}]);break;case t.BYTE:n.push([{data:i.data,mode:t.BYTE,length:u(i.data)}])}}return n}(d(n,s.isKanjiModeEnabled())),o=function(e,n){for(var r={},i={start:{}},o=["start"],a=0;a<e.length;a++){for(var s=e[a],c=[],u=0;u<s.length;u++){var l=s[u],d=""+a+u;c.push(d),r[d]={node:l,lastCount:0},i[d]={};for(var p=0;p<o.length;p++){var h=o[p];r[h]&&r[h].node.mode===l.mode?(i[h][d]=f(r[h].lastCount+l.length,l.mode)-f(r[h].lastCount,l.mode),r[h].lastCount+=l.length):(r[h]&&(r[h].lastCount=l.length),i[h][d]=f(l.length,l.mode)+4+t.getCharCountIndicator(l.mode,n))}}o=c}for(var v=0;v<o.length;v++)i[o[v]].end=0;return{map:i,table:r}}(i,r),a=c.find_path(o.map,"start","end"),l=[],p=1;p<a.length-1;p++)l.push(o.table[a[p]].node);return e.fromArray(function(e){return e.reduce((function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(l))},e.rawSplit=function(t){return e.fromArray(d(t,s.isKanjiModeEnabled()))}}(XW);var vF=wW,gF=bW,wF=xW,mF=ZW,bF=CW,yF=EW,xF=SW,kF=AW,ZF=MW,CF=jW,EF=$W,IF=DW,SF=XW;function AF(e,t,n){var r,i,o=e.size,a=EF.getEncodedBits(t,n);for(r=0;r<15;r++)i=1===(a>>r&1),r<6?e.set(r,8,i,!0):r<8?e.set(r+1,8,i,!0):e.set(o-15+r,8,i,!0),r<8?e.set(8,o-r-1,i,!0):r<9?e.set(8,15-r-1+1,i,!0):e.set(8,15-r-1,i,!0);e.set(o-8,8,1,!0)}function PF(e,t,n){var r=new wF;n.forEach((function(t){r.put(t.mode.bit,4),r.put(t.getLength(),IF.getCharCountIndicator(t.mode,e)),t.write(r)}));var i=8*(vF.getSymbolTotalCodewords(e)-kF.getTotalCodewordsCount(e,t));for(r.getLengthInBits()+4<=i&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);for(var o=(i-r.getLengthInBits())/8,a=0;a<o;a++)r.put(a%2?17:236,8);return function(e,t,n){for(var r=vF.getSymbolTotalCodewords(t),i=kF.getTotalCodewordsCount(t,n),o=r-i,a=kF.getBlocksCount(t,n),s=a-r%a,c=Math.floor(r/a),u=Math.floor(o/a),l=u+1,d=c-u,f=new ZF(d),p=0,h=new Array(a),v=new Array(a),g=0,w=new Uint8Array(e.buffer),m=0;m<a;m++){var b=m<s?u:l;h[m]=w.slice(p,p+b),v[m]=f.encode(h[m]),p+=b,g=Math.max(g,b)}var y,x,k=new Uint8Array(r),Z=0;for(y=0;y<g;y++)for(x=0;x<a;x++)y<h[x].length&&(k[Z++]=h[x][y]);for(y=0;y<d;y++)for(x=0;x<a;x++)k[Z++]=v[x][y];return k}(r,e,t)}function OF(e,t,n,r){var i;if(Array.isArray(e))i=SF.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var o=t;if(!o){var a=SF.rawSplit(e);o=CF.getBestVersionForData(a,n)}i=SF.fromString(e,o||40)}var s=CF.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;var c=PF(t,n,i),u=vF.getSymbolSize(t),l=new mF(u);return function(e,t){for(var n=e.size,r=yF.getPositions(t),i=0;i<r.length;i++)for(var o=r[i][0],a=r[i][1],s=-1;s<=7;s++)if(!(o+s<=-1||n<=o+s))for(var c=-1;c<=7;c++)a+c<=-1||n<=a+c||(s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4?e.set(o+s,a+c,!0,!0):e.set(o+s,a+c,!1,!0))}(l,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(l),function(e,t){for(var n=bF.getPositions(t),r=0;r<n.length;r++)for(var i=n[r][0],o=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(i+a,o+s,!0,!0):e.set(i+a,o+s,!1,!0)}(l,t),AF(l,n,0),t>=7&&function(e,t){for(var n,r,i,o=e.size,a=CF.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+o-8-3,i=1===(a>>s&1),e.set(n,r,i,!0),e.set(r,n,i,!0)}(l,t),function(e,t){for(var n=e.size,r=-1,i=n-1,o=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!e.isReserved(i,s-c)){var u=!1;a<t.length&&(u=1===(t[a]>>>o&1)),e.set(i,s-c,u),-1===--o&&(a++,o=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(l,c),isNaN(r)&&(r=xF.getBestMask(l,AF.bind(null,l,n))),xF.applyMask(r,l),AF(l,n,r),{modules:l,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}gW.create=function(e,t){if(typeof e>"u"||""===e)throw new Error("No input text");var n,r,i=gF.M;return typeof t<"u"&&(i=gF.from(t.errorCorrectionLevel,gF.M),n=CF.from(t.version),r=xF.from(t.maskPattern),t.toSJISFunc&&vF.setToSJISFunction(t.toSJISFunc)),OF(e,n,i,r)};var _F={},NF={};(function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});var n=typeof e.margin>"u"||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:n,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,n){var r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){for(var i=n.modules.size,o=n.modules.data,a=e.getScale(i,r),s=Math.floor((i+2*r.margin)*a),c=r.margin*a,u=[r.color.light,r.color.dark],l=0;l<s;l++)for(var d=0;d<s;d++){var f=4*(l*s+d),p=r.color.light;if(l>=c&&d>=c&&l<s-c&&d<s-c)p=u[o[Math.floor((l-c)/a)*i+Math.floor((d-c)/a)]?1:0];t[f++]=p.r,t[f++]=p.g,t[f++]=p.b,t[f]=p.a}}})(NF),function(e){var t=NF;e.render=function(e,n,r){var i=r,o=n;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),n||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=t.getOptions(i);var a=t.getImageWidth(e.modules.size,i),s=o.getContext("2d"),c=s.createImageData(a,a);return t.qrToImageData(c.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,o,a),s.putImageData(c,0,0),o},e.renderToDataURL=function(t,n,r){var i=r;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),i||(i={});var o=e.render(t,n,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}}(_F);var TF={},RF=NF;function LF(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function BF(e,t,n){var r=e+t;return typeof n<"u"&&(r+=" "+n),r}TF.render=function(e,t,n){var r=RF.getOptions(t),i=e.modules.size,o=e.modules.data,a=i+2*r.margin,s=r.color.light.a?"<path "+LF(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+LF(r.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",i=0,o=!1,a=0,s=0;s<e.length;s++){var c=Math.floor(s%t),u=Math.floor(s/t);!c&&!o&&(o=!0),e[s]?(a++,s>0&&c>0&&e[s-1]||(r+=o?BF("M",c+n,.5+u+n):BF("m",i,0),i=0,o=!1),c+1<t&&e[s+1]||(r+=BF("h",a),a=0)):i++}return r}(o,i,r.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+u+' shape-rendering="crispEdges">'+s+c+"</svg>\n";return"function"==typeof n&&n(null,l),l};var UF=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},MF=gW,jF=_F,DF=TF;function zF(e,t,n,r,i){var o=[].slice.call(arguments,1),a=o.length,s="function"==typeof o[a-1];if(!s&&!UF())throw new Error("Callback required as last argument");if(!s){if(a<1)throw new Error("Too few arguments provided");return 1===a?(n=t,t=r=void 0):2===a&&!t.getContext&&(r=n,n=t,t=void 0),new Promise((function(i,o){try{var a=MF.create(n,r);i(e(a,t,r))}catch(a){o(a)}}))}if(a<2)throw new Error("Too few arguments provided");2===a?(i=n,n=t,t=r=void 0):3===a&&(t.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=t,t=void 0));try{var c=MF.create(n,r);i(null,e(c,t,r))}catch(c){i(c)}}vW.create=MF.create,vW.toCanvas=zF.bind(null,jF.render),vW.toDataURL=zF.bind(null,jF.renderToDataURL),vW.toString=zF.bind(null,(function(e,t,n){return DF.render(e,n)}));function qF(e,t,n){return e!==t&&(e-t<0?t-e:e-t)<=n+.1}var HF=function(e){var t=e.uri,n=e.size,r=e.logoSize,i=e.dotColor,o=void 0===i?"#141414":i,a=[],s=function(e,t){var n=Array.prototype.slice.call(vW.create(e,{errorCorrectionLevel:t}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((function(e,t,n){return(n%r===0?e.push([t]):e[e.length-1].push(t))&&e}),[])}(t,"Q"),c=n/s.length,u=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];u.forEach((function(e){for(var t=e.x,n=e.y,r=(s.length-7)*c*t,i=(s.length-7)*c*n,l=.45,d=0;d<u.length;d+=1){var f=c*(7-2*d);a.push(DD(eC||(eC=w(["\n            <rect\n              fill=","\n              width=","\n              rx= ","\n              ry= ","\n              stroke=","\n              stroke-width=","\n              height=","\n              x= ","\n              y= ","\n            />\n          "])),2===d?o:"transparent",0===d?f-5:f,0===d?(f-5)*l:f*l,0===d?(f-5)*l:f*l,o,0===d?5:0,0===d?f-5:f,0===d?i+c*d+2.5:i+c*d,0===d?r+c*d+2.5:r+c*d))}}));var l=Math.floor((r+25)/c),d=s.length/2-l/2,f=s.length/2+l/2-1,p=[];s.forEach((function(e,t){e.forEach((function(e,n){if(s[t][n]&&!(t<7&&n<7||t>s.length-8&&n<7||t<7&&n>s.length-8)&&!(t>d&&t<f&&n>d&&n<f)){var r=t*c+c/2,i=n*c+c/2;p.push([r,i])}}))}));var h={};return p.forEach((function(e){var t,n=(0,S.Z)(e,2),r=n[0],i=n[1];h[r]?null===(t=h[r])||void 0===t||t.push(i):h[r]=[i]})),Object.entries(h).map((function(e){var t=(0,S.Z)(e,2),n=t[0],r=t[1],i=r.filter((function(e){return r.every((function(t){return!qF(e,t,c)}))}));return[Number(n),i]})).forEach((function(e){var t=(0,S.Z)(e,2),n=t[0];t[1].forEach((function(e){a.push(DD(tC||(tC=w(["<circle cx="," cy="," fill="," r="," />"])),n,e,o,c/2.5))}))})),Object.entries(h).filter((function(e){var t=(0,S.Z)(e,2);t[0];return t[1].length>1})).map((function(e){var t=(0,S.Z)(e,2),n=t[0],r=t[1],i=r.filter((function(e){return r.some((function(t){return qF(e,t,c)}))}));return[Number(n),i]})).map((function(e){var t=(0,S.Z)(e,2),n=t[0],r=t[1];r.sort((function(e,t){return e<t?-1:1}));var i,o=[],a=(0,R.Z)(r);try{var s=function(){var e=i.value,t=o.find((function(t){return t.some((function(t){return qF(e,t,c)}))}));t?t.push(e):o.push([e])};for(a.s();!(i=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}return[n,o.map((function(e){return[e[0],e[e.length-1]]}))]})).forEach((function(e){var t=(0,S.Z)(e,2),n=t[0];t[1].forEach((function(e){var t=(0,S.Z)(e,2),r=t[0],i=t[1];a.push(DD(nC||(nC=w(["\n              <line\n                x1=","\n                x2=","\n                y1=","\n                y2=","\n                stroke=","\n                stroke-width=",'\n                stroke-linecap="round"\n              />\n            '])),n,n,r,i,o,c/1.25))}))})),a},WF=tD(rC||(rC=w(["\n  :host {\n    position: relative;\n    user-select: none;\n    display: block;\n    overflow: hidden;\n    aspect-ratio: 1 / 1;\n    width: var(--local-size);\n  }\n\n  :host([data-theme='dark']) {\n    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);\n    background-color: var(--wui-color-inverse-100);\n    padding: var(--wui-spacing-l);\n  }\n\n  :host([data-theme='light']) {\n    box-shadow: 0 0 0 1px var(--wui-color-bg-125);\n    background-color: var(--wui-color-bg-125);\n  }\n\n  :host([data-clear='true']) > wui-icon {\n    display: none;\n  }\n\n  svg:first-child,\n  wui-image,\n  wui-icon {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateY(-50%) translateX(-50%);\n  }\n\n  wui-image {\n    width: 25%;\n    height: 25%;\n    border-radius: var(--wui-border-radius-xs);\n  }\n\n  wui-icon {\n    width: 100%;\n    height: 100%;\n    color: var(--local-icon-color) !important;\n    transform: translateY(-50%) translateX(-50%) scale(0.25);\n  }\n"]))),FF=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},VF=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).uri="",e.size=0,e.theme="dark",e.imageSrc=void 0,e.alt=void 0,e.arenaClear=void 0,e.farcaster=void 0,e}return(0,_.Z)(n,[{key:"render",value:function(){var e;return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText="\n     --local-size: ".concat(this.size,"px;\n     --local-icon-color: ").concat(null!==(e=this.color)&&void 0!==e?e:"#3396ff","\n    "),jD(iC||(iC=w([""," ",""])),this.templateVisual(),this.templateSvg())}},{key:"templateSvg",value:function(){var e="light"===this.theme?this.size:this.size-32;return DD(oC||(oC=w(["\n      <svg height="," width=",">\n        ","\n      </svg>\n    "])),e,e,HF({uri:this.uri,size:e,logoSize:this.arenaClear?0:e/4,dotColor:this.color}))}},{key:"templateVisual",value:function(){var e;return this.imageSrc?jD(aC||(aC=w(["<wui-image src="," alt=","></wui-image>"])),this.imageSrc,null!==(e=this.alt)&&void 0!==e?e:"logo"):this.farcaster?jD(sC||(sC=w(['<wui-icon\n        class="farcaster"\n        size="inherit"\n        color="inherit"\n        name="farcaster"\n      ></wui-icon>']))):jD(cC||(cC=w(['<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>'])))}}]),n}(rz);VF.styles=[lz,WF],FF([fq()],VF.prototype,"uri",void 0),FF([fq({type:Number})],VF.prototype,"size",void 0),FF([fq()],VF.prototype,"theme",void 0),FF([fq()],VF.prototype,"imageSrc",void 0),FF([fq()],VF.prototype,"alt",void 0),FF([fq()],VF.prototype,"color",void 0),FF([fq({type:Boolean})],VF.prototype,"arenaClear",void 0),FF([fq({type:Boolean})],VF.prototype,"farcaster",void 0),VF=FF([gz("wui-qr-code")],VF);var KF=tD(uC||(uC=w(["\n  :host {\n    display: block;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);\n    background: linear-gradient(\n      120deg,\n      var(--wui-color-bg-200) 5%,\n      var(--wui-color-bg-200) 48%,\n      var(--wui-color-bg-300) 55%,\n      var(--wui-color-bg-300) 60%,\n      var(--wui-color-bg-300) calc(60% + 10px),\n      var(--wui-color-bg-200) calc(60% + 12px),\n      var(--wui-color-bg-200) 100%\n    );\n    background-size: 250%;\n    animation: shimmer 3s linear infinite reverse;\n  }\n\n  :host([variant='light']) {\n    background: linear-gradient(\n      120deg,\n      var(--wui-color-bg-150) 5%,\n      var(--wui-color-bg-150) 48%,\n      var(--wui-color-bg-200) 55%,\n      var(--wui-color-bg-200) 60%,\n      var(--wui-color-bg-200) calc(60% + 10px),\n      var(--wui-color-bg-150) calc(60% + 12px),\n      var(--wui-color-bg-150) 100%\n    );\n    background-size: 250%;\n  }\n\n  @keyframes shimmer {\n    from {\n      background-position: -250% 0;\n    }\n    to {\n      background-position: 250% 0;\n    }\n  }\n"]))),GF=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},$F=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).width="",e.height="",e.borderRadius="m",e.variant="default",e}return(0,_.Z)(n,[{key:"render",value:function(){return this.style.cssText="\n      width: ".concat(this.width,";\n      height: ").concat(this.height,";\n      border-radius: ","clamp(0px,var(--wui-border-radius-".concat(this.borderRadius,"), 40px)"),";\n    "),jD(lC||(lC=w(["<slot></slot>"])))}}]),n}(rz);$F.styles=[KF],GF([fq()],$F.prototype,"width",void 0),GF([fq()],$F.prototype,"height",void 0),GF([fq()],$F.prototype,"borderRadius",void 0),GF([fq()],$F.prototype,"variant",void 0),$F=GF([gz("wui-shimmer")],$F);var YF=tD(dC||(dC=w(["\n  .reown-logo {\n    height: var(--wui-spacing-xxl);\n  }\n"]))),JF=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"render",value:function(){return jD(fC||(fC=w(['\n      <wui-flex\n        justifyContent="center"\n        alignItems="center"\n        gap="xs"\n        .padding=','\n      >\n        <wui-text variant="small-500" color="fg-100"> UX by </wui-text>\n        <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>\n      </wui-flex>\n    '])),["0","0","l","0"])}}]),n}(rz);JF.styles=[lz,dz,YF],JF=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([gz("wui-ux-by-reown")],JF);var XF=tD(pC||(pC=w(["\n  @keyframes fadein {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  wui-shimmer {\n    width: 100%;\n    aspect-ratio: 1 / 1;\n    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;\n  }\n\n  wui-qr-code {\n    opacity: 0;\n    animation-duration: 200ms;\n    animation-timing-function: ease;\n    animation-name: fadein;\n    animation-fill-mode: forwards;\n  }\n"]))),QF=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e,r,i;return(0,O.Z)(this,n),(i=t.call(this)).forceUpdate=function(){i.requestUpdate()},window.addEventListener("resize",i.forceUpdate),O_.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:null!==(e=null===(r=i.wallet)||void 0===r?void 0:r.name)&&void 0!==e?e:"WalletConnect",platform:"qrcode"}}),i}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){var e;(0,m.Z)((0,b.Z)(n.prototype),"disconnectedCallback",this).call(this),null!==(e=this.unsubscribe)&&void 0!==e&&e.forEach((function(e){return e()})),window.removeEventListener("resize",this.forceUpdate)}},{key:"render",value:function(){return this.onRenderProxy(),jD(hC||(hC=w(['\n      <wui-flex\n        flexDirection="column"\n        alignItems="center"\n        .padding=','\n        gap="xl"\n      >\n        <wui-shimmer borderRadius="l" width="100%"> ',' </wui-shimmer>\n\n        <wui-text variant="paragraph-500" color="fg-100">\n          Scan this QR Code with your phone\n        </wui-text>\n        ',"\n      </wui-flex>\n      <w3m-mobile-download-links .wallet=","></w3m-mobile-download-links>\n    "])),["0","xl","xl","xl"],this.qrCodeTemplate(),this.copyTemplate(),this.wallet)}},{key:"onRenderProxy",value:function(){var e=this;!this.ready&&this.uri&&(this.timeout=setTimeout((function(){e.ready=!0}),200))}},{key:"qrCodeTemplate",value:function(){if(!this.uri||!this.ready)return null;var e=this.getBoundingClientRect().width-40,t=this.wallet?this.wallet.name:void 0;return eN.setWcLinking(void 0),eN.setRecentWallet(this.wallet),jD(vC||(vC=w([" <wui-qr-code\n      size=","\n      theme=","\n      uri=","\n      imageSrc=","\n      color=","\n      alt=",'\n      data-testid="wui-qr-code"\n    ></wui-qr-code>'])),e,j_.state.themeMode,this.uri,wq(y_.getWalletImage(this.wallet)),wq(j_.state.themeVariables["--w3m-qr-color"]),wq(t))}},{key:"copyTemplate",value:function(){var e=!this.uri||!this.ready;return jD(gC||(gC=w(["<wui-link\n      .disabled=","\n      @click=",'\n      color="fg-200"\n      data-testid="copy-wc2-uri"\n    >\n      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>\n      Copy link\n    </wui-link>'])),e,this.onCopyUri)}}]),n}(lW);QF.styles=XF,QF=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([gz("w3m-connecting-wc-qrcode")],QF);var eV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e,r;if((0,O.Z)(this,n),(r=t.call(this)).wallet=null===(e=U_.state.data)||void 0===e?void 0:e.wallet,!r.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");return O_.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:r.wallet.name,platform:"browser"}}),(0,y.Z)(r)}return(0,_.Z)(n,[{key:"render",value:function(){return jD(wC||(wC=w(['\n      <wui-flex\n        flexDirection="column"\n        alignItems="center"\n        .padding=','\n        gap="xl"\n      >\n        <wui-wallet-image\n          size="lg"\n          imageSrc=','\n        ></wui-wallet-image>\n\n        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>\n      </wui-flex>\n\n      <w3m-mobile-download-links .wallet=',"></w3m-mobile-download-links>\n    "])),["3xl","xl","xl","xl"],wq(y_.getWalletImage(this.wallet)),this.wallet)}}]),n}(rz);eV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([gz("w3m-connecting-wc-unsupported")],eV);var tV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},nV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;if((0,O.Z)(this,n),(e=t.call(this)).isLoading=!0,!e.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");return e.onConnect=e.onConnectProxy.bind((0,x.Z)(e)),e.secondaryBtnLabel="Open",e.secondaryLabel="Open and continue in a new browser tab",e.secondaryBtnIcon="externalLink",e.updateLoadingState(),e.unsubscribe.push(eN.subscribeKey("wcUri",(function(){e.updateLoadingState()}))),O_.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:e.wallet.name,platform:"web"}}),(0,y.Z)(e)}return(0,_.Z)(n,[{key:"updateLoadingState",value:function(){this.isLoading=!this.uri}},{key:"onConnectProxy",value:function(){var e;if(null!==(e=this.wallet)&&void 0!==e&&e.webapp_link&&this.uri)try{this.error=!1;var t=this.wallet,n=t.webapp_link,r=t.name,i=d_.formatUniversalUrl(n,this.uri),o=i.redirect,a=i.href;eN.setWcLinking({name:r,href:a}),eN.setRecentWallet(this.wallet),d_.openHref(o,"_blank")}catch(s){this.error=!0}}}]),n}(lW);tV([pq()],nV.prototype,"isLoading",void 0),nV=tV([gz("w3m-connecting-wc-web")],nV);var rV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},iV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e,r;return(0,O.Z)(this,n),(r=t.call(this)).wallet=null===(e=U_.state.data)||void 0===e?void 0:e.wallet,r.platform=void 0,r.platforms=[],r.isSiwxEnabled=!!Z_.state.siwx,r.determinePlatforms(),r.initializeConnection(),r}return(0,_.Z)(n,[{key:"render",value:function(){return jD(mC||(mC=w(["\n      ","\n      <div>","</div>\n      <wui-ux-by-reown></wui-ux-by-reown>\n    "])),this.headerTemplate(),this.platformTemplate())}},{key:"initializeConnection",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r,i,o,a,s=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],"browser"===this.platform||Z_.state.manualWCControl&&!t){e.next=14;break}if(e.prev=2,n=eN.state,r=n.wcPairingExpiry,i=n.status,e.t0=t||Z_.state.enableEmbedded||d_.isPairingExpired(r)||"connecting"===i,!e.t0){e.next=9;break}return e.next=8,eN.connectWalletConnect();case 8:this.isSiwxEnabled||PM.close();case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),O_.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:null!==(o=null===e.t1||void 0===e.t1?void 0:e.t1.message)&&void 0!==o?o:"Unknown"}}),eN.setWcError(!0),$_.showError(null!==(a=e.t1.message)&&void 0!==a?a:"Connection error"),eN.resetWcConnection(),U_.goBack();case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"determinePlatforms",value:function(){if(!this.wallet)return this.platforms.push("qrcode"),void(this.platform="qrcode");if(!this.platform){var e=this.wallet,t=e.mobile_link,n=e.desktop_link,r=e.webapp_link,i=e.injected,o=e.rdns,a=null===i||void 0===i?void 0:i.map((function(e){return e.injected_id})).filter(Boolean),s=(0,N.Z)(o?[o]:null!==a&&void 0!==a?a:[]),c=!Z_.state.isUniversalProvider&&s.length,u=t,l=r,d=eN.checkInstalled(s),f=c&&d,p=n&&!d_.isMobile();f&&!xM.state.noAdapters&&this.platforms.push("browser"),u&&this.platforms.push(d_.isMobile()?"mobile":"qrcode"),l&&this.platforms.push("web"),p&&this.platforms.push("desktop"),!f&&c&&!xM.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}}},{key:"platformTemplate",value:function(){var e=this;switch(this.platform){case"browser":return jD(bC||(bC=w(["<w3m-connecting-wc-browser></w3m-connecting-wc-browser>"])));case"web":return jD(yC||(yC=w(["<w3m-connecting-wc-web></w3m-connecting-wc-web>"])));case"desktop":return jD(xC||(xC=w(["\n          <w3m-connecting-wc-desktop .onRetry=",">\n          </w3m-connecting-wc-desktop>\n        "])),(function(){return e.initializeConnection(!0)}));case"mobile":return jD(kC||(kC=w(["\n          <w3m-connecting-wc-mobile isMobile .onRetry=",">\n          </w3m-connecting-wc-mobile>\n        "])),(function(){return e.initializeConnection(!0)}));case"qrcode":return jD(ZC||(ZC=w(["<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>"])));default:return jD(CC||(CC=w(["<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>"])))}}},{key:"headerTemplate",value:function(){return this.platforms.length>1?jD(EC||(EC=w(["\n      <w3m-connecting-header\n        .platforms=","\n        .onSelectPlatfrom=","\n      >\n      </w3m-connecting-header>\n    "])),this.platforms,this.onSelectPlatform.bind(this)):null}},{key:"onSelectPlatform",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("div"),e.t0=r,!e.t0){e.next=7;break}return e.next=5,r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished;case 5:this.platform=t,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(rz);rV([pq()],iV.prototype,"platform",void 0),rV([pq()],iV.prototype,"platforms",void 0),rV([pq()],iV.prototype,"isSiwxEnabled",void 0),iV=rV([gz("w3m-connecting-wc-view")],iV);var oV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},aV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).isMobile=d_.isMobile(),e}return(0,_.Z)(n,[{key:"render",value:function(){if(this.isMobile){var e=L_.state,t=e.featured,n=e.recommended,r=Z_.state.customWallets,i=l_.getRecentWallets(),o=t.length||n.length||(null===r||void 0===r?void 0:r.length)||i.length;return jD(IC||(IC=w(['<wui-flex\n        flexDirection="column"\n        gap="xs"\n        .margin=',"\n      >\n        ","\n        <w3m-all-wallets-widget></w3m-all-wallets-widget>\n      </wui-flex>"])),["3xs","s","s","s"],o?jD(SC||(SC=w(["<w3m-connector-list></w3m-connector-list>"]))):null)}return jD(AC||(AC=w(['<wui-flex flexDirection="column" .padding=','>\n      <w3m-connecting-wc-view></w3m-connecting-wc-view>\n      <wui-flex flexDirection="column" .padding=',">\n        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex\n    ></wui-flex>"])),["0","0","l","0"],["0","m","0","m"])}}]),n}(rz);oV([pq()],aV.prototype,"isMobile",void 0),aV=oV([gz("w3m-connecting-wc-basic-view")],aV);var sV=function(){return new cV},cV=(0,_.Z)((function e(){(0,O.Z)(this,e)})),uV=new WeakMap,lV=yq(function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"render",value:function(e){return qD}},{key:"update",value:function(e,t){var n,r=(0,S.Z)(t,1)[0],i=r!==this.G;return i&&void 0!==this.G&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.G=r,this.ht=null===(n=e.options)||void 0===n?void 0:n.host,this.rt(this.ct=e.element)),qD}},{key:"rt",value:function(e){if(this.isConnected||(e=void 0),"function"==typeof this.G){var t,n=null!==(t=this.ht)&&void 0!==t?t:globalThis,r=uV.get(n);void 0===r&&(r=new WeakMap,uV.set(n,r)),void 0!==r.get(this.G)&&this.G.call(this.ht,void 0),r.set(this.G,e),void 0!==e&&this.G.call(this.ht,e)}else this.G.value=e}},{key:"lt",get:function(){var e,t,n;return"function"==typeof this.G?null===(e=uV.get(null!==(t=this.ht)&&void 0!==t?t:globalThis))||void 0===e?void 0:e.get(this.G):null===(n=this.G)||void 0===n?void 0:n.value}},{key:"disconnected",value:function(){this.lt===this.ct&&this.rt(void 0)}},{key:"reconnected",value:function(){this.rt(this.ct)}}]),n}(Aq)),dV=tD(PC||(PC=w(["\n  :host {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  label {\n    position: relative;\n    display: inline-block;\n    width: 32px;\n    height: 22px;\n  }\n\n  input {\n    width: 0;\n    height: 0;\n    opacity: 0;\n  }\n\n  span {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: var(--wui-color-blue-100);\n    border-width: 1px;\n    border-style: solid;\n    border-color: var(--wui-color-gray-glass-002);\n    border-radius: 999px;\n    transition:\n      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),\n      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);\n    will-change: background-color, border-color;\n  }\n\n  span:before {\n    position: absolute;\n    content: '';\n    height: 16px;\n    width: 16px;\n    left: 3px;\n    top: 2px;\n    background-color: var(--wui-color-inverse-100);\n    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);\n    will-change: transform;\n    border-radius: 50%;\n  }\n\n  input:checked + span {\n    border-color: var(--wui-color-gray-glass-005);\n    background-color: var(--wui-color-blue-100);\n  }\n\n  input:not(:checked) + span {\n    background-color: var(--wui-color-gray-glass-010);\n  }\n\n  input:checked + span:before {\n    transform: translateX(calc(100% - 7px));\n  }\n"]))),fV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},pV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).inputElementRef=sV(),e.checked=void 0,e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(OC||(OC=w(["\n      <label>\n        <input\n          ",'\n          type="checkbox"\n          ?checked=',"\n          @change=","\n        />\n        <span></span>\n      </label>\n    "])),lV(this.inputElementRef),wq(this.checked),this.dispatchChangeEvent.bind(this))}},{key:"dispatchChangeEvent",value:function(){var e;this.dispatchEvent(new CustomEvent("switchChange",{detail:null===(e=this.inputElementRef.value)||void 0===e?void 0:e.checked,bubbles:!0,composed:!0}))}}]),n}(rz);pV.styles=[lz,dz,fz,dV],fV([fq({type:Boolean})],pV.prototype,"checked",void 0),pV=fV([gz("wui-switch")],pV);var hV=tD(_C||(_C=w(["\n  :host {\n    height: 100%;\n  }\n\n  button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    column-gap: var(--wui-spacing-1xs);\n    padding: var(--wui-spacing-xs) var(--wui-spacing-s);\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-xs);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: background-color;\n    cursor: pointer;\n  }\n\n  wui-switch {\n    pointer-events: none;\n  }\n"]))),vV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},gV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).checked=void 0,e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(NC||(NC=w(['\n      <button>\n        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>\n        <wui-switch ?checked=',"></wui-switch>\n      </button>\n    "])),wq(this.checked))}}]),n}(rz);gV.styles=[lz,dz,hV],vV([fq({type:Boolean})],gV.prototype,"checked",void 0),gV=vV([gz("wui-certified-switch")],gV);var wV=tD(TC||(TC=w(["\n  button {\n    background-color: var(--wui-color-fg-300);\n    border-radius: var(--wui-border-radius-4xs);\n    width: 16px;\n    height: 16px;\n  }\n\n  button:disabled {\n    background-color: var(--wui-color-bg-300);\n  }\n\n  wui-icon {\n    color: var(--wui-color-bg-200) !important;\n  }\n\n  button:focus-visible {\n    background-color: var(--wui-color-fg-250);\n    border: 1px solid var(--wui-color-accent-100);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    button:hover:enabled {\n      background-color: var(--wui-color-fg-250);\n    }\n\n    button:active:enabled {\n      background-color: var(--wui-color-fg-225);\n    }\n  }\n"]))),mV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).icon="copy",e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(RC||(RC=w(['\n      <button>\n        <wui-icon color="inherit" size="xxs" name=',"></wui-icon>\n      </button>\n    "])),this.icon)}}]),n}(rz);bV.styles=[lz,dz,wV],mV([fq()],bV.prototype,"icon",void 0),bV=mV([gz("wui-input-element")],bV);var yV=tD(LC||(LC=w(["\n  :host {\n    position: relative;\n    width: 100%;\n    display: inline-block;\n    color: var(--wui-color-fg-275);\n  }\n\n  input {\n    width: 100%;\n    border-radius: var(--wui-border-radius-xs);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    background: var(--wui-color-gray-glass-002);\n    font-size: var(--wui-font-size-paragraph);\n    letter-spacing: var(--wui-letter-spacing-paragraph);\n    color: var(--wui-color-fg-100);\n    transition:\n      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),\n      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),\n      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);\n    will-change: background-color, border-color, box-shadow;\n    caret-color: var(--wui-color-accent-100);\n  }\n\n  input:disabled {\n    cursor: not-allowed;\n    border: 1px solid var(--wui-color-gray-glass-010);\n  }\n\n  input:disabled::placeholder,\n  input:disabled + wui-icon {\n    color: var(--wui-color-fg-300);\n  }\n\n  input::placeholder {\n    color: var(--wui-color-fg-275);\n  }\n\n  input:focus:enabled {\n    background-color: var(--wui-color-gray-glass-005);\n    -webkit-box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0px 0px 0px 4px var(--wui-box-shadow-blue);\n    -moz-box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0px 0px 0px 4px var(--wui-box-shadow-blue);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0px 0px 0px 4px var(--wui-box-shadow-blue);\n  }\n\n  input:hover:enabled {\n    background-color: var(--wui-color-gray-glass-005);\n  }\n\n  wui-icon {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    pointer-events: none;\n  }\n\n  .wui-size-sm {\n    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);\n  }\n\n  wui-icon + .wui-size-sm {\n    padding: 9px var(--wui-spacing-m) 10px 36px;\n  }\n\n  wui-icon[data-input='sm'] {\n    left: var(--wui-spacing-s);\n  }\n\n  .wui-size-md {\n    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);\n  }\n\n  wui-icon + .wui-size-md,\n  wui-loading-spinner + .wui-size-md {\n    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);\n  }\n\n  wui-icon[data-input='md'] {\n    left: var(--wui-spacing-l);\n  }\n\n  .wui-size-lg {\n    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);\n    letter-spacing: var(--wui-letter-spacing-medium-title);\n    font-size: var(--wui-font-size-medium-title);\n    font-weight: var(--wui-font-weight-light);\n    line-height: 130%;\n    color: var(--wui-color-fg-100);\n    height: 64px;\n  }\n\n  .wui-padding-right-xs {\n    padding-right: var(--wui-spacing-xs);\n  }\n\n  .wui-padding-right-s {\n    padding-right: var(--wui-spacing-s);\n  }\n\n  .wui-padding-right-m {\n    padding-right: var(--wui-spacing-m);\n  }\n\n  .wui-padding-right-l {\n    padding-right: var(--wui-spacing-l);\n  }\n\n  .wui-padding-right-xl {\n    padding-right: var(--wui-spacing-xl);\n  }\n\n  .wui-padding-right-2xl {\n    padding-right: var(--wui-spacing-2xl);\n  }\n\n  .wui-padding-right-3xl {\n    padding-right: var(--wui-spacing-3xl);\n  }\n\n  .wui-padding-right-4xl {\n    padding-right: var(--wui-spacing-4xl);\n  }\n\n  .wui-padding-right-5xl {\n    padding-right: var(--wui-spacing-5xl);\n  }\n\n  wui-icon + .wui-size-lg,\n  wui-loading-spinner + .wui-size-lg {\n    padding-left: 50px;\n  }\n\n  wui-icon[data-input='lg'] {\n    left: var(--wui-spacing-l);\n  }\n\n  .wui-size-mdl {\n    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);\n  }\n  wui-icon + .wui-size-mdl,\n  wui-loading-spinner + .wui-size-mdl {\n    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;\n  }\n  wui-icon[data-input='mdl'] {\n    left: var(--wui-spacing-m);\n  }\n\n  input:placeholder-shown ~ ::slotted(wui-input-element),\n  input:placeholder-shown ~ ::slotted(wui-icon) {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  input[type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::slotted(wui-input-element),\n  ::slotted(wui-icon) {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n\n  ::slotted(wui-input-element) {\n    right: var(--wui-spacing-m);\n  }\n\n  ::slotted(wui-icon) {\n    right: 0px;\n  }\n"]))),xV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},kV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).inputElementRef=sV(),e.size="md",e.disabled=!1,e.placeholder="",e.type="text",e.value="",e}return(0,_.Z)(n,[{key:"render",value:function(){var e,t="wui-padding-right-".concat(this.inputRightPadding),n=(e={},(0,T.Z)(e,"wui-size-".concat(this.size),!0),(0,T.Z)(e,t,!!this.inputRightPadding),e);return jD(BC||(BC=w(["",'\n      <input\n        data-testid="wui-input-text"\n        ',"\n        class=","\n        type=","\n        enterkeyhint=","\n        ?disabled=","\n        placeholder=","\n        @input=","\n        .value=","\n        tabindex=","\n      />\n      <slot></slot>"])),this.templateIcon(),lV(this.inputElementRef),qq(n),this.type,wq(this.enterKeyHint),this.disabled,this.placeholder,this.dispatchInputChangeEvent.bind(this),this.value||"",wq(this.tabIdx))}},{key:"templateIcon",value:function(){return this.icon?jD(UC||(UC=w(["<wui-icon\n        data-input=","\n        size=",'\n        color="inherit"\n        name=',"\n      ></wui-icon>"])),this.size,this.size,this.icon):null}},{key:"dispatchInputChangeEvent",value:function(){var e;this.dispatchEvent(new CustomEvent("inputChange",{detail:null===(e=this.inputElementRef.value)||void 0===e?void 0:e.value,bubbles:!0,composed:!0}))}}]),n}(rz);kV.styles=[lz,dz,yV],xV([fq()],kV.prototype,"size",void 0),xV([fq()],kV.prototype,"icon",void 0),xV([fq({type:Boolean})],kV.prototype,"disabled",void 0),xV([fq()],kV.prototype,"placeholder",void 0),xV([fq()],kV.prototype,"type",void 0),xV([fq()],kV.prototype,"keyHint",void 0),xV([fq()],kV.prototype,"value",void 0),xV([fq()],kV.prototype,"inputRightPadding",void 0),xV([fq()],kV.prototype,"tabIdx",void 0),kV=xV([gz("wui-input-text")],kV);var ZV=tD(MC||(MC=w(["\n  :host {\n    position: relative;\n    display: inline-block;\n    width: 100%;\n  }\n"]))),CV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).inputComponentRef=sV(),e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(jC||(jC=w(["\n      <wui-input-text\n        ",'\n        placeholder="Search wallet"\n        icon="search"\n        type="search"\n        enterKeyHint="search"\n        size="sm"\n      >\n        <wui-input-element @click=',' icon="close"></wui-input-element>\n      </wui-input-text>\n    '])),lV(this.inputComponentRef),this.clearValue)}},{key:"clearValue",value:function(){var e,t=null===(e=this.inputComponentRef.value)||void 0===e?void 0:e.inputElementRef.value;t&&(t.value="",t.focus(),t.dispatchEvent(new Event("input")))}}]),n}(rz);CV.styles=[lz,ZV],CV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([gz("wui-search-bar")],CV);var EV=DD(DC||(DC=w(['<svg  viewBox="0 0 48 54" fill="none">\n  <path\n    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"\n  />\n</svg>']))),IV=tD(zC||(zC=w(["\n  :host {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 104px;\n    row-gap: var(--wui-spacing-xs);\n    padding: var(--wui-spacing-xs) 10px;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);\n    position: relative;\n  }\n\n  wui-shimmer[data-type='network'] {\n    border: none;\n    -webkit-clip-path: var(--wui-path-network);\n    clip-path: var(--wui-path-network);\n  }\n\n  svg {\n    position: absolute;\n    width: 48px;\n    height: 54px;\n    z-index: 1;\n  }\n\n  svg > path {\n    stroke: var(--wui-color-gray-glass-010);\n    stroke-width: 1px;\n  }\n\n  @media (max-width: 350px) {\n    :host {\n      width: 100%;\n    }\n  }\n"]))),SV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},AV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).type="wallet",e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(qC||(qC=w(["\n      ",'\n      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>\n    '])),this.shimmerTemplate())}},{key:"shimmerTemplate",value:function(){return"network"===this.type?jD(HC||(HC=w([" <wui-shimmer\n          data-type=",'\n          width="48px"\n          height="54px"\n          borderRadius="xs"\n        ></wui-shimmer>\n        ',""])),this.type,EV):jD(WC||(WC=w(['<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>'])))}}]),n}(rz);AV.styles=[lz,dz,IV],SV([fq()],AV.prototype,"type",void 0),AV=SV([gz("wui-card-select-loader")],AV);var PV=tD(FC||(FC=w(["\n  :host {\n    display: grid;\n    width: inherit;\n    height: inherit;\n  }\n"]))),OV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},_V=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"render",value:function(){return this.style.cssText="\n      grid-template-rows: ".concat(this.gridTemplateRows,";\n      grid-template-columns: ").concat(this.gridTemplateColumns,";\n      justify-items: ").concat(this.justifyItems,";\n      align-items: ").concat(this.alignItems,";\n      justify-content: ").concat(this.justifyContent,";\n      align-content: ").concat(this.alignContent,";\n      column-gap: ").concat(this.columnGap&&"var(--wui-spacing-".concat(this.columnGap,")"),";\n      row-gap: ").concat(this.rowGap&&"var(--wui-spacing-".concat(this.rowGap,")"),";\n      gap: ").concat(this.gap&&"var(--wui-spacing-".concat(this.gap,")"),";\n      padding-top: ").concat(this.padding&&pz(this.padding,0),";\n      padding-right: ").concat(this.padding&&pz(this.padding,1),";\n      padding-bottom: ").concat(this.padding&&pz(this.padding,2),";\n      padding-left: ").concat(this.padding&&pz(this.padding,3),";\n      margin-top: ").concat(this.margin&&pz(this.margin,0),";\n      margin-right: ").concat(this.margin&&pz(this.margin,1),";\n      margin-bottom: ").concat(this.margin&&pz(this.margin,2),";\n      margin-left: ").concat(this.margin&&pz(this.margin,3),";\n    "),jD(VC||(VC=w(["<slot></slot>"])))}}]),n}(rz);_V.styles=[lz,PV],OV([fq()],_V.prototype,"gridTemplateRows",void 0),OV([fq()],_V.prototype,"gridTemplateColumns",void 0),OV([fq()],_V.prototype,"justifyItems",void 0),OV([fq()],_V.prototype,"alignItems",void 0),OV([fq()],_V.prototype,"justifyContent",void 0),OV([fq()],_V.prototype,"alignContent",void 0),OV([fq()],_V.prototype,"columnGap",void 0),OV([fq()],_V.prototype,"rowGap",void 0),OV([fq()],_V.prototype,"gap",void 0),OV([fq()],_V.prototype,"padding",void 0),OV([fq()],_V.prototype,"margin",void 0),_V=OV([gz("wui-grid")],_V);var NV=tD(KC||(KC=w(["\n  button {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    width: 104px;\n    row-gap: var(--wui-spacing-xs);\n    padding: var(--wui-spacing-s) var(--wui-spacing-0);\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);\n    transition:\n      color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: background-color, color, border-radius;\n    outline: none;\n    border: none;\n  }\n\n  button > wui-flex > wui-text {\n    color: var(--wui-color-fg-100);\n    max-width: 86px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    justify-content: center;\n  }\n\n  button > wui-flex > wui-text.certified {\n    max-width: 66px;\n  }\n\n  button:hover:enabled {\n    background-color: var(--wui-color-gray-glass-005);\n  }\n\n  button:disabled > wui-flex > wui-text {\n    color: var(--wui-color-gray-glass-015);\n  }\n\n  [data-selected='true'] {\n    background-color: var(--wui-color-accent-glass-020);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    [data-selected='true']:hover:enabled {\n      background-color: var(--wui-color-accent-glass-015);\n    }\n  }\n\n  [data-selected='true']:active:enabled {\n    background-color: var(--wui-color-accent-glass-010);\n  }\n\n  @media (max-width: 350px) {\n    button {\n      width: 100%;\n    }\n  }\n"]))),TV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},RV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).observer=new IntersectionObserver((function(){})),e.visible=!1,e.imageSrc=void 0,e.imageLoading=!1,e.wallet=void 0,e.observer=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting?(e.visible=!0,e.fetchImageSrc()):e.visible=!1}))}),{threshold:.01}),e}return(0,_.Z)(n,[{key:"firstUpdated",value:function(){this.observer.observe(this)}},{key:"disconnectedCallback",value:function(){this.observer.disconnect()}},{key:"render",value:function(){var e,t,n="certified"===(null===(e=this.wallet)||void 0===e?void 0:e.badge_type);return jD(GC||(GC=w(["\n      <button>\n        ",'\n        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">\n          <wui-text\n            variant="tiny-500"\n            color="inherit"\n            class=',"\n            >","</wui-text\n          >\n          ","\n        </wui-flex>\n      </button>\n    "])),this.imageTemplate(),wq(n?"certified":void 0),null===(t=this.wallet)||void 0===t?void 0:t.name,n?jD($C||($C=w(['<wui-icon size="sm" name="walletConnectBrown"></wui-icon>']))):null)}},{key:"imageTemplate",value:function(){var e,t;return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():jD(YC||(YC=w(['\n      <wui-wallet-image\n        size="md"\n        imageSrc=',"\n        name=","\n        .installed=",'\n        badgeSize="sm"\n      >\n      </wui-wallet-image>\n    '])),wq(this.imageSrc),null===(e=this.wallet)||void 0===e?void 0:e.name,null===(t=this.wallet)||void 0===t?void 0:t.installed)}},{key:"shimmerTemplate",value:function(){return jD(JC||(JC=w(['<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>'])))}},{key:"fetchImageSrc",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.wallet,!e.t0){e.next=10;break}if(this.imageSrc=y_.getWalletImage(this.wallet),e.t1=!this.imageSrc,!e.t1){e.next=10;break}return this.imageLoading=!0,e.next=8,y_.fetchWalletImage(this.wallet.image_id);case 8:this.imageSrc=e.sent,this.imageLoading=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(rz);RV.styles=NV,TV([pq()],RV.prototype,"visible",void 0),TV([pq()],RV.prototype,"imageSrc",void 0),TV([pq()],RV.prototype,"imageLoading",void 0),TV([fq()],RV.prototype,"wallet",void 0),RV=TV([gz("w3m-all-wallets-list-item")],RV);var LV=tD(XC||(XC=w(["\n  wui-grid {\n    max-height: clamp(360px, 400px, 80vh);\n    overflow: scroll;\n    scrollbar-width: none;\n    grid-auto-rows: min-content;\n    grid-template-columns: repeat(auto-fill, 104px);\n  }\n\n  @media (max-width: 350px) {\n    wui-grid {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  }\n\n  wui-grid[data-scroll='false'] {\n    overflow: hidden;\n  }\n\n  wui-grid::-webkit-scrollbar {\n    display: none;\n  }\n\n  wui-loading-spinner {\n    padding-top: var(--wui-spacing-l);\n    padding-bottom: var(--wui-spacing-l);\n    justify-content: center;\n    grid-column: 1 / span 4;\n  }\n"]))),BV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},UV="local-paginator",MV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.paginationObserver=void 0,e.loading=!L_.state.wallets.length,e.wallets=L_.state.wallets,e.recommended=L_.state.recommended,e.featured=L_.state.featured,e.unsubscribe.push(L_.subscribeKey("wallets",(function(t){return e.wallets=t})),L_.subscribeKey("recommended",(function(t){return e.recommended=t})),L_.subscribeKey("featured",(function(t){return e.featured=t}))),e}return(0,_.Z)(n,[{key:"firstUpdated",value:function(){this.initialFetch(),this.createPaginationObserver()}},{key:"disconnectedCallback",value:function(){var e;this.unsubscribe.forEach((function(e){return e()})),null===(e=this.paginationObserver)||void 0===e||e.disconnect()}},{key:"render",value:function(){return jD(QC||(QC=w(["\n      <wui-grid\n        data-scroll=","\n        .padding=",'\n        columnGap="xxs"\n        rowGap="l"\n        justifyContent="space-between"\n      >\n        ',"\n        ","\n      </wui-grid>\n    "])),!this.loading,["0","s","s","s"],this.loading?this.shimmerTemplate(16):this.walletsTemplate(),this.paginationLoaderTemplate())}},{key:"initialFetch",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loading=!0,n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("wui-grid"),e.t0=n,!e.t0){e.next=10;break}return e.next=6,L_.fetchWalletsByPage({page:1});case 6:return e.next=8,n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished;case 8:this.loading=!1,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shimmerTemplate",value:function(e,t){return(0,N.Z)(Array(e)).map((function(){return jD(eE||(eE=w(['\n        <wui-card-select-loader type="wallet" id=',"></wui-card-select-loader>\n      "])),wq(t))}))}},{key:"walletsTemplate",value:function(){var e=this,t=d_.uniqueBy([].concat((0,N.Z)(this.featured),(0,N.Z)(this.recommended),(0,N.Z)(this.wallets)),"id");return Kj.markWalletsAsInstalled(t).map((function(t){return jD(tE||(tE=w(["\n        <w3m-all-wallets-list-item\n          @click=","\n          .wallet=","\n        ></w3m-all-wallets-list-item>\n      "])),(function(){return e.onConnectWallet(t)}),t)}))}},{key:"paginationLoaderTemplate",value:function(){var e=L_.state,t=e.wallets,n=e.recommended,r=e.featured,i=e.count,o=window.innerWidth<352?3:4,a=t.length+n.length,s=Math.ceil(a/o)*o-a+o;return s-=t.length?r.length%o:0,0===i&&r.length>0?null:0===i||[].concat((0,N.Z)(r),(0,N.Z)(t),(0,N.Z)(n)).length<i?this.shimmerTemplate(s,UV):null}},{key:"createPaginationObserver",value:function(){var e,t=this,n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("#".concat(UV));n&&(this.paginationObserver=new IntersectionObserver((function(e){var n=(0,S.Z)(e,1)[0];if(null!==n&&void 0!==n&&n.isIntersecting&&!t.loading){var r=L_.state,i=r.page,o=r.count;r.wallets.length<o&&L_.fetchWalletsByPage({page:i+1})}})),this.paginationObserver.observe(n))}},{key:"onConnectWallet",value:function(e){q_.selectWalletConnector(e)}}]),n}(rz);MV.styles=LV,BV([pq()],MV.prototype,"loading",void 0),BV([pq()],MV.prototype,"wallets",void 0),BV([pq()],MV.prototype,"recommended",void 0),BV([pq()],MV.prototype,"featured",void 0),MV=BV([gz("w3m-all-wallets-list")],MV);var jV=tD(nE||(nE=w(["\n  wui-grid,\n  wui-loading-spinner,\n  wui-flex {\n    height: 360px;\n  }\n\n  wui-grid {\n    overflow: scroll;\n    scrollbar-width: none;\n    grid-auto-rows: min-content;\n    grid-template-columns: repeat(auto-fill, 104px);\n  }\n\n  wui-grid[data-scroll='false'] {\n    overflow: hidden;\n  }\n\n  wui-grid::-webkit-scrollbar {\n    display: none;\n  }\n\n  wui-loading-spinner {\n    justify-content: center;\n    align-items: center;\n  }\n\n  @media (max-width: 350px) {\n    wui-grid {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  }\n"]))),DV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},zV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).prevQuery="",e.prevBadge=void 0,e.loading=!0,e.query="",e}return(0,_.Z)(n,[{key:"render",value:function(){return this.onSearch(),this.loading?jD(rE||(rE=w(['<wui-loading-spinner color="accent-100"></wui-loading-spinner>']))):this.walletsTemplate()}},{key:"onSearch",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge,!e.t0){e.next=8;break}return this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,e.next=7,L_.searchWallet({search:this.query,badge:this.badge});case 7:this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"walletsTemplate",value:function(){var e=this,t=L_.state.search,n=Kj.markWalletsAsInstalled(t);return t.length?jD(iE||(iE=w(['\n      <wui-grid\n        data-testid="wallet-list"\n        .padding=','\n        rowGap="l"\n        columnGap="xs"\n        justifyContent="space-between"\n      >\n        ',"\n      </wui-grid>\n    "])),["0","s","s","s"],n.map((function(t){return jD(oE||(oE=w(["\n            <w3m-all-wallets-list-item\n              @click=","\n              .wallet=",'\n              data-testid="wallet-search-item-','"\n            ></w3m-all-wallets-list-item>\n          '])),(function(){return e.onConnectWallet(t)}),t,t.id)}))):jD(aE||(aE=w(['\n        <wui-flex\n          data-testid="no-wallet-found"\n          justifyContent="center"\n          alignItems="center"\n          gap="s"\n          flexDirection="column"\n        >\n          <wui-icon-box\n            size="lg"\n            iconColor="fg-200"\n            backgroundColor="fg-300"\n            icon="wallet"\n            background="transparent"\n          ></wui-icon-box>\n          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">\n            No Wallet found\n          </wui-text>\n        </wui-flex>\n      '])))}},{key:"onConnectWallet",value:function(e){q_.selectWalletConnector(e)}}]),n}(rz);zV.styles=jV,DV([pq()],zV.prototype,"loading",void 0),DV([fq()],zV.prototype,"query",void 0),DV([fq()],zV.prototype,"badge",void 0),zV=DV([gz("w3m-all-wallets-search")],zV);var qV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},HV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).search="",e.onDebouncedSearch=d_.debounce((function(t){e.search=t})),e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this.search.length>=2;return jD(sE||(sE=w(["\n      <wui-flex .padding=",' gap="xs">\n        <wui-search-bar @inputChange=',"></wui-search-bar>\n        <wui-certified-switch\n          ?checked=","\n          @click=",'\n          data-testid="wui-certified-switch"\n        ></wui-certified-switch>\n        ',"\n      </wui-flex>\n      ","\n    "])),["0","s","s","s"],this.onInputChange.bind(this),this.badge,this.onClick.bind(this),this.qrButtonTemplate(),e||this.badge?jD(cE||(cE=w(["<w3m-all-wallets-search\n            query=","\n            badge=","\n          ></w3m-all-wallets-search>"])),this.search,wq(this.badge)):jD(uE||(uE=w(["<w3m-all-wallets-list badge=","></w3m-all-wallets-list>"])),wq(this.badge)))}},{key:"onInputChange",value:function(e){this.onDebouncedSearch(e.detail)}},{key:"onClick",value:function(){"certified"!==this.badge?(this.badge="certified",$_.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})):this.badge=void 0}},{key:"qrButtonTemplate",value:function(){return d_.isMobile()?jD(lE||(lE=w(['\n        <wui-icon-box\n          size="lg"\n          iconSize="xl"\n          iconColor="accent-100"\n          backgroundColor="accent-100"\n          icon="qrCode"\n          background="transparent"\n          border\n          borderColor="wui-accent-glass-010"\n          @click=',"\n        ></wui-icon-box>\n      "])),this.onWalletConnectQr.bind(this)):null}},{key:"onWalletConnectQr",value:function(){U_.push("ConnectingWalletConnect")}}]),n}(rz);qV([pq()],HV.prototype,"search",void 0),qV([pq()],HV.prototype,"badge",void 0),HV=qV([gz("w3m-all-wallets-view")],HV);var WV=tD(dE||(dE=w(["\n  button {\n    column-gap: var(--wui-spacing-s);\n    padding: 11px 18px 11px var(--wui-spacing-s);\n    width: 100%;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-xs);\n    color: var(--wui-color-fg-250);\n    transition:\n      color var(--wui-ease-out-power-1) var(--wui-duration-md),\n      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: color, background-color;\n  }\n\n  button[data-iconvariant='square'],\n  button[data-iconvariant='square-blue'] {\n    padding: 6px 18px 6px 9px;\n  }\n\n  button > wui-flex {\n    flex: 1;\n  }\n\n  button > wui-image {\n    width: 32px;\n    height: 32px;\n    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);\n    border-radius: var(--wui-border-radius-3xl);\n  }\n\n  button > wui-icon {\n    width: 36px;\n    height: 36px;\n    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: opacity;\n  }\n\n  button > wui-icon-box[data-variant='blue'] {\n    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);\n  }\n\n  button > wui-icon-box[data-variant='overlay'] {\n    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);\n  }\n\n  button > wui-icon-box[data-variant='square-blue'] {\n    border-radius: var(--wui-border-radius-3xs);\n    position: relative;\n    border: none;\n    width: 36px;\n    height: 36px;\n  }\n\n  button > wui-icon-box[data-variant='square-blue']::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: inherit;\n    border: 1px solid var(--wui-color-accent-glass-010);\n    pointer-events: none;\n  }\n\n  button > wui-icon:last-child {\n    width: 14px;\n    height: 14px;\n  }\n\n  button:disabled {\n    color: var(--wui-color-gray-glass-020);\n  }\n\n  button[data-loading='true'] > wui-icon {\n    opacity: 0;\n  }\n\n  wui-loading-spinner {\n    position: absolute;\n    right: 18px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"]))),FV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},VV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).tabIdx=void 0,e.variant="icon",e.disabled=!1,e.imageSrc=void 0,e.alt=void 0,e.chevron=!1,e.loading=!1,e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(fE||(fE=w(["\n      <button\n        ?disabled=","\n        data-loading=","\n        data-iconvariant=","\n        tabindex=","\n      >\n        "," ",'\n        <wui-flex gap="3xs">\n          <slot></slot>\n        </wui-flex>\n        ',"\n      </button>\n    "])),!!this.loading||!!this.disabled,this.loading,wq(this.iconVariant),wq(this.tabIdx),this.loadingTemplate(),this.visualTemplate(),this.chevronTemplate())}},{key:"visualTemplate",value:function(){var e;if("image"===this.variant&&this.imageSrc)return jD(pE||(pE=w(["<wui-image src="," alt=","></wui-image>"])),this.imageSrc,null!==(e=this.alt)&&void 0!==e?e:"list item");if("square"===this.iconVariant&&this.icon&&"icon"===this.variant)return jD(hE||(hE=w(["<wui-icon name=","></wui-icon>"])),this.icon);if("icon"===this.variant&&this.icon&&this.iconVariant){var t=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",n="square-blue"===this.iconVariant?"mdl":"md",r=this.iconSize?this.iconSize:n;return jD(vE||(vE=w(["\n        <wui-icon-box\n          data-variant=","\n          icon=","\n          iconSize=",'\n          background="transparent"\n          iconColor=',"\n          backgroundColor=","\n          size=","\n        ></wui-icon-box>\n      "])),this.iconVariant,this.icon,r,t,t,n)}return null}},{key:"loadingTemplate",value:function(){return this.loading?jD(gE||(gE=w(['<wui-loading-spinner\n        data-testid="wui-list-item-loading-spinner"\n        color="fg-300"\n      ></wui-loading-spinner>']))):jD(wE||(wE=w([""])))}},{key:"chevronTemplate",value:function(){return this.chevron?jD(mE||(mE=w(['<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>']))):null}}]),n}(rz);VV.styles=[lz,dz,WV],FV([fq()],VV.prototype,"icon",void 0),FV([fq()],VV.prototype,"iconSize",void 0),FV([fq()],VV.prototype,"tabIdx",void 0),FV([fq()],VV.prototype,"variant",void 0),FV([fq()],VV.prototype,"iconVariant",void 0),FV([fq({type:Boolean})],VV.prototype,"disabled",void 0),FV([fq()],VV.prototype,"imageSrc",void 0),FV([fq()],VV.prototype,"alt",void 0),FV([fq({type:Boolean})],VV.prototype,"chevron",void 0),FV([fq({type:Boolean})],VV.prototype,"loading",void 0),VV=FV([gz("wui-list-item")],VV);var KV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e,r;return(0,O.Z)(this,n),(r=t.apply(this,arguments)).wallet=null===(e=U_.state.data)||void 0===e?void 0:e.wallet,r}return(0,_.Z)(n,[{key:"render",value:function(){if(!this.wallet)throw new Error("w3m-downloads-view");return jD(bE||(bE=w(['\n      <wui-flex gap="xs" flexDirection="column" .padding=',">\n        "," "," ","\n        ","\n      </wui-flex>\n    "])),["s","s","l","s"],this.chromeTemplate(),this.iosTemplate(),this.androidTemplate(),this.homepageTemplate())}},{key:"chromeTemplate",value:function(){var e;return null!==(e=this.wallet)&&void 0!==e&&e.chrome_store?jD(yE||(yE=w(['<wui-list-item\n      variant="icon"\n      icon="chromeStore"\n      iconVariant="square"\n      @click=','\n      chevron\n    >\n      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>\n    </wui-list-item>'])),this.onChromeStore.bind(this)):null}},{key:"iosTemplate",value:function(){var e;return null!==(e=this.wallet)&&void 0!==e&&e.app_store?jD(xE||(xE=w(['<wui-list-item\n      variant="icon"\n      icon="appStore"\n      iconVariant="square"\n      @click=','\n      chevron\n    >\n      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>\n    </wui-list-item>'])),this.onAppStore.bind(this)):null}},{key:"androidTemplate",value:function(){var e;return null!==(e=this.wallet)&&void 0!==e&&e.play_store?jD(kE||(kE=w(['<wui-list-item\n      variant="icon"\n      icon="playStore"\n      iconVariant="square"\n      @click=','\n      chevron\n    >\n      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>\n    </wui-list-item>'])),this.onPlayStore.bind(this)):null}},{key:"homepageTemplate",value:function(){var e;return null!==(e=this.wallet)&&void 0!==e&&e.homepage?jD(ZE||(ZE=w(['\n      <wui-list-item\n        variant="icon"\n        icon="browser"\n        iconVariant="square-blue"\n        @click=','\n        chevron\n      >\n        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>\n      </wui-list-item>\n    '])),this.onHomePage.bind(this)):null}},{key:"onChromeStore",value:function(){var e;(null===(e=this.wallet)||void 0===e?void 0:e.chrome_store)&&d_.openHref(this.wallet.chrome_store,"_blank")}},{key:"onAppStore",value:function(){var e;(null===(e=this.wallet)||void 0===e?void 0:e.app_store)&&d_.openHref(this.wallet.app_store,"_blank")}},{key:"onPlayStore",value:function(){var e;(null===(e=this.wallet)||void 0===e?void 0:e.play_store)&&d_.openHref(this.wallet.play_store,"_blank")}},{key:"onHomePage",value:function(){var e;(null===(e=this.wallet)||void 0===e?void 0:e.homepage)&&d_.openHref(this.wallet.homepage,"_blank")}}]),n}(rz);KV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([gz("w3m-downloads-view")],KV);var GV=Object.freeze({__proto__:null,get W3mConnectingWcBasicView(){return aV},get W3mAllWalletsView(){return HV},get W3mDownloadsView(){return KV}}),$V=tD(CE||(CE=w(["\n  :host {\n    display: block;\n    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);\n    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);\n    background-color: var(--wui-color-modal-bg);\n    overflow: hidden;\n  }\n\n  :host([data-embedded='true']) {\n    box-shadow:\n      0 0 0 1px var(--wui-color-gray-glass-005),\n      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);\n  }\n"]))),YV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"render",value:function(){return jD(EE||(EE=w(["<slot></slot>"])))}}]),n}(rz);YV.styles=[lz,$V],YV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([gz("wui-card")],YV);var JV=tD(IE||(IE=w(["\n  :host {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: var(--wui-spacing-s);\n    border-radius: var(--wui-border-radius-s);\n    border: 1px solid var(--wui-color-dark-glass-100);\n    box-sizing: border-box;\n    background-color: var(--wui-color-bg-325);\n    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);\n  }\n\n  wui-flex {\n    width: 100%;\n  }\n\n  wui-text {\n    word-break: break-word;\n    flex: 1;\n  }\n\n  .close {\n    cursor: pointer;\n  }\n\n  .icon-box {\n    height: 40px;\n    width: 40px;\n    border-radius: var(--wui-border-radius-3xs);\n    background-color: var(--local-icon-bg-value);\n  }\n"]))),XV=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},QV=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).message="",e.backgroundColor="accent-100",e.iconColor="accent-100",e.icon="info",e}return(0,_.Z)(n,[{key:"render",value:function(){return this.style.cssText="\n      --local-icon-bg-value: var(--wui-color-".concat(this.backgroundColor,");\n   "),jD(SE||(SE=w(['\n      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">\n        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">\n          <wui-flex\n            flexDirection="row"\n            alignItems="center"\n            justifyContent="center"\n            class="icon-box"\n          >\n            <wui-icon color=',' size="md" name=','></wui-icon>\n          </wui-flex>\n          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"\n            >','</wui-text\n          >\n        </wui-flex>\n        <wui-icon\n          class="close"\n          color="bg-350"\n          size="sm"\n          name="close"\n          @click=',"\n        ></wui-icon>\n      </wui-flex>\n    "])),this.iconColor,this.icon,this.message,this.onClose)}},{key:"onClose",value:function(){E_.close()}}]),n}(rz);QV.styles=[lz,JV],XV([fq()],QV.prototype,"message",void 0),XV([fq()],QV.prototype,"backgroundColor",void 0),XV([fq()],QV.prototype,"iconColor",void 0),XV([fq()],QV.prototype,"icon",void 0),QV=XV([gz("wui-alertbar")],QV);var eK=tD(AE||(AE=w(["\n  :host {\n    display: block;\n    position: absolute;\n    top: var(--wui-spacing-s);\n    left: var(--wui-spacing-l);\n    right: var(--wui-spacing-l);\n    opacity: 0;\n    pointer-events: none;\n  }\n"]))),tK=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},nK={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}},rK=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.open=E_.state.open,e.onOpen(!0),e.unsubscribe.push(E_.subscribeKey("open",(function(t){e.open=t,e.onOpen(!1)}))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){var e=E_.state,t=e.message,n=e.variant,r=nK[n];return jD(PE||(PE=w(["\n      <wui-alertbar\n        message=","\n        backgroundColor=","\n        iconColor=","\n        icon=","\n      ></wui-alertbar>\n    "])),t,null===r||void 0===r?void 0:r.backgroundColor,null===r||void 0===r?void 0:r.iconColor,null===r||void 0===r?void 0:r.icon)}},{key:"onOpen",value:function(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}}]),n}(rz);rK.styles=eK,tK([pq()],rK.prototype,"open",void 0),rK=tK([gz("w3m-alertbar")],rK);var iK=tD(OE||(OE=w(["\n  button {\n    border-radius: var(--local-border-radius);\n    color: var(--wui-color-fg-100);\n    padding: var(--local-padding);\n  }\n\n  @media (max-width: 700px) {\n    button {\n      padding: var(--wui-spacing-s);\n    }\n  }\n\n  button > wui-icon {\n    pointer-events: none;\n  }\n\n  button:disabled > wui-icon {\n    color: var(--wui-color-bg-300) !important;\n  }\n\n  button:disabled {\n    background-color: transparent;\n  }\n"]))),oK=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},aK=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).size="md",e.disabled=!1,e.icon="copy",e.iconColor="inherit",e}return(0,_.Z)(n,[{key:"render",value:function(){var e="lg"===this.size?"--wui-border-radius-xs":"--wui-border-radius-xxs",t="lg"===this.size?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText="\n    --local-border-radius: var(".concat(e,");\n    --local-padding: var(").concat(t,");\n"),jD(_E||(_E=w(["\n      <button ?disabled=",">\n        <wui-icon color="," size="," name=","></wui-icon>\n      </button>\n    "])),this.disabled,this.iconColor,this.size,this.icon)}}]),n}(rz);aK.styles=[lz,dz,fz,iK],oK([fq()],aK.prototype,"size",void 0),oK([fq({type:Boolean})],aK.prototype,"disabled",void 0),oK([fq()],aK.prototype,"icon",void 0),oK([fq()],aK.prototype,"iconColor",void 0),aK=oK([gz("wui-icon-link")],aK);var sK=tD(NE||(NE=w(["\n  button {\n    display: block;\n    display: flex;\n    align-items: center;\n    padding: var(--wui-spacing-xxs);\n    gap: var(--wui-spacing-xxs);\n    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);\n    border-radius: var(--wui-border-radius-xxs);\n  }\n\n  wui-image {\n    border-radius: 100%;\n    width: var(--wui-spacing-xl);\n    height: var(--wui-spacing-xl);\n  }\n\n  wui-icon-box {\n    width: var(--wui-spacing-xl);\n    height: var(--wui-spacing-xl);\n  }\n\n  button:hover {\n    background-color: var(--wui-color-gray-glass-002);\n  }\n\n  button:active {\n    background-color: var(--wui-color-gray-glass-005);\n  }\n"]))),cK=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},uK=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).imageSrc="",e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(TE||(TE=w(["<button>\n      ",'\n      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>\n    </button>'])),this.imageTemplate())}},{key:"imageTemplate",value:function(){return this.imageSrc?jD(RE||(RE=w(["<wui-image src=",' alt="select visual"></wui-image>'])),this.imageSrc):jD(LE||(LE=w(['<wui-icon-box\n      size="xxs"\n      iconColor="fg-200"\n      backgroundColor="fg-100"\n      background="opaque"\n      icon="networkPlaceholder"\n    ></wui-icon-box>'])))}}]),n}(rz);uK.styles=[lz,dz,fz,sK],cK([fq()],uK.prototype,"imageSrc",void 0),uK=cK([gz("wui-select")],uK);var lK=tD(BE||(BE=w(["\n  :host {\n    height: 64px;\n  }\n\n  wui-text {\n    text-transform: capitalize;\n  }\n\n  wui-flex.w3m-header-title {\n    transform: translateY(0);\n    opacity: 1;\n  }\n\n  wui-flex.w3m-header-title[view-direction='prev'] {\n    animation:\n      slide-down-out 120ms forwards var(--wui-ease-out-power-2),\n      slide-down-in 120ms forwards var(--wui-ease-out-power-2);\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-flex.w3m-header-title[view-direction='next'] {\n    animation:\n      slide-up-out 120ms forwards var(--wui-ease-out-power-2),\n      slide-up-in 120ms forwards var(--wui-ease-out-power-2);\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-icon-link[data-hidden='true'] {\n    opacity: 0 !important;\n    pointer-events: none;\n  }\n\n  @keyframes slide-up-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-up-in {\n    from {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-down-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-down-in {\n    from {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n"]))),dK=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fK=["SmartSessionList"];function pK(){var e,t,n,r,i,o,a,s=null===(e=U_.state.data)||void 0===e||null===(t=e.connector)||void 0===t?void 0:t.name,c=null===(n=U_.state.data)||void 0===n||null===(r=n.wallet)||void 0===r?void 0:r.name,u=null===(i=U_.state.data)||void 0===i||null===(o=i.network)||void 0===o?void 0:o.name,l=null!==c&&void 0!==c?c:s,d=q_.getConnectors();return{Connect:"Connect ".concat(1===d.length&&"w3m-email"===(null===(a=d[0])||void 0===a?void 0:a.id)?"Email":""," Wallet"),Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:null!==l&&void 0!==l?l:"Connect Wallet",ConnectingWalletConnect:null!==l&&void 0!==l?l:"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:l?"Get ".concat(l):"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Profile:void 0,SwitchNetwork:null!==u&&void 0!==u?u:"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:SM.state.socialProvider?SM.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In"}}var hK=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.heading=pK()[U_.state.view],e.network=xM.state.activeCaipNetwork,e.networkImage=y_.getNetworkImage(e.network),e.buffering=!1,e.showBack=!1,e.prevHistoryLength=1,e.view=U_.state.view,e.viewDirection="",e.headerText=pK()[U_.state.view],e.unsubscribe.push(w_.subscribeNetworkImages((function(){e.networkImage=y_.getNetworkImage(e.network)})),U_.subscribeKey("view",(function(t){setTimeout((function(){e.view=t,e.headerText=pK()[t]}),Vj.ANIMATION_DURATIONS.HeaderText),e.onViewChange(),e.onHistoryChange()})),eN.subscribeKey("buffering",(function(t){return e.buffering=t})),xM.subscribeKey("activeCaipNetwork",(function(t){e.network=t,e.networkImage=y_.getNetworkImage(e.network)}))),e}return(0,_.Z)(n,[{key:"disconnectCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){return jD(UE||(UE=w(["\n      <wui-flex .padding=",' justifyContent="space-between" alignItems="center">\n        '," "," ","\n      </wui-flex>\n    "])),this.getPadding(),this.leftHeaderTemplate(),this.titleTemplate(),this.rightHeaderTemplate())}},{key:"onWalletHelp",value:function(){O_.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),U_.push("WhatIsAWallet")}},{key:"onClose",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="UnsupportedChain"===U_.state.view,e.t0){e.next=5;break}return e.next=4,Y_.isSIWXCloseDisabled();case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}PM.shake(),e.next=10;break;case 9:PM.close();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"rightHeaderTemplate",value:function(){var e,t,n=null===Z_||void 0===Z_||null===(e=Z_.state)||void 0===e||null===(t=e.features)||void 0===t?void 0:t.smartSessions;return"Account"===U_.state.view&&n?jD(ME||(ME=w(['<wui-flex>\n      <wui-icon-link\n        icon="clock"\n        @click=','\n        data-testid="w3m-header-smart-sessions"\n      ></wui-icon-link>\n      ',"\n    </wui-flex> "])),(function(){return U_.push("SmartSessionList")}),this.closeButtonTemplate()):this.closeButtonTemplate()}},{key:"closeButtonTemplate",value:function(){return jD(jE||(jE=w(["\n      <wui-icon-link\n        ?disabled=",'\n        icon="close"\n        @click=','\n        data-testid="w3m-header-close"\n      ></wui-icon-link>\n    '])),this.buffering,this.onClose.bind(this))}},{key:"titleTemplate",value:function(){var e=fK.includes(this.view);return jD(DE||(DE=w(['\n      <wui-flex\n        view-direction="','"\n        class="w3m-header-title"\n        alignItems="center"\n        gap="xs"\n      >\n        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"\n          >',"</wui-text\n        >\n        ","\n      </wui-flex>\n    "])),this.viewDirection,this.headerText,e?jD(zE||(zE=w(['<wui-tag variant="main">Beta</wui-tag>']))):null)}},{key:"leftHeaderTemplate",value:function(){var e,t=U_.state.view,n="Connect"===t,r=Z_.state.enableEmbedded,i="ApproveTransaction"===t,o="ConnectingSiwe"===t,a="Account"===t,s=Z_.state.enableNetworkSwitch,c=i||o||n&&r;return a&&s?jD(qE||(qE=w(['<wui-select\n        id="dynamic"\n        data-testid="w3m-account-select-network"\n        active-network=',"\n        @click=","\n        imageSrc=","\n      ></wui-select>"])),wq(null===(e=this.network)||void 0===e?void 0:e.name),this.onNetworks.bind(this),wq(this.networkImage)):this.showBack&&!c?jD(HE||(HE=w(['<wui-icon-link\n        data-testid="header-back"\n        id="dynamic"\n        icon="chevronLeft"\n        ?disabled=',"\n        @click=","\n      ></wui-icon-link>"])),this.buffering,this.onGoBack.bind(this)):jD(WE||(WE=w(["<wui-icon-link\n      data-hidden=",'\n      id="dynamic"\n      icon="helpCircle"\n      @click=',"\n    ></wui-icon-link>"])),!n,this.onWalletHelp.bind(this))}},{key:"onNetworks",value:function(){this.isAllowedNetworkSwitch()&&(O_.sendEvent({type:"track",event:"CLICK_NETWORKS"}),U_.push("Networks"))}},{key:"isAllowedNetworkSwitch",value:function(){var e=this,t=xM.getAllRequestedCaipNetworks(),n=!!t&&t.length>1,r=null===t||void 0===t?void 0:t.find((function(t){var n;return t.id===(null===(n=e.network)||void 0===n?void 0:n.id)}));return n||!r}},{key:"getPadding",value:function(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}},{key:"onViewChange",value:function(){var e=U_.state.history,t=Vj.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(t=Vj.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=t}},{key:"onHistoryChange",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){var t,n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=U_.state.history,r=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("#dynamic"),!(n.length>1&&!this.showBack&&r)){e.next=8;break}return e.next=4,r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished;case 4:this.showBack=!0,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}),e.next=14;break;case 8:if(e.t0=n.length<=1&&this.showBack&&r,!e.t0){e.next=14;break}return e.next=12,r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished;case 12:this.showBack=!1,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onGoBack",value:function(){U_.goBack()}}]),n}(rz);hK.styles=lK,dK([pq()],hK.prototype,"heading",void 0),dK([pq()],hK.prototype,"network",void 0),dK([pq()],hK.prototype,"networkImage",void 0),dK([pq()],hK.prototype,"buffering",void 0),dK([pq()],hK.prototype,"showBack",void 0),dK([pq()],hK.prototype,"prevHistoryLength",void 0),dK([pq()],hK.prototype,"view",void 0),dK([pq()],hK.prototype,"viewDirection",void 0),dK([pq()],hK.prototype,"headerText",void 0),hK=dK([gz("w3m-header")],hK);var vK=tD(FE||(FE=w(["\n  :host {\n    display: flex;\n    column-gap: var(--wui-spacing-s);\n    align-items: center;\n    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);\n    border-radius: var(--wui-border-radius-s);\n    border: 1px solid var(--wui-color-gray-glass-005);\n    box-sizing: border-box;\n    background-color: var(--wui-color-bg-175);\n    box-shadow:\n      0px 14px 64px -4px rgba(0, 0, 0, 0.15),\n      0px 8px 22px -6px rgba(0, 0, 0, 0.15);\n\n    max-width: 300px;\n  }\n\n  :host wui-loading-spinner {\n    margin-left: var(--wui-spacing-3xs);\n  }\n"]))),gK=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},wK=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.apply(this,arguments)).backgroundColor="accent-100",e.iconColor="accent-100",e.icon="checkmark",e.message="",e.loading=!1,e.iconType="default",e}return(0,_.Z)(n,[{key:"render",value:function(){return jD(VE||(VE=w(["\n      ",'\n      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"\n        >',"</wui-text\n      >\n    "])),this.templateIcon(),this.message)}},{key:"templateIcon",value:function(){return this.loading?jD(KE||(KE=w(['<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>']))):"default"===this.iconType?jD(GE||(GE=w(['<wui-icon size="xl" color='," name=","></wui-icon>"])),this.iconColor,this.icon):jD($E||($E=w(['<wui-icon-box\n      size="sm"\n      iconSize="xs"\n      iconColor=',"\n      backgroundColor=","\n      icon=",'\n      background="opaque"\n    ></wui-icon-box>'])),this.iconColor,this.backgroundColor,this.icon)}}]),n}(rz);wK.styles=[lz,vK],gK([fq()],wK.prototype,"backgroundColor",void 0),gK([fq()],wK.prototype,"iconColor",void 0),gK([fq()],wK.prototype,"icon",void 0),gK([fq()],wK.prototype,"message",void 0),gK([fq()],wK.prototype,"loading",void 0),gK([fq()],wK.prototype,"iconType",void 0),wK=gK([gz("wui-snackbar")],wK);var mK=tD(YE||(YE=w(["\n  :host {\n    display: block;\n    position: absolute;\n    opacity: 0;\n    pointer-events: none;\n    top: 11px;\n    left: 50%;\n    width: max-content;\n  }\n"]))),bK=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},yK={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}},xK=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.timeout=void 0,e.open=$_.state.open,e.unsubscribe.push($_.subscribeKey("open",(function(t){e.open=t,e.onOpen()}))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){clearTimeout(this.timeout),this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){var e,t=$_.state,n=t.message,r=t.variant,i=t.svg,o=yK[r],a=null!==(e=null!==i&&void 0!==i?i:o)&&void 0!==e?e:{},s=a.icon,c=a.iconColor;return jD(JE||(JE=w(["\n      <wui-snackbar\n        message=","\n        backgroundColor=","\n        iconColor=","\n        icon=","\n        .loading=","\n      ></wui-snackbar>\n    "])),n,null===o||void 0===o?void 0:o.backgroundColor,c,s,"loading"===r)}},{key:"onOpen",value:function(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),$_.state.autoClose&&(this.timeout=setTimeout((function(){return $_.hide()}),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}}]),n}(rz);xK.styles=mK,bK([pq()],xK.prototype,"open",void 0),xK=bK([gz("w3m-snackbar")],xK);var kK=tD(XE||(XE=w(["\n  :host {\n    pointer-events: none;\n  }\n\n  :host > wui-flex {\n    display: var(--w3m-tooltip-display);\n    opacity: var(--w3m-tooltip-opacity);\n    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);\n    border-radius: var(--wui-border-radius-xxs);\n    color: var(--wui-color-bg-100);\n    position: fixed;\n    top: var(--w3m-tooltip-top);\n    left: var(--w3m-tooltip-left);\n    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));\n    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));\n    transition: opacity 0.2s var(--wui-ease-out-power-2);\n    will-change: opacity;\n  }\n\n  :host([data-variant='shade']) > wui-flex {\n    background-color: var(--wui-color-bg-150);\n    border: 1px solid var(--wui-color-gray-glass-005);\n  }\n\n  :host([data-variant='shade']) > wui-flex > wui-text {\n    color: var(--wui-color-fg-150);\n  }\n\n  :host([data-variant='fill']) > wui-flex {\n    background-color: var(--wui-color-fg-100);\n    border: none;\n  }\n\n  wui-icon {\n    position: absolute;\n    width: 12px !important;\n    height: 4px !important;\n    color: var(--wui-color-bg-150);\n  }\n\n  wui-icon[data-placement='top'] {\n    bottom: 0px;\n    left: 50%;\n    transform: translate(-50%, 95%);\n  }\n\n  wui-icon[data-placement='bottom'] {\n    top: 0;\n    left: 50%;\n    transform: translate(-50%, -95%) rotate(180deg);\n  }\n\n  wui-icon[data-placement='right'] {\n    top: 50%;\n    left: 0;\n    transform: translate(-65%, -50%) rotate(90deg);\n  }\n\n  wui-icon[data-placement='left'] {\n    top: 50%;\n    right: 0%;\n    transform: translate(65%, -50%) rotate(270deg);\n  }\n"]))),ZK=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},CK=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.open=NM.state.open,e.message=NM.state.message,e.triggerRect=NM.state.triggerRect,e.variant=NM.state.variant,e.unsubscribe.push(NM.subscribe((function(t){e.open=t.open,e.message=t.message,e.triggerRect=t.triggerRect,e.variant=t.variant}))),e}return(0,_.Z)(n,[{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){this.dataset.variant=this.variant;var e=this.triggerRect.top,t=this.triggerRect.left;return this.style.cssText="\n    --w3m-tooltip-top: ".concat(e,"px;\n    --w3m-tooltip-left: ").concat(t,"px;\n    --w3m-tooltip-parent-width: ").concat(this.triggerRect.width/2,"px;\n    --w3m-tooltip-display: ").concat(this.open?"flex":"none",";\n    --w3m-tooltip-opacity: ").concat(this.open?1:0,";\n    "),jD(QE||(QE=w(['<wui-flex>\n      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>\n      <wui-text color="inherit" variant="small-500">',"</wui-text>\n    </wui-flex>"])),this.message)}}]),n}(rz);CK.styles=[kK],ZK([pq()],CK.prototype,"open",void 0),ZK([pq()],CK.prototype,"message",void 0),ZK([pq()],CK.prototype,"triggerRect",void 0),ZK([pq()],CK.prototype,"variant",void 0),CK=ZK([gz("w3m-tooltip"),gz("w3m-tooltip")],CK);var EK=tD(eI||(eI=w(["\n  :host {\n    --prev-height: 0px;\n    --new-height: 0px;\n    display: block;\n  }\n\n  div.w3m-router-container {\n    transform: translateY(0);\n    opacity: 1;\n  }\n\n  div.w3m-router-container[view-direction='prev'] {\n    animation:\n      slide-left-out 150ms forwards ease,\n      slide-left-in 150ms forwards ease;\n    animation-delay: 0ms, 200ms;\n  }\n\n  div.w3m-router-container[view-direction='next'] {\n    animation:\n      slide-right-out 150ms forwards ease,\n      slide-right-in 150ms forwards ease;\n    animation-delay: 0ms, 200ms;\n  }\n\n  @keyframes slide-left-out {\n    from {\n      transform: translateX(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateX(10px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-left-in {\n    from {\n      transform: translateX(-10px);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-right-out {\n    from {\n      transform: translateX(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateX(-10px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-right-in {\n    from {\n      transform: translateX(10px);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n"]))),IK=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},SK=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).resizeObserver=void 0,e.prevHeight="0px",e.prevHistoryLength=1,e.unsubscribe=[],e.view=U_.state.view,e.viewDirection="",e.unsubscribe.push(U_.subscribeKey("view",(function(t){return e.onViewChange(t)}))),e}return(0,_.Z)(n,[{key:"firstUpdated",value:function(){var e,t=this;this.resizeObserver=new ResizeObserver((function(e){var n=(0,S.Z)(e,1)[0],r="".concat(null===n||void 0===n?void 0:n.contentRect.height,"px");"0px"!==t.prevHeight&&(t.style.setProperty("--prev-height",t.prevHeight),t.style.setProperty("--new-height",r),t.style.animation="w3m-view-height 150ms forwards ease",t.style.height="auto"),setTimeout((function(){t.prevHeight=r,t.style.animation="unset"}),Vj.ANIMATION_DURATIONS.ModalHeight)})),null===(e=this.resizeObserver)||void 0===e||e.observe(this.getWrapper())}},{key:"disconnectedCallback",value:function(){var e;null!==(e=this.resizeObserver)&&void 0!==e&&e.unobserve(this.getWrapper()),this.unsubscribe.forEach((function(e){return e()}))}},{key:"render",value:function(){return jD(tI||(tI=w(['<div class="w3m-router-container" view-direction="','">\n      ',"\n    </div>"])),this.viewDirection,this.viewTemplate())}},{key:"viewTemplate",value:function(){switch(this.view){case"AccountSettings":return jD(nI||(nI=w(["<w3m-account-settings-view></w3m-account-settings-view>"])));case"Account":return jD(rI||(rI=w(["<w3m-account-view></w3m-account-view>"])));case"AllWallets":return jD(iI||(iI=w(["<w3m-all-wallets-view></w3m-all-wallets-view>"])));case"ApproveTransaction":return jD(oI||(oI=w(["<w3m-approve-transaction-view></w3m-approve-transaction-view>"])));case"BuyInProgress":return jD(aI||(aI=w(["<w3m-buy-in-progress-view></w3m-buy-in-progress-view>"])));case"ChooseAccountName":return jD(sI||(sI=w(["<w3m-choose-account-name-view></w3m-choose-account-name-view>"])));case"Connect":return jD(cI||(cI=w(["<w3m-connect-view></w3m-connect-view>"])));case"Create":return jD(uI||(uI=w(['<w3m-connect-view walletGuide="explore"></w3m-connect-view>'])));case"ConnectingWalletConnect":return jD(lI||(lI=w(["<w3m-connecting-wc-view></w3m-connecting-wc-view>"])));case"ConnectingWalletConnectBasic":return jD(dI||(dI=w(["<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>"])));case"ConnectingExternal":return jD(fI||(fI=w(["<w3m-connecting-external-view></w3m-connecting-external-view>"])));case"ConnectingSiwe":return jD(pI||(pI=w(["<w3m-connecting-siwe-view></w3m-connecting-siwe-view>"])));case"ConnectWallets":return jD(hI||(hI=w(["<w3m-connect-wallets-view></w3m-connect-wallets-view>"])));case"ConnectSocials":return jD(vI||(vI=w(["<w3m-connect-socials-view></w3m-connect-socials-view>"])));case"ConnectingSocial":return jD(gI||(gI=w(["<w3m-connecting-social-view></w3m-connecting-social-view>"])));case"Downloads":return jD(wI||(wI=w(["<w3m-downloads-view></w3m-downloads-view>"])));case"EmailLogin":return jD(mI||(mI=w(["<w3m-email-login-view></w3m-email-login-view>"])));case"EmailVerifyOtp":return jD(bI||(bI=w(["<w3m-email-verify-otp-view></w3m-email-verify-otp-view>"])));case"EmailVerifyDevice":return jD(yI||(yI=w(["<w3m-email-verify-device-view></w3m-email-verify-device-view>"])));case"GetWallet":return jD(xI||(xI=w(["<w3m-get-wallet-view></w3m-get-wallet-view>"])));case"Networks":return jD(kI||(kI=w(["<w3m-networks-view></w3m-networks-view>"])));case"SwitchNetwork":return jD(ZI||(ZI=w(["<w3m-network-switch-view></w3m-network-switch-view>"])));case"Profile":return jD(CI||(CI=w(["<w3m-profile-view></w3m-profile-view>"])));case"SwitchAddress":return jD(EI||(EI=w(["<w3m-switch-address-view></w3m-switch-address-view>"])));case"Transactions":return jD(II||(II=w(["<w3m-transactions-view></w3m-transactions-view>"])));case"OnRampProviders":return jD(SI||(SI=w(["<w3m-onramp-providers-view></w3m-onramp-providers-view>"])));case"OnRampActivity":return jD(AI||(AI=w(["<w3m-onramp-activity-view></w3m-onramp-activity-view>"])));case"OnRampTokenSelect":return jD(PI||(PI=w(["<w3m-onramp-token-select-view></w3m-onramp-token-select-view>"])));case"OnRampFiatSelect":return jD(OI||(OI=w(["<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>"])));case"UpgradeEmailWallet":return jD(_I||(_I=w(["<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>"])));case"UpdateEmailWallet":return jD(NI||(NI=w(["<w3m-update-email-wallet-view></w3m-update-email-wallet-view>"])));case"UpdateEmailPrimaryOtp":return jD(TI||(TI=w(["<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>"])));case"UpdateEmailSecondaryOtp":return jD(RI||(RI=w(["<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>"])));case"UnsupportedChain":return jD(LI||(LI=w(["<w3m-unsupported-chain-view></w3m-unsupported-chain-view>"])));case"Swap":return jD(BI||(BI=w(["<w3m-swap-view></w3m-swap-view>"])));case"SwapSelectToken":return jD(UI||(UI=w(["<w3m-swap-select-token-view></w3m-swap-select-token-view>"])));case"SwapPreview":return jD(MI||(MI=w(["<w3m-swap-preview-view></w3m-swap-preview-view>"])));case"WalletSend":return jD(jI||(jI=w(["<w3m-wallet-send-view></w3m-wallet-send-view>"])));case"WalletSendSelectToken":return jD(DI||(DI=w(["<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>"])));case"WalletSendPreview":return jD(zI||(zI=w(["<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>"])));case"WhatIsABuy":return jD(qI||(qI=w(["<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>"])));case"WalletReceive":return jD(HI||(HI=w(["<w3m-wallet-receive-view></w3m-wallet-receive-view>"])));case"WalletCompatibleNetworks":return jD(WI||(WI=w(["<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>"])));case"WhatIsAWallet":return jD(FI||(FI=w(["<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>"])));case"ConnectingMultiChain":return jD(VI||(VI=w(["<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>"])));case"WhatIsANetwork":return jD(KI||(KI=w(["<w3m-what-is-a-network-view></w3m-what-is-a-network-view>"])));case"ConnectingFarcaster":return jD(GI||(GI=w(["<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>"])));case"SwitchActiveChain":return jD($I||($I=w(["<w3m-switch-active-chain-view></w3m-switch-active-chain-view>"])));case"RegisterAccountName":return jD(YI||(YI=w(["<w3m-register-account-name-view></w3m-register-account-name-view>"])));case"RegisterAccountNameSuccess":return jD(JI||(JI=w(["<w3m-register-account-name-success-view></w3m-register-account-name-success-view>"])));case"SmartSessionCreated":return jD(XI||(XI=w(["<w3m-smart-session-created-view></w3m-smart-session-created-view>"])));case"SmartSessionList":return jD(QI||(QI=w(["<w3m-smart-session-list-view></w3m-smart-session-list-view>"])));case"SIWXSignMessage":return jD(eS||(eS=w(["<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>"])));default:return jD(tS||(tS=w(["<w3m-connect-view></w3m-connect-view>"])))}}},{key:"onViewChange",value:function(e){var t=this;NM.hide();var n=Vj.VIEW_DIRECTION.Next,r=U_.state.history;r.length<this.prevHistoryLength&&(n=Vj.VIEW_DIRECTION.Prev),this.prevHistoryLength=r.length,this.viewDirection=n,setTimeout((function(){t.view=e}),Vj.ANIMATION_DURATIONS.ViewTransition)}},{key:"getWrapper",value:function(){var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("div")}}]),n}(rz);SK.styles=EK,IK([pq()],SK.prototype,"view",void 0),IK([pq()],SK.prototype,"viewDirection",void 0),SK=IK([gz("w3m-router")],SK);var AK=tD(nS||(nS=w(["\n  :host {\n    z-index: var(--w3m-z-index);\n    display: block;\n    backface-visibility: hidden;\n    will-change: opacity;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    opacity: 0;\n    background-color: var(--wui-cover);\n    transition: opacity 0.2s var(--wui-ease-out-power-2);\n    will-change: opacity;\n  }\n\n  :host(.open) {\n    opacity: 1;\n  }\n\n  :host(.embedded) {\n    position: relative;\n    pointer-events: unset;\n    background: none;\n    width: 100%;\n    opacity: 1;\n  }\n\n  wui-card {\n    max-width: var(--w3m-modal-width);\n    width: 100%;\n    position: relative;\n    animation: zoom-in 0.2s var(--wui-ease-out-power-2);\n    animation-fill-mode: backwards;\n    outline: none;\n    transition:\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius, background-color;\n  }\n\n  :host(.embedded) wui-card {\n    max-width: 400px;\n  }\n\n  wui-card[shake='true'] {\n    animation:\n      zoom-in 0.2s var(--wui-ease-out-power-2),\n      w3m-shake 0.5s var(--wui-ease-out-power-2);\n  }\n\n  wui-flex {\n    overflow-x: hidden;\n    overflow-y: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-height: 700px) and (min-width: 431px) {\n    wui-flex {\n      align-items: flex-start;\n    }\n\n    wui-card {\n      margin: var(--wui-spacing-xxl) 0px;\n    }\n  }\n\n  @media (max-width: 430px) {\n    wui-flex {\n      align-items: flex-end;\n    }\n\n    wui-card {\n      max-width: 100%;\n      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom: none;\n      animation: slide-in 0.2s var(--wui-ease-out-power-2);\n    }\n\n    wui-card[shake='true'] {\n      animation:\n        slide-in 0.2s var(--wui-ease-out-power-2),\n        w3m-shake 0.5s var(--wui-ease-out-power-2);\n    }\n  }\n\n  @keyframes zoom-in {\n    0% {\n      transform: scale(0.95) translateY(0);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes slide-in {\n    0% {\n      transform: scale(1) translateY(50px);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes w3m-shake {\n    0% {\n      transform: scale(1) rotate(0deg);\n    }\n    20% {\n      transform: scale(1) rotate(-1deg);\n    }\n    40% {\n      transform: scale(1) rotate(1.5deg);\n    }\n    60% {\n      transform: scale(1) rotate(-1.5deg);\n    }\n    80% {\n      transform: scale(1) rotate(1deg);\n    }\n    100% {\n      transform: scale(1) rotate(0deg);\n    }\n  }\n\n  @keyframes w3m-view-height {\n    from {\n      height: var(--prev-height);\n    }\n    to {\n      height: var(--new-height);\n    }\n  }\n"]))),PK=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},OK="scroll-lock",_K=function(e){(0,k.Z)(n,e);var t=(0,Z.Z)(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).unsubscribe=[],e.abortController=void 0,e.hasPrefetched=!1,e.enableEmbedded=Z_.state.enableEmbedded,e.open=PM.state.open,e.caipAddress=xM.state.activeCaipAddress,e.caipNetwork=xM.state.activeCaipNetwork,e.shake=PM.state.shake,e.filterByNamespace=q_.state.filterByNamespace,e.initializeTheming(),L_.prefetchAnalyticsConfig(),e.unsubscribe.push(PM.subscribeKey("open",(function(t){return t?e.onOpen():e.onClose()})),PM.subscribeKey("shake",(function(t){return e.shake=t})),xM.subscribeKey("activeCaipNetwork",(function(t){return e.onNewNetwork(t)})),xM.subscribeKey("activeCaipAddress",(function(t){return e.onNewAddress(t)})),Z_.subscribeKey("enableEmbedded",(function(t){return e.enableEmbedded=t})),q_.subscribeKey("filterByNamespace",(function(t){var n;e.filterByNamespace!==t&&(null===(n=xM.getAccountData(t))||void 0===n||!n.caipAddress)&&(L_.fetchRecommendedWallets(),e.filterByNamespace=t)}))),e}return(0,_.Z)(n,[{key:"firstUpdated",value:function(){if(this.caipAddress){if(this.enableEmbedded)return PM.close(),void this.prefetch();this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}},{key:"disconnectedCallback",value:function(){this.unsubscribe.forEach((function(e){return e()})),this.onRemoveKeyboardListener()}},{key:"render",value:function(){return this.style.cssText="\n      --local-border-bottom-mobile-radius: ".concat(this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px",";\n    "),this.enableEmbedded?jD(rS||(rS=w(["","\n        <w3m-tooltip></w3m-tooltip> "])),this.contentTemplate()):this.open?jD(iS||(iS=w(["\n          <wui-flex @click=",' data-testid="w3m-modal-overlay">\n            ',"\n          </wui-flex>\n          <w3m-tooltip></w3m-tooltip>\n        "])),this.onOverlayClick.bind(this),this.contentTemplate()):null}},{key:"contentTemplate",value:function(){return jD(oS||(oS=w([' <wui-card\n      shake="','"\n      data-embedded="','"\n      role="alertdialog"\n      aria-modal="true"\n      tabindex="0"\n      data-testid="w3m-modal-card"\n    >\n      <w3m-header></w3m-header>\n      <w3m-router></w3m-router>\n      <w3m-snackbar></w3m-snackbar>\n      <w3m-alertbar></w3m-alertbar>\n    </wui-card>'])),this.shake,wq(this.enableEmbedded))}},{key:"onOverlayClick",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.target===t.currentTarget,!e.t0){e.next=4;break}return e.next=4,this.handleClose();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClose",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="UnsupportedChain"===U_.state.view,e.t0){e.next=5;break}return e.next=4,Y_.isSIWXCloseDisabled();case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}PM.shake(),e.next=10;break;case 9:PM.close();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeTheming",value:function(){var e=j_.state,t=e.themeVariables,n=e.themeMode;!function(e,t){iz=document.createElement("style"),oz=document.createElement("style"),az=document.createElement("style"),iz.textContent=uz(e).core.cssText,oz.textContent=uz(e).dark.cssText,az.textContent=uz(e).light.cssText,document.head.appendChild(iz),document.head.appendChild(oz),document.head.appendChild(az),cz(t)}(t,vz(n))}},{key:"onClose",value:function(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),$_.hide(),this.onRemoveKeyboardListener()}},{key:"onOpen",value:function(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}},{key:"onScrollLock",value:function(){var e=document.createElement("style");e.dataset.w3m=OK,e.textContent="\n      body {\n        touch-action: none;\n        overflow: hidden;\n        overscroll-behavior: contain;\n      }\n      w3m-modal {\n        pointer-events: auto;\n      }\n    ",document.head.appendChild(e)}},{key:"onScrollUnlock",value:function(){var e=document.head.querySelector('style[data-w3m="'.concat(OK,'"]'));e&&e.remove()}},{key:"onAddKeyboardListener",value:function(){var e,t=this;this.abortController=new AbortController;var n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("wui-card");null!==n&&void 0!==n&&n.focus(),window.addEventListener("keydown",(function(e){if("Escape"===e.key)t.handleClose();else if("Tab"===e.key){var r=e.target.tagName;r&&!r.includes("W3M-")&&!r.includes("WUI-")&&(null===n||void 0===n||n.focus())}}),this.abortController)}},{key:"onRemoveKeyboardListener",value:function(){var e;null!==(e=this.abortController)&&void 0!==e&&e.abort(),this.abortController=void 0}},{key:"onNewAddress",value:function(){var e=(0,P.Z)((0,A.Z)().mark((function e(t){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xM.state.isSwitchingNamespace,(r=d_.getPlainAddress(t))||n?n&&r&&U_.goBack():PM.close(),e.next=4,Y_.initializeIfEnabled();case 4:this.caipAddress=t,xM.setIsSwitchingNamespace(!1);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onNewNetwork",value:function(e){var t,n,r=this.caipNetwork,i=null===r||void 0===r||null===(t=r.caipNetworkId)||void 0===t?void 0:t.toString(),o=null===r||void 0===r?void 0:r.chainNamespace,a=null===e||void 0===e||null===(n=e.caipNetworkId)||void 0===n?void 0:n.toString(),s=null===e||void 0===e?void 0:e.chainNamespace,c=i!==a,u=c&&!(o!==s),l=(null===r||void 0===r?void 0:r.name)===ZO.UNSUPPORTED_NETWORK_NAME,d="ConnectingExternal"===U_.state.view,f=!this.caipAddress,p="UnsupportedChain"===U_.state.view,h=!1;PM.state.open&&!d&&(f?c&&(h=!0):(p||u&&!l)&&(h=!0)),h&&"SIWXSignMessage"!==U_.state.view&&U_.goBack(),this.caipNetwork=e}},{key:"prefetch",value:function(){this.hasPrefetched||(L_.prefetch(),L_.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}]),n}(rz);_K.styles=AK,PK([fq({type:Boolean})],_K.prototype,"enableEmbedded",void 0),PK([pq()],_K.prototype,"open",void 0),PK([pq()],_K.prototype,"caipAddress",void 0),PK([pq()],_K.prototype,"caipNetwork",void 0),PK([pq()],_K.prototype,"shake",void 0),PK([pq()],_K.prototype,"filterByNamespace",void 0),_K=PK([gz("w3m-modal")],_K);var NK=Object.freeze({__proto__:null,get W3mModal(){return _K}}),TK=DD(aS||(aS=w(['<svg\n  width="14"\n  height="14"\n  viewBox="0 0 14 14"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"\n    fill="#667dff"\n  /></svg\n>']))),RK=Object.freeze({__proto__:null,addSvg:TK}),LK=DD(sS||(sS=w(['<svg fill="none" viewBox="0 0 24 24">\n  <path\n    style="fill: var(--wui-color-accent-100);"\n    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"\n  />\n</svg>']))),BK=Object.freeze({__proto__:null,allWalletsSvg:LK}),UK=DD(cS||(cS=w(['<svg\n  fill="none"\n  viewBox="0 0 21 20"\n>\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"\n    clip-rule="evenodd"\n  /></svg\n>']))),MK=Object.freeze({__proto__:null,arrowBottomCircleSvg:UK}),jK=DD(uS||(uS=w(['\n<svg width="36" height="36">\n  <path\n    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"\n    fill="url(#a)"\n  />\n  <path\n    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"\n    fill="#fff"\n  />\n  <defs>\n    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">\n      <stop stop-color="#18BFFB" />\n      <stop offset="1" stop-color="#2072F3" />\n    </linearGradient>\n  </defs>\n</svg>']))),DK=Object.freeze({__proto__:null,appStoreSvg:jK}),zK=DD(lS||(lS=w(['<svg fill="none" viewBox="0 0 40 40">\n  <g clip-path="url(#a)">\n    <g clip-path="url(#b)">\n      <circle cx="20" cy="19.89" r="20" fill="#000" />\n      <g clip-path="url(#c)">\n        <path\n          fill="#fff"\n          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"\n        />\n      </g>\n    </g>\n  </g>\n  <defs>\n    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>\n    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>\n    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>\n  </defs>\n</svg>']))),qK=Object.freeze({__proto__:null,appleSvg:zK}),HK=DD(dS||(dS=w(['<svg fill="none" viewBox="0 0 14 15">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),WK=Object.freeze({__proto__:null,arrowBottomSvg:HK}),FK=DD(fS||(fS=w(['<svg fill="none" viewBox="0 0 14 15">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),VK=Object.freeze({__proto__:null,arrowLeftSvg:FK}),KK=DD(pS||(pS=w(['<svg fill="none" viewBox="0 0 14 15">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),GK=Object.freeze({__proto__:null,arrowRightSvg:KK}),$K=DD(hS||(hS=w(['<svg fill="none" viewBox="0 0 14 15">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),YK=Object.freeze({__proto__:null,arrowTopSvg:$K}),JK=DD(vS||(vS=w(['<svg\n  xmlns="http://www.w3.org/2000/svg"\n  width="12"\n  height="13"\n  viewBox="0 0 12 13"\n  fill="none"\n>\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"\n    fill="currentColor"\n  /></svg\n>']))),XK=Object.freeze({__proto__:null,bankSvg:JK}),QK=DD(gS||(gS=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"\n    clip-rule="evenodd"\n  />\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),eG=Object.freeze({__proto__:null,browserSvg:QK}),tG=DD(wS||(wS=w(['<svg\n  xmlns="http://www.w3.org/2000/svg"\n  width="12"\n  height="13"\n  viewBox="0 0 12 13"\n  fill="none"\n>\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"\n    fill="currentColor"\n  /></svg\n>']))),nG=Object.freeze({__proto__:null,cardSvg:tG}),rG=DD(mS||(mS=w(['<svg\n  width="28"\n  height="28"\n  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"\n    fill="currentColor"/>\n</svg>\n']))),iG=Object.freeze({__proto__:null,checkmarkSvg:rG}),oG=DD(bS||(bS=w(['<svg fill="none" viewBox="0 0 14 14">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),aG=Object.freeze({__proto__:null,checkmarkBoldSvg:oG}),sG=DD(yS||(yS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),cG=Object.freeze({__proto__:null,chevronBottomSvg:sG}),uG=DD(xS||(xS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),lG=Object.freeze({__proto__:null,chevronLeftSvg:uG}),dG=DD(kS||(kS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),fG=Object.freeze({__proto__:null,chevronRightSvg:dG}),pG=DD(ZS||(ZS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),hG=Object.freeze({__proto__:null,chevronTopSvg:pG}),vG=DD(CS||(CS=w(['<svg width="36" height="36" fill="none">\n  <path\n    fill="#fff"\n    fill-opacity=".05"\n    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"\n  />\n  <path\n    stroke="#fff"\n    stroke-opacity=".05"\n    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"\n  />\n  <path\n    fill="url(#a)"\n    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"\n  />\n  <path\n    fill="url(#b)"\n    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"\n  />\n  <path\n    fill="url(#c)"\n    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"\n  />\n  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />\n  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />\n  <defs>\n    <linearGradient\n      id="a"\n      x1="6.294"\n      x2="41.1"\n      y1="5.995"\n      y2="5.995"\n      gradientUnits="userSpaceOnUse"\n    >\n      <stop stop-color="#D93025" />\n      <stop offset="1" stop-color="#EA4335" />\n    </linearGradient>\n    <linearGradient\n      id="b"\n      x1="20.953"\n      x2="37.194"\n      y1="32.143"\n      y2="2.701"\n      gradientUnits="userSpaceOnUse"\n    >\n      <stop stop-color="#FCC934" />\n      <stop offset="1" stop-color="#FBBC04" />\n    </linearGradient>\n    <linearGradient\n      id="c"\n      x1="25.873"\n      x2="9.632"\n      y1="31.2"\n      y2="1.759"\n      gradientUnits="userSpaceOnUse"\n    >\n      <stop stop-color="#1E8E3E" />\n      <stop offset="1" stop-color="#34A853" />\n    </linearGradient>\n  </defs>\n</svg>']))),gG=Object.freeze({__proto__:null,chromeStoreSvg:vG}),wG=DD(ES||(ES=w(['<svg width="14" height="14" viewBox="0 0 14 14" fill="none">\n  <path \n    fill-rule="evenodd" \n    clip-rule="evenodd" \n    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" \n    fill="currentColor"\n  />\n</svg>']))),mG=Object.freeze({__proto__:null,clockSvg:wG}),bG=DD(IS||(IS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),yG=Object.freeze({__proto__:null,closeSvg:bG}),xG=DD(SS||(SS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),kG=Object.freeze({__proto__:null,compassSvg:xG}),ZG=DD(AS||(AS=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),CG=Object.freeze({__proto__:null,coinPlaceholderSvg:ZG}),EG=DD(PS||(PS=w(['<svg\n  xmlns="http://www.w3.org/2000/svg"\n  width="16"\n  height="16"\n  viewBox="0 0 16 16"\n  fill="none"\n>\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"\n    fill="#788181"\n  /></svg\n>']))),IG=Object.freeze({__proto__:null,copySvg:EG}),SG=DD(OS||(OS=w([' <svg fill="none" viewBox="0 0 13 4">\n  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />\n</svg>']))),AG=Object.freeze({__proto__:null,cursorSvg:SG}),PG=DD(_S||(_S=w(['<svg fill="none" viewBox="0 0 14 6">\n  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />\n  <path\n    style="stroke: var(--wui-color-inverse-100);"\n    stroke-opacity=".05"\n    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"\n  />\n  <path\n    style="fill: var(--wui-color-bg-150);"\n    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"\n  />\n</svg> ']))),OG=Object.freeze({__proto__:null,cursorTransparentSvg:PG}),_G=DD(NS||(NS=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"\n    clip-rule="evenodd"\n  />\n  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />\n</svg>']))),NG=Object.freeze({__proto__:null,desktopSvg:_G}),TG=DD(TS||(TS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),RG=Object.freeze({__proto__:null,disconnectSvg:TG}),LG=DD(RS||(RS=w(['<svg fill="none" viewBox="0 0 40 40">\n  <g clip-path="url(#a)">\n    <g clip-path="url(#b)">\n      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />\n      <path\n        fill="#fff"\n        fill-rule="evenodd"\n        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"\n        clip-rule="evenodd"\n      />\n    </g>\n  </g>\n  <defs>\n    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>\n    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>\n  </defs>\n</svg>']))),BG=Object.freeze({__proto__:null,discordSvg:LG}),UG=DD(LS||(LS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"\n  />\n</svg>']))),MG=Object.freeze({__proto__:null,etherscanSvg:UG}),jG=DD(BS||(BS=w(['<svg fill="none" viewBox="0 0 14 15">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),DG=Object.freeze({__proto__:null,extensionSvg:jG}),zG=DD(US||(US=w(['<svg fill="none" viewBox="0 0 14 15">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),qG=Object.freeze({__proto__:null,externalLinkSvg:zG}),HG=DD(MS||(MS=w(['<svg fill="none" viewBox="0 0 40 40">\n  <g clip-path="url(#a)">\n    <g clip-path="url(#b)">\n      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />\n      <g clip-path="url(#c)">\n        <path\n          fill="#fff"\n          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"\n        />\n      </g>\n    </g>\n    <path\n      fill="#1877F2"\n      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"\n    />\n    <path\n      fill="#fff"\n      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"\n    />\n  </g>\n  <defs>\n    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>\n    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>\n    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>\n  </defs>\n</svg>']))),WG=Object.freeze({__proto__:null,facebookSvg:HG}),FG=DD(jS||(jS=w(['<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">\n  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>\n  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />\n  <path\n    fill="#fff"\n    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"\n  />\n  <path\n    fill="#fff"\n    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"\n  />\n</svg>']))),VG=Object.freeze({__proto__:null,farcasterSvg:FG}),KG=DD(DS||(DS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),GG=Object.freeze({__proto__:null,filtersSvg:KG}),$G=DD(zS||(zS=w(['<svg fill="none" viewBox="0 0 40 40">\n  <g clip-path="url(#a)">\n    <g clip-path="url(#b)">\n      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />\n      <g clip-path="url(#c)">\n        <path\n          fill="#fff"\n          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"\n        />\n      </g>\n    </g>\n  </g>\n  <defs>\n    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>\n    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>\n    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>\n  </defs>\n</svg>']))),YG=Object.freeze({__proto__:null,githubSvg:$G}),JG=DD(qS||(qS=w(['<svg fill="none" viewBox="0 0 40 40">\n  <path\n    fill="#4285F4"\n    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"\n  />\n  <path\n    fill="#34A853"\n    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"\n  />\n  <path\n    fill="#FBBC05"\n    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"\n  />\n  <path\n    fill="#EA4335"\n    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"\n  />\n</svg>']))),XG=Object.freeze({__proto__:null,googleSvg:JG}),QG=DD(HS||(HS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"\n  />\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),e$=Object.freeze({__proto__:null,helpCircleSvg:QG}),t$=DD(WS||(WS=w(['<svg width="14" height="14" viewBox="0 0 14 14" fill="none">\n  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>\n</svg>']))),n$=Object.freeze({__proto__:null,imageSvg:t$}),r$=DD(FS||(FS=w(['<svg\n xmlns="http://www.w3.org/2000/svg"\n width="28"\n height="28"\n viewBox="0 0 28 28"\n fill="none">\n  <path\n    fill="#949E9E"\n    fill-rule="evenodd"\n    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"\n    clip-rule="evenodd"/>\n</svg>']))),i$=Object.freeze({__proto__:null,idSvg:r$}),o$=DD(VS||(VS=w(['<svg fill="none" viewBox="0 0 14 15">\n  <path\n    fill="currentColor"\n    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"\n  />\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),a$=Object.freeze({__proto__:null,infoCircleSvg:o$}),s$=DD(KS||(KS=w(['<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>\n</svg>']))),c$=Object.freeze({__proto__:null,lightbulbSvg:s$}),u$=DD(GS||(GS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),l$=Object.freeze({__proto__:null,mailSvg:u$}),d$=DD($S||($S=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),f$=Object.freeze({__proto__:null,mobileSvg:d$}),p$=DD(YS||(YS=w(['<svg fill="none" viewBox="0 0 41 40">\n  <path\n    style="fill: var(--wui-color-fg-100);"\n    fill-opacity=".05"\n    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"\n  />\n  <path\n    fill="#949E9E"\n    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"\n  />\n</svg>']))),h$=Object.freeze({__proto__:null,moreSvg:p$}),v$=DD(JS||(JS=w(['<svg fill="none" viewBox="0 0 22 20">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"\n    clip-rule="evenodd"\n  />\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),g$=Object.freeze({__proto__:null,networkPlaceholderSvg:v$}),w$=DD(XS||(XS=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),m$=Object.freeze({__proto__:null,nftPlaceholderSvg:w$}),b$=DD(QS||(QS=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),y$=Object.freeze({__proto__:null,offSvg:b$}),x$=DD(eA||(eA=w([' <svg\n  width="36"\n  height="36"\n  fill="none"\n>\n  <path\n    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"\n    fill="#fff"\n    fill-opacity=".05"\n  />\n  <path\n    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"\n    fill="#EA4335"\n  />\n  <path\n    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"\n    fill="#FBBC04"\n  />\n  <path\n    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"\n    fill="#4285F4"\n  />\n  <path\n    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"\n    fill="#34A853"\n  />\n  <path\n    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"\n    stroke="#fff"\n    stroke-opacity=".05"\n  />\n</svg>']))),k$=Object.freeze({__proto__:null,playStoreSvg:x$}),Z$=DD(tA||(tA=w(['<svg\n  width="13"\n  height="12"\n  viewBox="0 0 13 12"\n  fill="none"\n>\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"\n  /></svg\n>']))),C$=Object.freeze({__proto__:null,plusSvg:Z$}),E$=DD(nA||(nA=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path\n    fill="currentColor"\n    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"\n  />\n</svg>']))),I$=Object.freeze({__proto__:null,qrCodeIcon:E$}),S$=DD(rA||(rA=w(['<svg\n  fill="none"\n  viewBox="0 0 21 20"\n>\n  <path\n    fill="currentColor"\n    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"\n  /></svg\n>']))),A$=Object.freeze({__proto__:null,recycleHorizontalSvg:S$}),P$=DD(iA||(iA=w(['<svg fill="none" viewBox="0 0 14 16">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),O$=Object.freeze({__proto__:null,refreshSvg:P$}),_$=DD(oA||(oA=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),N$=Object.freeze({__proto__:null,searchSvg:_$}),T$=DD(aA||(aA=w(['<svg fill="none" viewBox="0 0 21 20">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"\n    clip-rule="evenodd"\n  />\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    width="21"\n    height="20"\n    viewBox="0 0 21 20"\n    fill="none"\n  ></svg></svg\n>']))),R$=Object.freeze({__proto__:null,sendSvg:T$}),L$=DD(sA||(sA=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),B$=Object.freeze({__proto__:null,swapHorizontalSvg:L$}),U$=DD(cA||(cA=w(['<svg\n  width="14"\n  height="14"\n  viewBox="0 0 14 14"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"\n    fill="currentColor"\n  />\n</svg>\n\n']))),M$=Object.freeze({__proto__:null,swapHorizontalMediumSvg:U$}),j$=DD(uA||(uA=w(['<svg width="10" height="10" viewBox="0 0 10 10">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),D$=Object.freeze({__proto__:null,swapHorizontalBoldSvg:j$}),z$=DD(lA||(lA=w(['<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n  <path \n    fill="currentColor"\n    fill-rule="evenodd" \n    clip-rule="evenodd" \n    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" \n  />\n</svg>']))),q$=Object.freeze({__proto__:null,swapHorizontalRoundedBoldSvg:z$}),H$=DD(dA||(dA=w(['<svg fill="none" viewBox="0 0 14 14">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),W$=Object.freeze({__proto__:null,swapVerticalSvg:H$}),F$=DD(fA||(fA=w(['<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <g clip-path="url(#a)">\n    <path fill="url(#b)" d="M0 0h32v32H0z"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>\n  </g>\n  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>\n  <defs>\n    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">\n      <stop stop-color="#2AABEE"/>\n      <stop offset="1" stop-color="#229ED9"/>\n    </linearGradient>\n    <clipPath id="a">\n      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>\n    </clipPath>\n  </defs>\n</svg>']))),V$=Object.freeze({__proto__:null,telegramSvg:F$}),K$=DD(pA||(pA=w(['<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>\n  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>\n  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>\n</svg>']))),G$=Object.freeze({__proto__:null,threeDotsSvg:K$}),$$=DD(hA||(hA=w(['<svg fill="none" viewBox="0 0 40 40">\n  <g clip-path="url(#a)">\n    <g clip-path="url(#b)">\n      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />\n      <g clip-path="url(#c)">\n        <path\n          fill="#fff"\n          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"\n        />\n      </g>\n    </g>\n  </g>\n  <defs>\n    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>\n    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>\n    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>\n  </defs>\n</svg>']))),Y$=Object.freeze({__proto__:null,twitchSvg:$$}),J$=DD(vA||(vA=w(['<svg fill="none" viewBox="0 0 41 40">\n  <g clip-path="url(#a)">\n    <path fill="#000" d="M.8 0h40v40H.8z" />\n    <path\n      fill="#fff"\n      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"\n    />\n  </g>\n  <defs>\n    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>\n  </defs>\n</svg>']))),X$=Object.freeze({__proto__:null,xSvg:J$}),Q$=DD(gA||(gA=w(['<svg fill="none" viewBox="0 0 16 16">\n  <path\n    fill="currentColor"\n    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"\n  />\n</svg>']))),eY=Object.freeze({__proto__:null,twitterIconSvg:Q$}),tY=DD(wA||(wA=w(['<svg fill="none" viewBox="0 0 28 28">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),nY=Object.freeze({__proto__:null,verifySvg:tY}),rY=DD(mA||(mA=w(['<svg fill="none" viewBox="0 0 14 14">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),iY=Object.freeze({__proto__:null,verifyFilledSvg:rY}),oY=DD(bA||(bA=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),aY=Object.freeze({__proto__:null,walletSvg:oY}),sY=DD(yA||(yA=w(['<svg fill="none" viewBox="0 0 96 67">\n  <path\n    fill="currentColor"\n    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"\n  />\n  <path\n    stroke="#000"\n    stroke-opacity=".1"\n    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"\n  />\n</svg>']))),cY=DD(xA||(xA=w(['\n<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_22274_4692)">\n<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>\n<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>\n</g>\n<defs>\n<clipPath id="clip0_22274_4692">\n<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n']))),uY=DD(kA||(kA=w(['\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>\n<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>\n<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>\n<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>\n</svg>\n']))),lY=Object.freeze({__proto__:null,walletConnectSvg:sY,walletConnectLightBrownSvg:cY,walletConnectBrownSvg:uY}),dY=DD(ZA||(ZA=w(['\n  <svg fill="none" viewBox="0 0 48 44">\n    <path\n      style="fill: var(--wui-color-bg-300);"\n      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"\n    />\n    <path\n      style="fill: var(--wui-color-fg-200);"\n      fill-rule="evenodd"\n      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"\n      clip-rule="evenodd"\n    />\n  </svg>\n']))),fY=Object.freeze({__proto__:null,walletPlaceholderSvg:dY}),pY=DD(CA||(CA=w(['<svg fill="none" viewBox="0 0 20 20">\n  <path\n    fill="currentColor"\n    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"\n  />\n  <path\n    fill="currentColor"\n    fill-rule="evenodd"\n    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"\n    clip-rule="evenodd"\n  />\n</svg>']))),hY=Object.freeze({__proto__:null,warningCircleSvg:pY}),vY=DD(EA||(EA=w(['<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>\n</svg>']))),gY=Object.freeze({__proto__:null,infoSvg:vY}),wY=DD(IA||(IA=w(['<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>\n</svg>\n']))),mY=Object.freeze({__proto__:null,exclamationTriangleSvg:wY}),bY=DD(SA||(SA=w(['<svg width="60" height="16" viewBox="0 0 60 16" fill="none"">\n  <path d="M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z" fill="#363636"/>\n  <path d="M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z" fill="#F6F6F6"/>\n  <path d="M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z" fill="#363636"/>\n  <path d="M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z" fill="#F6F6F6"/>\n  <path d="M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z" fill="#363636"/>\n  <path d="M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z" fill="#F6F6F6"/>\n  <path d="M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z" fill="#F6F6F6"/>\n  <path d="M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z" fill="#F6F6F6"/>\n  <path d="M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z" fill="#F6F6F6"/>\n  <path d="M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z" fill="#F6F6F6"/>\n</svg>']))),yY=Object.freeze({__proto__:null,reownSvg:bY})},68524:function(e,t,n){var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},i="URLSearchParams"in r,o="Symbol"in r&&"iterator"in Symbol,a="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,c="ArrayBuffer"in r;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function f(e){return"string"!==typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function w(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=v(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(a)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=g(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[d(e)]},h.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},h.prototype.set=function(e,t){this.map[d(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},o&&(h.prototype[Symbol.iterator]=h.prototype.entries);var y=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function k(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function Z(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(o){console.warn("Response "+o.message)}}})),t}function C(e,t){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},b.call(x.prototype),b.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var E=[301,302,303,307,308];C.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(S){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function I(e,n){return new Promise((function(i,o){var s=new x(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function l(){u.abort()}if(u.onload=function(){var e={statusText:u.statusText,headers:Z(u.getAllResponseHeaders()||"")};0===s.url.indexOf("file://")&&(u.status<200||u.status>599)?e.status=200:e.status=u.status,e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){i(new C(t,e))}),0)},u.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request timed out"))}),0)},u.onabort=function(){setTimeout((function(){o(new t.DOMException("Aborted","AbortError"))}),0)},u.open(s.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?u.withCredentials=!0:"omit"===s.credentials&&(u.withCredentials=!1),"responseType"in u&&(a?u.responseType="blob":c&&(u.responseType="arraybuffer")),n&&"object"===typeof n.headers&&!(n.headers instanceof h||r.Headers&&n.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){p.push(d(e)),u.setRequestHeader(e,f(n.headers[e]))})),s.headers.forEach((function(e,t){-1===p.indexOf(t)&&u.setRequestHeader(t,e)}))}else s.headers.forEach((function(e,t){u.setRequestHeader(t,e)}));s.signal&&(s.signal.addEventListener("abort",l),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener("abort",l)}),u.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}I.polyfill=!0,r.fetch||(r.fetch=I,r.Headers=h,r.Request=x,r.Response=C),t.Headers=h,t.Request=x,t.Response=C,t.fetch=I,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=r.fetch?r:i;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},68931:function(e){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},80060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3431);r.__exportStar(n(22505),t),r.__exportStar(n(39614),t)},22505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},39614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},63182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3431);r.__exportStar(n(86100),t),r.__exportStar(n(50706),t),r.__exportStar(n(29443),t),r.__exportStar(n(80060),t)},29443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3431).__exportStar(n(86596),t)},86596:function(e,t,n){"use strict";var r=n(89728).default,i=n(56690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;var o=r((function e(){i(this,e)}));t.IWatch=o},17355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;var r=n(80060);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},83900:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((function(t){setTimeout((function(){t(!0)}),e)}))}},86100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3431);r.__exportStar(n(83900),t),r.__exportStar(n(17355),t)},50706:function(e,t,n){"use strict";var r=n(56690).default,i=n(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;var o=function(){function e(){r(this,e),this.timestamps=new Map}return i(e,[{key:"start",value:function(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}},{key:"stop",value:function(e){var t=this.get(e);if("undefined"!==typeof t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));var n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}},{key:"get",value:function(e){var t=this.timestamps.get(e);if("undefined"===typeof t)throw new Error("No timestamp found for label: ".concat(e));return t}},{key:"elapsed",value:function(e){var t=this.get(e),n=t.elapsed||Date.now()-t.started;return n}}]),e}();t.Watch=o,t.default=o},29808:function(e,t){"use strict";function n(e){var t=void 0;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function r(e){var t=n(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},37296:function(e,t,n){"use strict";t.D=void 0;var r=n(29808);t.D=function(){var e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(o){return null}function n(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=e.getElementsByTagName("meta"),o=function(e){var t=i[e],r=["itemprop","property","name"].map((function(e){return t.getAttribute(e)})).filter((function(e){return!!e&&n.includes(e)}));if(r.length&&r){var o=t.getAttribute("content");if(o)return{v:o}}},a=0;a<i.length;a++){var s=o(a);if("object"===typeof s)return s.v}return""}var i=function(){var t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){for(var n=e.getElementsByTagName("link"),r=[],i=0;i<n.length;i++){var o=n[i],a=o.getAttribute("rel");if(a&&a.toLowerCase().indexOf("icon")>-1){var s=o.getAttribute("href");if(s)if(-1===s.toLowerCase().indexOf("https:")&&-1===s.toLowerCase().indexOf("http:")&&0!==s.indexOf("//")){var c=t.protocol+"//"+t.host;if(0===s.indexOf("/"))c+=s;else{var u=t.pathname.split("/");u.pop(),c+=u.join("/")+"/"+s}r.push(c)}else if(0===s.indexOf("//")){var l=t.protocol+s;r.push(l)}else r.push(s)}}return r}(),name:i}}},47465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,a,u;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var u=c.length,l=h(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},71157:function(e){"use strict";function t(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,n,r){var i=r&&r.stringify||t;if("object"===typeof e&&null!==e){var o=n.length+1;if(1===o)return e;var a=new Array(o);a[0]=i(e);for(var s=1;s<o;s++)a[s]=i(n[s]);return a.join(" ")}if("string"!==typeof e)return e;var c=n.length;if(0===c)return e;for(var u="",l=0,d=-1,f=e&&e.length||0,p=0;p<f;){if(37===e.charCodeAt(p)&&p+1<f){switch(d=d>-1?d:0,e.charCodeAt(p+1)){case 100:case 102:if(l>=c)break;if(null==n[l])break;d<p&&(u+=e.slice(d,p)),u+=Number(n[l]),d=p+2,p++;break;case 105:if(l>=c)break;if(null==n[l])break;d<p&&(u+=e.slice(d,p)),u+=Math.floor(Number(n[l])),d=p+2,p++;break;case 79:case 111:case 106:if(l>=c)break;if(void 0===n[l])break;d<p&&(u+=e.slice(d,p));var h=typeof n[l];if("string"===h){u+="'"+n[l]+"'",d=p+2,p++;break}if("function"===h){u+=n[l].name||"<anonymous>",d=p+2,p++;break}u+=i(n[l]),d=p+2,p++;break;case 115:if(l>=c)break;d<p&&(u+=e.slice(d,p)),u+=String(n[l]),d=p+2,p++;break;case 37:d<p&&(u+=e.slice(d,p)),u+="%",d=p+2,p++,l--}++l}++p}if(-1===d)return e;d<f&&(u+=e.slice(d));return u}},3431:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return y},__asyncGenerator:function(){return b},__asyncValues:function(){return x},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return E},__classPrivateFieldSet:function(){return I},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return d},__importDefault:function(){return C},__importStar:function(){return Z},__makeTemplateObject:function(){return k},__metadata:function(){return u},__param:function(){return c},__read:function(){return v},__rest:function(){return a},__spread:function(){return g},__spreadArrays:function(){return w},__values:function(){return h}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},32656:function(e,t,n){"use strict";var r=n(71157);e.exports=a;var i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},o={mapHttpRequest:h,mapHttpResponse:h,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:h,res:h,err:function(e){var t={type:e.constructor.name,msg:e.message,stack:e.stack};for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}};function a(e){(e=e||{}).browser=e.browser||{};var t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");var n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);var r=e.serializers||{},o=function(e,t){return Array.isArray(e)?e.filter((function(e){return"!stdSerializers.err"!==e})):!0===e&&Object.keys(t)}(e.browser.serialize,r),c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);"function"===typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");var d=e.level||"info",h=Object.create(n);h.log||(h.log=g),Object.defineProperty(h,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(h,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,s(v,h,"error","log"),s(v,h,"fatal","error"),s(v,h,"warn","error"),s(v,h,"info","log"),s(v,h,"debug","log"),s(v,h,"trace","log")}});var v={transmit:t,serialize:o,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:p(e)};return h.levels=a.levels,h.level=d,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=g,h.serializers=r,h._serialize=o,h._stdErrSerialize=c,h.child=function(n,i){if(!n)throw new Error("missing bindings for child Pino");i=i||{},o&&n.serializers&&(i.serializers=n.serializers);var a=i.serializers;if(o&&a){var s=Object.assign({},r,a),c=!0===e.browser.serialize?Object.keys(s):o;delete n.serializers,u([n],c,s,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.error=l(e,n,"error"),this.fatal=l(e,n,"fatal"),this.warn=l(e,n,"warn"),this.info=l(e,n,"info"),this.debug=l(e,n,"debug"),this.trace=l(e,n,"trace"),s&&(this.serializers=s,this._serialize=c),t&&(this._logEvent=f([].concat(e._logEvent.bindings,n)))}return d.prototype=this,new d(this)},t&&(h._logEvent=f()),h}function s(e,t,n,r){var o=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?g:o[n]?o[n]:i[n]||i[r]||g,function(e,t,n){if(!e.transmit&&t[n]===g)return;t[n]=(r=t[n],function(){for(var o=e.timestamp(),s=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this,f=0;f<s.length;f++)s[f]=arguments[f];if(e.serialize&&!e.asObject&&u(s,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?r.call(l,c(this,n,s,o)):r.apply(l,s),e.transmit){var p=e.transmit.level||t.level,h=a.levels.values[p],v=a.levels.values[n];if(v<h)return;d(this,{ts:o,methodLevel:n,methodValue:v,transmitLevel:p,transmitValue:a.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},s)}});var r}(e,t,n)}function c(e,t,n,i){e._serialize&&u(n,e._serialize,e.serializers,e._stdErrSerialize);var o=n.slice(),s=o[0],c={};i&&(c.time=i),c.level=a.levels.values[t];var l=1+(0|e._childLevel);if(l<1&&(l=1),null!==s&&"object"===typeof s){for(;l--&&"object"===typeof o[0];)Object.assign(c,o.shift());s=o.length?r(o.shift(),o):void 0}else"string"===typeof s&&(s=r(o.shift(),o));return void 0!==s&&(c.msg=s),c}function u(e,t,n,r){for(var i in e)if(r&&e[i]instanceof Error)e[i]=a.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i]))for(var o in e[i])t&&t.indexOf(o)>-1&&o in n&&(e[i][o]=n[o](e[i][o]))}function l(e,t,n){return function(){var r=new Array(1+arguments.length);r[0]=t;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return e[n].apply(this,r)}}function d(e,t,n){var r=t.send,i=t.ts,o=t.methodLevel,a=t.methodValue,s=t.val,c=e._logEvent.bindings;u(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter((function(e){return-1===c.indexOf(e)})),e._logEvent.level.label=o,e._logEvent.level.value=a,r(o,e._logEvent,s),e._logEvent=f(c)}function f(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function p(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?w:m}function h(){return{}}function v(e){return e}function g(){}function w(){return!1}function m(){return Date.now()}a.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},a.stdSerializers=o,a.stdTimeFunctions=Object.assign({},{nullTime:w,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},53752:function(e,t,n){"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function o(e){if(!i(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function a(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){o(e);var n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}n.d(t,{$h:function(){return s},eB:function(){return c},gk:function(){return o},k8:function(){return r},z3:function(){return a}})},16493:function(e,t,n){"use strict";n.d(t,{kb:function(){return v},l1:function(){return f},eV:function(){return h},GL:function(){return c},iA:function(){return l},O6:function(){return w},np:function(){return u},O0:function(){return p},Jq:function(){return s},hE:function(){return g}});var r=n(15671),i=n(43144),o="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,a=n(53752);function s(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function c(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function u(e,t){return e<<32-t|e>>>t}var l=function(){return 68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]}();function d(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function f(e){for(var t=0;t<e.length;t++)e[t]=d(e[t])}function p(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),(0,a.gk)(e),e}function h(){for(var e=0,t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];(0,a.gk)(n),e+=n.length}for(var r=new Uint8Array(e),i=0,o=0;i<arguments.length;i++){var s=i<0||arguments.length<=i?void 0:arguments[i];r.set(s,o),o+=s.length}return r}var v=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"clone",value:function(){return this._cloneInto()}}]),e}();function g(e){var t=function(t){return e().update(p(t)).digest()},n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=function(){return e()},t}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(o&&"function"===typeof o.getRandomValues)return o.getRandomValues(new Uint8Array(e));if(o&&"function"===typeof o.randomBytes)return o.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}}}]);
//# sourceMappingURL=3387.093cb6d2.chunk.js.map