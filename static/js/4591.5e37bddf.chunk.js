"use strict";(self.webpackChunkwallet_sign=self.webpackChunkwallet_sign||[]).push([[4591],{94591:function(e,t,a){a.r(t),a.d(t,{ccipRequest:function(){return S},offchainLookup:function(){return R},offchainLookupAbiItem:function(){return O},offchainLookupSignature:function(){return L}});var n=a(74165),r=a(29439),s=a(15861),c=a(85219),o=a(93433),u=a(43144),i=a(15671),l=a(60136),d=a(29388),f=a(63476),p=a(78075),h=a(47986),b=function(e){(0,l.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n,r=e.callbackSelector,s=e.cause,c=e.data,u=e.extraData,l=e.sender,d=e.urls;return(0,i.Z)(this,a),t.call(this,s.shortMessage||"An error occurred while fetching for an offchain result.",{cause:s,metaMessages:[].concat((0,o.Z)(s.metaMessages||[]),[null!==(n=s.metaMessages)&&void 0!==n&&n.length?"":[],"Offchain Gateway Call:",d&&["  Gateway URL(s):"].concat((0,o.Z)(d.map((function(e){return"    ".concat((0,h.G)(e))})))),"  Sender: ".concat(l),"  Data: ".concat(c),"  Callback selector: ".concat(r),"  Extra data: ".concat(u)]).flat(),name:"OffchainLookupError"})}return(0,u.Z)(a)}(p.G),k=function(e){(0,l.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n=e.result,r=e.url;return(0,i.Z)(this,a),t.call(this,"Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:["Gateway URL: ".concat((0,h.G)(r)),"Response: ".concat((0,f.P)(n))],name:"OffchainLookupResponseMalformedError"})}return(0,u.Z)(a)}(p.G),m=function(e){(0,l.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n=e.sender,r=e.to;return(0,i.Z)(this,a),t.call(this,"Reverted sender address does not match target contract address (`to`).",{metaMessages:["Contract address: ".concat(r),"OffchainLookup sender address: ".concat(n)],name:"OffchainLookupSenderMismatchError"})}return(0,u.Z)(a)}(p.G),y=a(79144),v=a(22947),w=a(72883),x=a(89378),g=a(30221),Z=a(11071),G=a(23447),L="0x556f1830",O={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};function R(e,t){return M.apply(this,arguments)}function M(){return(M=(0,s.Z)((0,n.Z)().mark((function e(t,a){var s,o,u,i,l,d,f,p,h,k,y,Z,L,R,M,T,C;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.blockNumber,o=a.blockTag,u=a.data,i=a.to,l=(0,v.p)({data:u,abi:[O]}),d=l.args,f=(0,r.Z)(d,5),p=f[0],h=f[1],k=f[2],y=f[3],Z=f[4],L=t.ccipRead,R=L&&"function"===typeof(null===L||void 0===L?void 0:L.request)?L.request:S,e.prev=5,(0,x.E)(i,p)){e.next=8;break}throw new m({sender:p,to:i});case 8:if(!h.includes(G.M)){e.next=14;break}return e.next=11,(0,G.w)({data:k,ccipRequest:R});case 11:e.t0=e.sent,e.next=17;break;case 14:return e.next=16,R({data:k,sender:p,urls:h});case 16:e.t0=e.sent;case 17:return M=e.t0,e.next=20,(0,c.R)(t,{blockNumber:s,blockTag:o,data:(0,g.zo)([y,(0,w.E)([{type:"bytes"},{type:"bytes"}],[M,Z])]),to:i});case 20:return T=e.sent,C=T.data,e.abrupt("return",C);case 25:throw e.prev=25,e.t1=e.catch(5),new b({callbackSelector:y,cause:e.t1,data:u,extraData:Z,sender:p,urls:h});case 28:case"end":return e.stop()}}),e,null,[[5,25]])})))).apply(this,arguments)}function S(e){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)((0,n.Z)().mark((function e(t){var a,r,s,c,o,u,i,l,d,p,h,b,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,r=t.sender,s=t.urls,c=new Error("An unknown error occurred."),o=0;case 3:if(!(o<s.length)){e.next=37;break}return u=s[o],i=u.includes("{data}")?"GET":"POST",l="POST"===i?{data:a,sender:r}:void 0,d="POST"===i?{"Content-Type":"application/json"}:{},e.prev=8,e.next=11,fetch(u.replace("{sender}",r.toLowerCase()).replace("{data}",a),{body:JSON.stringify(l),headers:d,method:i});case 11:if(h=e.sent,b=void 0,null===(p=h.headers.get("Content-Type"))||void 0===p||!p.startsWith("application/json")){e.next=19;break}return e.next=16,h.json();case 16:b=e.sent.data,e.next=22;break;case 19:return e.next=21,h.text();case 21:b=e.sent;case 22:if(h.ok){e.next=25;break}return c=new y.Gg({body:l,details:null!==(m=b)&&void 0!==m&&m.error?(0,f.P)(b.error):h.statusText,headers:h.headers,status:h.status,url:u}),e.abrupt("continue",34);case 25:if((0,Z.v)(b)){e.next=28;break}return c=new k({result:b,url:u}),e.abrupt("continue",34);case 28:return e.abrupt("return",b);case 31:e.prev=31,e.t0=e.catch(8),c=new y.Gg({body:l,details:e.t0.message,url:u});case 34:o++,e.next=3;break;case 37:throw c;case 38:case"end":return e.stop()}}),e,null,[[8,31]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=4591.5e37bddf.chunk.js.map